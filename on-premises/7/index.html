
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="IBM watsonx Code Assistant - Modernize Applications">
      
      
        <meta name="author" content="Christopher Bienko (cdbienko@us.ibm.com)">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.4.1">
    
    
      
        <title>7. Install watsonx Code Assistant - IBM watsonx Code Assistant - Modernize Applications</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.69437709.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings2.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings3.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings4.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings5.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings6.css">
    
      <link rel="stylesheet" href="../../css/print-site.css">
    
      <link rel="stylesheet" href="../../css/print-site-material.css">
    
      <link rel="stylesheet" href="../../styles/override-print.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#install-ibm-watsonx-code-assistanton-premises-installation-and-deployment" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="IBM watsonx Code Assistant - Modernize Applications" class="md-header__button md-logo" aria-label="IBM watsonx Code Assistant - Modernize Applications" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            IBM watsonx Code Assistant - Modernize Applications
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              7. Install watsonx Code Assistant
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="IBM watsonx Code Assistant - Modernize Applications" class="md-nav__button md-logo" aria-label="IBM watsonx Code Assistant - Modernize Applications" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    IBM watsonx Code Assistant - Modernize Applications
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          On-Premises Installation and Deployment
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="On-Premises Installation and Deployment" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          On-Premises Installation and Deployment
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../1/" class="md-nav__link">
        1. Objectives and requirements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../2/" class="md-nav__link">
        2. Reserve an environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../3/" class="md-nav__link">
        3. Bastion host setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../4/" class="md-nav__link">
        4. Cluster preparation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../5/" class="md-nav__link">
        5. Install prerequisite software
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../6/" class="md-nav__link">
        6. Install IBM Software Hub
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          7. Install watsonx Code Assistant
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        7. Install watsonx Code Assistant
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#i-user-responsibilities" class="md-nav__link">
    i. User responsibilities
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ii-system-requirements" class="md-nav__link">
    ii. System requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iii-deployment-checklist" class="md-nav__link">
    iii. Deployment checklist
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iv-fetching-dependencies" class="md-nav__link">
    iv. Fetching dependencies
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#v-installing-software" class="md-nav__link">
    v. Installing software
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vi-conclusion" class="md-nav__link">
    vi. Conclusion
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          IBM Cloud (SaaS) Configuration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="IBM Cloud (SaaS) Configuration" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          IBM Cloud (SaaS) Configuration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../saas/1/" class="md-nav__link">
        1. Objectives and requirements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../saas/2/" class="md-nav__link">
        2. Reserve an environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../saas/3/" class="md-nav__link">
        3. Configure for enterprise Java
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../saas/4/" class="md-nav__link">
        4. Install WCA extension for Visual Studio Code
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../saas/5/" class="md-nav__link">
        5. Install WCA plug-in for Eclipse IDE
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Application Modernization - WebSphere to Liberty
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Application Modernization - WebSphere to Liberty" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Application Modernization - WebSphere to Liberty
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../appmod/1/" class="md-nav__link">
        1. Objectives and requirements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../appmod/2/" class="md-nav__link">
        2. Basic migration capabilities
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../appmod/3/" class="md-nav__link">
        3. Configuration management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../appmod/4/" class="md-nav__link">
        4. APIs and libraries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../appmod/5/" class="md-nav__link">
        5. EJB modernization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../appmod/6/" class="md-nav__link">
        6. JMS integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../appmod/7/" class="md-nav__link">
        7. Security modernization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../appmod/8/" class="md-nav__link">
        8. Full stack modernization
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#i-user-responsibilities" class="md-nav__link">
    i. User responsibilities
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ii-system-requirements" class="md-nav__link">
    ii. System requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iii-deployment-checklist" class="md-nav__link">
    iii. Deployment checklist
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iv-fetching-dependencies" class="md-nav__link">
    iv. Fetching dependencies
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#v-installing-software" class="md-nav__link">
    v. Installing software
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vi-conclusion" class="md-nav__link">
    vi. Conclusion
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="install-ibm-watsonx-code-assistanton-premises-installation-and-deployment"><strong>Install IBM watsonx Code Assistant</strong></br><em>On-Premises Installation and Deployment</em></h1>
<div class="admonition quote">
<p>The following section is based off of IBM Documentation for <a href="https://www.ibm.com/docs/en/software-hub/5.1.x?topic=wca-installing" target="_blank"><strong>Installing watsonx Code Assistant v5.1.x</strong></a>.</p>
</div>
<h2 id="i-user-responsibilities"><strong>i. User responsibilities</strong></h2>
<p>Following the release of IBM Software Hub <code>v5.x</code>, watsonx Code Assistant (WCA) administrators need to only specify the <code>watsonx-code-assistant</code> component in order for the Software Hub to automatically fetch the required dependencies.</p>
<hr />
<p>To install WCA on-premises, you must be an <em>instance administrator</em> with permissions to install software in the following Red Hat OpenShift projects:</p>
<ul>
<li>
<p><strong>The <em>operators project</em> for the instance:</strong> Operators for this instance of WCA are installed in the <code>operators</code> project. In the installation commands, the <code>${PROJECT_CPD_INST_OPERATORS}</code> environment variable refers to the operators project.</p>
</li>
<li>
<p><strong>The <em>operands project</em> for the instance:</strong> The custom resources for the control plane and WCA are installed in the operands project. In the installation commands, the <code>${PROJECT_CPD_INST_OPERANDS}</code> environment variable refers to the operands project.</p>
</li>
</ul>
<h2 id="ii-system-requirements"><strong>ii. System requirements</strong></h2>
<p>Participants are encouraged to review the following requirements again before continuing with the install to verify that all the components are in place <em>and</em> to reinforce their understanding as to why such components are needed.</p>
<hr />
<p><strong>IBM SOFTWARE HUB VERSIONING</strong>
</br>
All of the components that are associated with an instance of IBM Software Hub must be installed at the same release version. For example, if the IBM Software Hub control plane is installed at <code>Version 5.1.0</code>, you must install WCA at <code>Version 5.1.0</code> as well.</p>
<p></br>
<strong>ENVIRONMENT VARIABLES</strong>
</br>
The commands in this task use environment variables so that you can run the commands exactly as written. In the case of this lab, those variables are defined within the <code>cpd_vars.sh</code> manifest that was created in <strong><a href="https://ibm.github.io/wca-l4/on-premises/3/" target="_blank">Module 3</a></strong>.</p>
<ul>
<li>
<p>If you want to read more about how to structure scripts like <code>cpd_vars.sh</code>, which define environment variables within a single source of truth, <a href="https://www.ibm.com/docs/en/SSNFH6_5.1.x/hub/install/collect-info-install-variables.html" target="_blank"><strong>review the IBM Documentation</strong></a>.</p>
</li>
<li>
<p>To use the environment variables from the script, you must source the environment variables before you run the commands in this task. For example, run:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nb">source</span> cpd_vars.sh
</code></pre></div></p>
</li>
</ul>
<p><strong>SECURITY CONTEXT CONSTRAINT</strong>
</br>
WCA works with the default Red Hat OpenShift® Container Platform security context constraint, <code>restricted-v2</code>.</p>
<p></br>
<strong>COMMON CORE SERVICES</strong>
</br>
WCA requires the availability of IBM Software Hub common core services. If the common core services are not installed in the <em>operands</em> project for the instance, the common core services are automatically installed when you install WCA. The common core services installation increases the amount of time the installation takes to complete.</p>
<p></br>
<strong>STORAGE</strong>
</br>
Storage classes must be specified ahead of time when installing WCA. The following storage classes are recommended. However, if you don't use these particular storage classes on future cluster deployments, ensure that you specify a storage class with an equivalent definition.</p>
<table>
<thead>
<tr>
<th>Storage</th>
<th>Notes</th>
<th>Storage Classes</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>OpenShift Data Foundation</strong></td>
<td>When you install the service, specify file storage and block storage.</td>
<td><strong>File storage:</strong> <code>ocs-storagecluster-cephfs</code></br><strong>Block storage:</strong> <code>ocs-storagecluster-ceph-rbd</code></td>
</tr>
<tr>
<td><strong>IBM Fusion Data Foundation</strong></td>
<td>When you install the service, specify file storage and block storage.</td>
<td><strong>File storage:</strong> <code>ocs-storagecluster-cephfs</code></br><strong>Block storage:</strong> <code>ocs-storagecluster-ceph-rbd</code></td>
</tr>
<tr>
<td><strong>IBM Fusion Global Data Platform</strong></td>
<td>When you install the service, specify the same storage class for both file storage and block storage.</td>
<td><strong>File storage:</strong> <code>ibm-spectrum-scale-sc</code> or <code>ibm-storage-fusion-cp-sc</code></br><strong>Block storage:</strong> <code>ibm-spectrum-scale-sc</code> or <code>ibm-storage-fusion-cp-sc</code></td>
</tr>
<tr>
<td><strong>IBM Storage Scale Container Native</strong></td>
<td>When you install the service, specify the same storage class for both file storage and block storage.</td>
<td><strong>File storage:</strong> <code>ibm-spectrum-scale-sc</code></br><strong>Block storage:</strong> <code>ibm-spectrum-scale-sc</code></td>
</tr>
<tr>
<td><strong>Portworx</strong></td>
<td>When you install the service, the <code>--storage_vendor=portworx</code> option ensures that the service uses the correct storage classes.</td>
<td><strong>File storage:</strong> <code>portworx-shared-gp3</code></br><strong>Block storage:</strong> <code>portworx-elastic-sc</code></td>
</tr>
<tr>
<td><strong>NFS</strong></td>
<td>When you install the service, specify the same storage class for both file storage and block storage.</td>
<td><strong>File storage:</strong> <code>managed-nfs-storage</code></br><strong>Block storage:</strong> <code>managed-nfs-storage</code></td>
</tr>
<tr>
<td><strong>Amazon Elastic storage</strong></td>
<td>When you install the service, specify file storage and block storage. File storage is provided by Amazon Elastic File System. Block storage is provided by Amazon Elastic Block Store.</td>
<td><strong>File storage:</strong> <code>efs-nfs-client</code></br><strong>Block storage:</strong> <code>gp2-csi</code> or <code>gp3-csi</code></td>
</tr>
<tr>
<td><strong>NetApp Trident</strong></td>
<td>When you install the service, specify the same storage class for both file storage and block storage.</td>
<td><strong>File storage:</strong> <code>ontap-nas</code></br><strong>Block storage:</strong> <code>ontap-nas</code></td>
</tr>
<tr>
<td><strong>Nutanix</strong></td>
<td>Not supported.</td>
<td>Not applicable.</td>
</tr>
</tbody>
</table>
<h2 id="iii-deployment-checklist"><strong>iii. Deployment checklist</strong></h2>
<p>To review, the following tasks need to be completed before installing WCA on-premises. The various modules of this hands-on lab have already covered those applicable to the environment you are about to deploy. However, keep this checklist handy for future deployments you will be making with clients and in the field.</p>
<table>
<thead>
<tr>
<th>Prerequisite</th>
<th>Documentation</th>
</tr>
</thead>
<tbody>
<tr>
<td>The cluster meets the minimum requirements for installing WCA.</td>
<td><a href="https://www.ibm.com/docs/en/SSNFH6_5.1.x/sys-reqs/overview-sys-reqs.html" target="_blank"><strong>System requirements</strong></a></td>
</tr>
<tr>
<td>The workstation from which you will run the installation is set up as a client workstation and includes the following command-line interfaces: IBM Software Hub CLI (<code>cpd-cli</code>) and OpenShift CLI (<code>oc</code>)</td>
<td><a href="https://www.ibm.com/docs/en/SSNFH6_5.1.x/hub/install/setup-client.html" target="_blank"><strong>Setting up a client workstation</strong></a></td>
</tr>
<tr>
<td>The IBM Software Hub control plane is installed.</td>
<td><a href="https://www.ibm.com/docs/en/SSNFH6_5.1.x/hub/install/install-platform.html" target="_blank"><strong>Installing an instance of IBM Software Hub</strong></a></td>
</tr>
<tr>
<td>For environments that use a private container registry, such as air-gapped environments, the WCA software images are mirrored to the private container registry.</td>
<td><a href="https://www.ibm.com/docs/en/SSNFH6_5.1.x/hub/install/prep-cluster-mirror.html" target="_blank"><strong>Mirroring images to a private container registry</strong></a></td>
</tr>
<tr>
<td>For environments that use a private container registry, such as air-gapped environments, the <code>cpd-cli</code> is configured to pull the <code>olm-utils-v3</code> image from the private container registry.</td>
<td><a href="https://www.ibm.com/docs/en/SSNFH6_5.1.x/hub/install/prep-cluster-move-cli-get-image.html" target="_blank"><strong>Pulling the olm-utils-v3 image from the private container registry</strong></a></td>
</tr>
<tr>
<td>The operators that are required to use GPUs are installed.</td>
<td><a href="https://www.ibm.com/docs/en/SSNFH6_5.1.x/hub/install/prep-cluster-node-gpu.html" target="_blank"><strong>Installing operators for services that require GPUs</strong></a></td>
</tr>
<tr>
<td>Red Hat OpenShift AI is installed.</td>
<td><a href="https://www.ibm.com/docs/en/SSNFH6_5.1.x/hub/install/prep-cluster-openshift-ai.html" target="_blank"><strong>Installing Red Hat OpenShift AI</strong></a></td>
</tr>
</tbody>
</table>
<h2 id="iv-fetching-dependencies"><strong>iv. Fetching dependencies</strong></h2>
<p>In the following section, participants will assume the role of an instance administrator and install WCA using the IBM Software Hub components set up in the previous module.</p>
<hr />
<ol>
<li>
<p>Apply the entitlement for WCA by <strong>executing</strong> the following code block:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>cpd-cli manage apply-entitlement <span class="se">\</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>--cpd_instance_ns<span class="o">=</span><span class="si">${</span><span class="nv">PROJECT_CPD_INST_OPERANDS</span><span class="si">}</span> <span class="se">\</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>--entitlement<span class="o">=</span>watsonx-code-assistant <span class="se">\</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>--production<span class="o">=</span><span class="nb">true</span>
</code></pre></div>
<div class="admonition warning">
<p>Completion of this operation will take approximately <strong>1 minute</strong>, after which the console will return:
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="o">[</span>SUCCESS<span class="o">]</span> <span class="m">2025</span>-03-19T23:02:06.847686Z You may find output and logs <span class="k">in</span> the &lt;REDACTED&gt; directory.
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="o">[</span>SUCCESS<span class="o">]</span> <span class="m">2025</span>-03-19T23:02:06.847741Z The apply-entitlement <span class="nb">command</span> ran successfully.
</code></pre></div></p>
</div>
</li>
</ol>
<hr />
<ol start="2">
<li>
<p>Now that the components have been defined, install the services Operators by <strong>executing</strong> the following code block:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>cpd-cli manage apply-olm <span class="se">\</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>--release<span class="o">=</span><span class="si">${</span><span class="nv">VERSION</span><span class="si">}</span> <span class="se">\</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>--cpd_operator_ns<span class="o">=</span><span class="si">${</span><span class="nv">PROJECT_CPD_INST_OPERATORS</span><span class="si">}</span> <span class="se">\</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>--components<span class="o">=</span><span class="si">${</span><span class="nv">COMPONENTS</span><span class="si">}</span> 
</code></pre></div>
<div class="admonition warning">
<p>Completion of this operation will take approximately <strong>15 minutes</strong>, after which the console will return:
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="o">[</span>SUCCESS<span class="o">]</span> <span class="m">2025</span>-03-19T23:16:42.690505Z You may find output and logs <span class="k">in</span> the &lt;REDACTED&gt; directory.
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="o">[</span>SUCCESS<span class="o">]</span> <span class="m">2025</span>-03-19T23:16:42.690774Z The apply-olm <span class="nb">command</span> ran successfully.
</code></pre></div></p>
</div>
<div class="admonition tip">
<p><strong>Record</strong> the final automation task performed just prior to (the line before) the two <code>[SUCCESS]</code> messages returned by the console. Save this information to a notepad for future reference.</p>
</div>
</li>
</ol>
<hr />
<h2 id="v-installing-software"><strong>v. Installing software</strong></h2>
<p>Creating the custom resources for watsonx Code Assistant and kicking off the installation process is achieved with relatively few inputs from the administrator, but will still require several hours to resolve.</p>
<hr />
<ol start="3">
<li>
<p>Start the installation process for WCA by executing the following code block:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>cpd-cli manage apply-cr <span class="se">\</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>--release<span class="o">=</span><span class="si">${</span><span class="nv">VERSION</span><span class="si">}</span> <span class="se">\</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>--cpd_instance_ns<span class="o">=</span><span class="si">${</span><span class="nv">PROJECT_CPD_INST_OPERANDS</span><span class="si">}</span> <span class="se">\</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>--components<span class="o">=</span><span class="si">${</span><span class="nv">COMPONENTS</span><span class="si">}</span> <span class="se">\</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>--block_storage_class<span class="o">=</span><span class="si">${</span><span class="nv">STG_CLASS_BLOCK</span><span class="si">}</span> <span class="se">\</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>--file_storage_class<span class="o">=</span><span class="si">${</span><span class="nv">STG_CLASS_FILE</span><span class="si">}</span> <span class="se">\</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>--license_acceptance<span class="o">=</span><span class="nb">true</span>
</code></pre></div>
<div class="admonition warning">
<p>Completion of this operation may take up to <strong>2 hours</strong>, after which the console will return:
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="o">[</span>SUCCESS<span class="o">]</span>... The apply-cr <span class="nb">command</span> ran successfully
</code></pre></div></p>
</div>
<details class="note">
<summary>TROUBLESHOOTING: CONNECTION TIMED OUT</summary>
<p>The time needed for the operation to complete means that participant's Terminal connections to the OCP cluster will likely time out (due to inactivity) before the installation and deployment have concluded. Do not worry - the installation will continue even if the SSH connection with Terminal is interrupted. To re-authenticate with the cluster, follow the <a href="https://ibm.github.io/wca-l4/on-premises/7/#vi-conclusion" target="_blank"><strong>Troubleshooting: Logging in and session timeouts</strong></a> instructions below.</p>
</details>
</li>
</ol>
<hr />
<ol start="4">
<li>
<p>Once the installation procedure of Step 3 has wrapped up, retrieve the details about the WCA instance by <strong>executing</strong> the following:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>cpd-cli manage get-cpd-instance-details <span class="se">\</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>--cpd_instance_ns<span class="o">=</span><span class="si">${</span><span class="nv">PROJECT_CPD_INST_OPERANDS</span><span class="si">}</span> <span class="se">\</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>--get_admin_initial_credentials<span class="o">=</span><span class="nb">true</span>
</code></pre></div>
<ul>
<li>The console will return multiple lines. Take note of the lines with headers <em>CPD Url</em>, <em>CPD Username</em>, and <em>CPD Password</em>. These have been highlighted in the code sample below.</li>
<li><strong>Copy</strong> the three variables from <em>your</em> Terminal's output to a notepad for reference later.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="o">[</span>INFO<span class="o">]</span> <span class="m">2025</span>-03-20T03:20:17.481851Z Run command: podman <span class="nb">exec</span> -it olm-utils-play-v3 get-cpd-instance-details --cpd_instance_ns<span class="o">=</span>cpd-watsonx --get_admin_initial_credentials<span class="o">=</span><span class="nb">true</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="hll">CPD Url: cpd-cpd-watsonx.apps.67da04cc1b2e441b1d48a668.ocp.techzone.ibm.com
</span><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="hll">CPD Username: cpadmin
</span><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="hll">CPD Password: xEhwFROJ5rAL4DZ3ggTNKzlREXDYDYHU
</span><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="o">[</span>SUCCESS<span class="o">]</span> <span class="m">2025</span>-03-20T03:20:18.949702Z You may find output and logs <span class="k">in</span> the &lt;REDACTED&gt; directory.
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="o">[</span>SUCCESS<span class="o">]</span> <span class="m">2025</span>-03-20T03:20:18.949759Z The get-cpd-instance-details <span class="nb">command</span> ran successfully.
</code></pre></div>
</li>
</ol>
<hr />
<ol start="5">
<li>
<p>Using a web browser, navigate to the address specified by <em>CPU Url</em>. A page will load for the Administration Console which allows administrators to manage both their IBM Software Hub (CP4D) and IBM watsonx Code Assistant environments.</p>
<ul>
<li>Supply the <em>CPD Username</em><sup>[A]</sup> and <em>CPD Password</em><sup>[B]</sup> values recorded in Step 4</li>
<li>Click <strong>Login in</strong><sup>[C]</sup> to proceed</li>
<li>The web browser will load the IBM Software Hub dashboard, from which a number of administrative and monitoring options are available for you to inspect</li>
</ul>
<p></br>
<a class="glightbox" href="../_attachments/onprem-7.5a.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-7.5a.png" /></a></p>
</li>
</ol>
<hr />
<ol start="6">
<li>
<p>Verify that the IBM watsonx Code Assistant service was successfully installed:</p>
<ul>
<li>From the dashboard's navigation menu, drill down into <strong>Services</strong> &gt; <strong>Services catalog</strong><sup>[A]</sup></li>
<li>Search for the <em>IBM watsonx Code Assistant</em> service tile and confirm it is marked with a status of <code>Enabled</code></li>
<li><strong>Click</strong><sup>[B]</sup> on the tile to preview the service</li>
<li>The web browser will load what essentially resembles the "catalog" view you might encounter on a online store portal such as IBM Cloud — this is <em>not</em> the administrative portal used for managing the WCA service</li>
</ul>
<p></br>
<a class="glightbox" href="../_attachments/onprem-7.5b.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-7.5b.png" /></a>
</br>
<a class="glightbox" href="../_attachments/onprem-7.6.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-7.6.png" /></a></p>
</li>
</ol>
<hr />
<ol start="7">
<li>
<p>To access the WCA management console, look to the top-right corner of the IBM Software Hub dashboard and <strong>click</strong><sup>[A]</sup> the rectangular-dot icon. This will allow you to toggle between the Software Hub and WCA administrative portals.</p>
<ul>
<li><strong>Click</strong><sup>[B]</sup> the <em>IBM watsonx Code Assistant</em> button to switch portals</li>
<li>The administrative portal for WCA will load within the web browser</li>
</ul>
<p></br>
<a class="glightbox" href="../_attachments/onprem-7.7a.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-7.7a.png" /></a>
</br>
<a class="glightbox" href="../_attachments/onprem-7.7b.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-7.7b.png" /></a></p>
</li>
</ol>
<h2 id="vi-conclusion"><strong>vi. Conclusion</strong></h2>
<p>Congratulations — you have successfully completed the installation of IBM watsonx Code Assistant within an on-premises environment!</br></br>Explore and inspect various aspects of the on-premises environment as you wish, but keep in mind that without GPUs attached to the environment you will be significantly restricted in terms of usability. Some features may be unavailable or broken without such hardware. That is why for the <strong><a href="https://ibm.github.io/wca-l4/appmod/1/" target="_blank">Application Modernization</a></strong> hands-on modules, you will have full GPU access via the provided IBM Cloud environments. Those modules will delve deeply into the administrative and developer-oriented tasks that are limited for the on-premises environment.</p>
<details class="warning">
<summary>GPUs NOT SUPPORTED FOR L4 ON-PREMISES DEPLOYMENTS</summary>
<p>Resource and budget constraints for IBM Technology Zone and the IBM Enablement teams means that GPUs are <strong>unavailable for the on-premises portion</strong> of the Level 4 curriculum.</p>
<p>The NVIDIA A100 or H100 GPUs required are simply too cost-prohibitive to be made available for individual IBMers and business partners. GPUs cannot be shared in a multi-tenant access pattern for IBM watsonx Code Assistant — and, as such, at minimum two cards would need to be made available for every L4 reservation. These costs are beyond the scope of what can be supported by this training.</p>
<p>Participants <strong><em>will</em> have access to GPUs for the IBM Cloud (SaaS) portion</strong> of the Level 4 curriculum.</p>
</details>
<details class="note">
<summary>TROUBLESHOOTING: LOGGING IN AND SESSION TIMEOUTS</summary>
<p>Be aware that SSH connections made over Terminal will time out after a long period of inactivity or due to a connection error. If you need to log back into the bastion terminal, follow the procedure below. Replace the <code>&lt;BASTION_PWD&gt;</code> placeholder with the password specific to <em>your</em> environment.</p>
<ol>
<li>
<p>Log back into the bastion node:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>ssh itzuser@api.67828ca5e432cac47ccc4230.ocp.techzone.ibm.com -p <span class="m">40222</span> &lt;BASTION_PWD&gt;
</code></pre></div>
</li>
<li>
<p>Engage the <code>sudo</code> (privileged access) session:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>sudo bash
</code></pre></div>
</li>
<li>
<p>Source the environment variables stored in <code>cpd_vars.sh</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="nb">source</span> cpd_vars.sh
</code></pre></div>
</li>
<li>
<p>Log back into OpenShift:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="si">${</span><span class="nv">OC_LOGIN</span><span class="si">}</span>
</code></pre></div>
</li>
<li>
<p>Log back into <code>cpd-cli</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="si">${</span><span class="nv">CPDM_OC_LOGIN</span><span class="si">}</span>
</code></pre></div>
</li>
</ol>
</details>




              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../6/" class="md-footer__link md-footer__link--prev" aria-label="Previous: 6. Install IBM Software Hub" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              6. Install IBM Software Hub
            </div>
          </div>
        </a>
      
      
        
        <a href="../../saas/1/" class="md-footer__link md-footer__link--next" aria-label="Next: 1. Objectives and requirements" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              1. Objectives and requirements
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 IBM
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "content.code.annotate", "content.code.copy", "content.code.select", "navigation.footer"], "search": "../../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.9c69f0bc.min.js"></script>
      
        <script src="../../js/print-site.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>