
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="IBM watsonx Code Assistant - Modernize Applications">
      
      
        <meta name="author" content="Christopher Bienko (cdbienko@us.ibm.com)">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.4.1">
    
    
      
        <title>5. Install prerequisite software - IBM watsonx Code Assistant - Modernize Applications</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.69437709.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings2.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings3.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings4.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings5.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings6.css">
    
      <link rel="stylesheet" href="../../css/print-site.css">
    
      <link rel="stylesheet" href="../../css/print-site-material.css">
    
      <link rel="stylesheet" href="../../styles/override-print.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#install-prerequisite-softwareon-premises-installation-and-deployment" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="IBM watsonx Code Assistant - Modernize Applications" class="md-header__button md-logo" aria-label="IBM watsonx Code Assistant - Modernize Applications" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            IBM watsonx Code Assistant - Modernize Applications
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              5. Install prerequisite software
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="IBM watsonx Code Assistant - Modernize Applications" class="md-nav__button md-logo" aria-label="IBM watsonx Code Assistant - Modernize Applications" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    IBM watsonx Code Assistant - Modernize Applications
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../toc/" class="md-nav__link">
        Table of Contents
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          On-Premises Installation and Deployment
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="On-Premises Installation and Deployment" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          On-Premises Installation and Deployment
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../1/" class="md-nav__link">
        1. Objectives and requirements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../2/" class="md-nav__link">
        2. Reserve an environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../3/" class="md-nav__link">
        3. Bastion host setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../4/" class="md-nav__link">
        4. Cluster preparation
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          5. Install prerequisite software
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        5. Install prerequisite software
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#i-install-the-red-hat-openshift-cert-manager" class="md-nav__link">
    i. Install the Red Hat OpenShift cert-manager
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ii-operators-for-gpus" class="md-nav__link">
    ii. Operators for GPUs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iii-install-the-node-feature-discovery-operator" class="md-nav__link">
    iii. Install the Node Feature Discovery Operator
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iv-install-the-nvidia-gpu-operator" class="md-nav__link">
    iv. Install the NVIDIA GPU Operator
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#v-install-red-hat-openshift-ai" class="md-nav__link">
    v. Install Red Hat OpenShift AI
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vi-next-steps" class="md-nav__link">
    vi. Next steps
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../6/" class="md-nav__link">
        6. Install IBM Software Hub
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../7/" class="md-nav__link">
        7. Install watsonx Code Assistant
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          IBM Cloud (SaaS) Configuration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="IBM Cloud (SaaS) Configuration" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          IBM Cloud (SaaS) Configuration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../saas/1/" class="md-nav__link">
        1. Objectives and requirements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../saas/2/" class="md-nav__link">
        2. Reserve an environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../saas/3/" class="md-nav__link">
        3. Configure for enterprise Java
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../saas/4/" class="md-nav__link">
        4. Install WCA extension for Visual Studio Code
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../saas/5/" class="md-nav__link">
        5. Install WCA plug-in for Eclipse IDE
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Application Modernization - WebSphere to Liberty
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Application Modernization - WebSphere to Liberty" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Application Modernization - WebSphere to Liberty
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../appmod/1/" class="md-nav__link">
        1. Objectives and requirements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../appmod/2/" class="md-nav__link">
        2. Basic migration capabilities
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../appmod/3/" class="md-nav__link">
        3. Configuration management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../appmod/4/" class="md-nav__link">
        4. APIs and libraries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../appmod/5/" class="md-nav__link">
        5. EJB modernization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../appmod/6/" class="md-nav__link">
        6. JMS integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../appmod/7/" class="md-nav__link">
        7. Security modernization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../appmod/8/" class="md-nav__link">
        8. Full stack modernization
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#i-install-the-red-hat-openshift-cert-manager" class="md-nav__link">
    i. Install the Red Hat OpenShift cert-manager
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ii-operators-for-gpus" class="md-nav__link">
    ii. Operators for GPUs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iii-install-the-node-feature-discovery-operator" class="md-nav__link">
    iii. Install the Node Feature Discovery Operator
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iv-install-the-nvidia-gpu-operator" class="md-nav__link">
    iv. Install the NVIDIA GPU Operator
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#v-install-red-hat-openshift-ai" class="md-nav__link">
    v. Install Red Hat OpenShift AI
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vi-next-steps" class="md-nav__link">
    vi. Next steps
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="install-prerequisite-softwareon-premises-installation-and-deployment"><strong>Install prerequisite software</strong></br><em>On-Premises Installation and Deployment</em></h1>
<div class="admonition quote">
<ul>
<li>Review the <a href="https://www.ibm.com/docs/en/software-hub/5.1.x?topic=cluster-installing-cert-manager-operator" target="_blank"><strong>latest documentation on IBM Software Hub</strong></a> to determine the appropriate version needed for your client opportunity and OpenShift cluster version.</li>
<li>The following module <a href="https://docs.redhat.com/en/documentation/openshift_container_platform/4.16/html/security_and_compliance/cert-manager-operator-for-red-hat-openshift#cert-manager-operator-install" target="_blank"><strong>follows the documentation</strong></a> for installing IBM Software Hub's <code>cert-manager-operator.v.13.0</code> for OpenShift Container Platform (OCP) v4.16.</li>
</ul>
</div>
<h2 id="i-install-the-red-hat-openshift-cert-manager"><strong>i. Install the Red Hat OpenShift cert-manager</strong></h2>
<p>After the release of <strong>IBM Software Hub</strong>, previous methods for installing IBM Cloud Pak for Data (CP4D) that relied on IBM Cert Manager are no longer required. IBM Software Hub is now the recommended path and will be the method adhered to in the following section.</p>
<hr />
<ol>
<li>
<p>First create the prerequisite project <em>namespace</em> by <strong>executing</strong> the following instruction:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>oc new-project cert-manager-operator
</code></pre></div>
<p><a class="glightbox" href="../_attachments/onprem-5.1.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-5.1.png" /></a></p>
</li>
</ol>
<hr />
<ol start="2">
<li>
<p>Afterwards, return to your web browser and open the <strong>OCP Dashboard</strong> (<a href="https://ibm.github.io/wca-l4/on-premises/2/#ii-accessing-the-cluster" target="_blank"><strong>Step 8 of Module 2</strong></a>).</p>
<p>From the left-hand navigation menu, navigate to <strong>Operators</strong> &gt; <strong>OperatorHub</strong><sup>[A]</sup>.</p>
<p></br>
<a class="glightbox" href="../_attachments/onprem-5.2.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-5.2.png" /></a></p>
</li>
</ol>
<hr />
<ol start="3">
<li>Into the filter box<sup>[B]</sup>, type <code>cert-manager Operator for Red Hat OpenShift</code> and <strong>click</strong><sup>[C]</sup> the filtered result with the same name.</li>
</ol>
<hr />
<ol start="4">
<li>
<p>From the configuration screen, select the following options:</p>
<ul>
<li><em>Channel</em><sup>[A]</sup> : <code>stable-v1.13</code></li>
<li><em>Version</em><sup>[B]</sup> : <code>1.13.0</code></li>
<li>When ready, click the blue <strong>Install</strong><sup>[C]</sup> button</li>
</ul>
<p></br>
<a class="glightbox" href="../_attachments/onprem-5.4.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" loading="lazy" src="../_attachments/onprem-5.4.png" width="400" /></a></p>
</li>
</ol>
<hr />
<ol start="5">
<li>
<p>A new page will load, summarizing the settings of the proposed Operator. Verify that the details are correct:</p>
<ul>
<li><em>Update channel</em><sup>[A]</sup> : <code>stable-v1.13</code></li>
<li><em>Version</em><sup>[B]</sup> : <code>1.13.0</code></li>
<li><em>Installation mode</em><sup>[C]</sup> : <code>A specific namespace on the cluster</code></li>
<li><em>Installed namespace</em><sup>[D]</sup> : <code>Operator recommended Namespace: cert-manager-operator</code></li>
<li><em>Update approval</em><sup>[E]</sup> : <code>Manual</code></li>
</ul>
<p></br>
When ready, scroll down to the bottom of the page and click the blue <strong>Install</strong><sup>[F]</sup> button. The page will refresh periodically as the Operator is installed on the cluster. This may take several minutes to complete.</p>
<ul>
<li>When prompted with a <em>Manual approval required</em> splashscreen, click <strong>Approve</strong><sup>[G]</sup></li>
<li>Wait until the page refreshes with the message <em>Installed operator: ready for use</em> and then click <strong>View Operator</strong><sup>[H]</sup> to view the finalized Operator</li>
</ul>
<p></br>
<a class="glightbox" href="../_attachments/onprem-5.5a.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-5.5a.png" /></a>
</br>
<a class="glightbox" href="../_attachments/onprem-5.5b.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-5.5b.png" /></a>
</br>
<a class="glightbox" href="../_attachments/onprem-5.5c.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-5.5c.png" /></a></p>
</li>
</ol>
<hr />
<ol start="6">
<li>
<p>You can also track the progress of the Operator installation by drilling down into <strong>Operators</strong> &gt; <strong>Installed Operators</strong> from the left-hand side of the OCP Dashboard. Scroll down until you locate the <code>cert-manager Operator for Red Hat OpenShift</code> entry in the table.</p>
<p></br>
Monitor the progress by observing changes to the fourth column of the table. <strong>Wait</strong> until Operator shows a status of <code>Succeeded</code>.</p>
</li>
</ol>
<hr />
<ol start="7">
<li>
<p>On the OCP Dashboard, make sure you are under the <strong>Operators</strong> &gt; <strong>Installed Operators</strong> view.</p>
<ul>
<li><strong>Click</strong> the title of the <code>cert-manager-Operator for Red Hat OpenShift</code> to open the details panel</li>
<li>From the tabs along the top of the page, click <strong>Subscription</strong><sup>[A]</sup></li>
<li>Under the <em>Subscription details</em> header, there are three panels: <em>Update channel</em>, <em>Update approval</em>, and <em>Update status</em></li>
<li>Click the hyperlinked <strong>1 requires approval</strong><sup>[B]</sup> text next to the <em>Update Status</em> panel</li>
</ul>
<p></br>
<a class="glightbox" href="../_attachments/onprem-5.7.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-5.7.png" /></a>
</br>
<a class="glightbox" href="../_attachments/onprem-5.7b.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-5.7b.png" /></a></p>
</li>
</ol>
<hr />
<ol start="8">
<li>
<p>A new page, <em>InstallPlan details</em> for <code>install-12xyz</code>, will load.</p>
<div class="admonition note">
<p>The string <code>12xyz</code> appended to <code>install-</code> is randomized. Your OCP <em>cert-manager</em> will have a unique name to the one in this example.</p>
</div>
<ul>
<li>Click the blue <strong>Preview InstallPlan</strong><sup>[A]</sup> button</li>
<li>When the panel refreshes, click the blue <strong>Approve</strong> button to begin updating to <code>v1.13.1</code></li>
<li>Wait for the status to the right of <code>install-12xyz</code> to read <code>Complete</code><sup>[B]</sup></li>
</ul>
<div class="admonition tip">
<p>After the status of the <code>install-12xyz</code> <em>InstallPlan</em> reads as <code>Complete</code>, the OCP dashboard will automatically refresh to display <code>cert-manager-operator.v1.13.1</code>'s multiple components and services. These can also be viewed again later by drilling down into <strong>Operators</strong> &gt; <strong>Installed Operators</strong> &gt; <strong>cert-manager-operator.v1.13.1</strong> from the left-hand interface.</p>
<p><strong>Record</strong> the <em>Name</em> of the component where the <em>Kind</em> value set to <code>ServiceAccount</code>. Save this information to a notepad for future reference.</p>
</div>
<p></br>
<a class="glightbox" href="../_attachments/onprem-5.8a.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-5.8a.png" /></a>
</br>
<a class="glightbox" href="../_attachments/onprem-5.8b.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-5.8b.png" /></a></p>
</li>
</ol>
<hr />
<ol start="9">
<li>
<p>From the left-hand navigation bar of the OCP Dashboard, once again navigate into <strong>Operators</strong> &gt; <strong>Installed Operators</strong> to watch the progress of the update. The <code>cert-manager Operator for Red Hat OpenShift</code> will show a <em>Status</em> of <code>Installing</code> while the update is underway. Wait until the status changes to <code>Succeeded</code><sup>[A]</sup>.</p>
<p></br>
<a class="glightbox" href="../_attachments/onprem-5.9.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-5.9.png" /></a></p>
</li>
</ol>
<hr />
<ol start="10">
<li>
<p><strong>Verify</strong> that <code>cert-manager</code> pods are up and running by executing the following command with your Terminal console:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>oc get pods -n cert-manager
</code></pre></div>
<p>The console should return output closely resembling the following:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>NAME                                       READY   STATUS    RESTARTS   AGE
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>cert-manager-bd7fbb9fc-wvbbt               <span class="m">1</span>/1     Running   <span class="m">0</span>          3m39s
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>cert-manager-cainjector-56cc5f9868-7g9z7   <span class="m">1</span>/1     Running   <span class="m">0</span>          4m5s
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>cert-manager-webhook-d4f79d7f7-9dg9w       <span class="m">1</span>/1     Running   <span class="m">0</span>          4m9s
</code></pre></div>
<p>At this point, the OpenShift <code>cert-manager</code> has been successfully deployed on the cluster.</p>
<p></br>
<a class="glightbox" href="../_attachments/onprem-5.10.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-5.10.png" /></a></p>
</li>
</ol>
<hr />
<h2 id="ii-operators-for-gpus"><strong>ii. Operators for GPUs</strong></h2>
<div class="admonition warning">
<p class="admonition-title">GPUs NOT SUPPORTED FOR L4 ON-PREMISES DEPLOYMENTS</p>
<p>Resource and budget constraints for IBM Technology Zone and the IBM Enablement teams means that GPUs are <strong>unavailable for the on-premises portion</strong> of the Level 4 curriculum.</p>
<p>The NVIDIA A100 or H100 GPUs required are simply too cost-prohibitive to be made available for individual IBMers and business partners. GPUs cannot be shared in a multi-tenant access pattern for IBM watsonx Code Assistant — and, as such, at minimum two cards would need to be made available for every L4 reservation. These costs are beyond the scope of what can be supported by this training.</p>
<p>Participants <strong><em>will</em> have access to GPUs for the IBM Cloud (SaaS) portion</strong> of the Level 4 curriculum.</p>
</div>
<p></br>
Although GPUs will not be available to deploy or interact with for the <em>On-Premises Installation and Deployment</em> L4 training modules, participants will still be able to practice and learn the skills needed to prepare a cluster for GPUs.</p>
<p>This section will cover all of the necessary configuration and setup required to make GPUs available to an IBM watsonx Code Assitant service — shy of actually getting to use the GPUs with the on-premises deployment. Participants will still be able to interact with GPU-powered instances in the latter IBM Cloud (SaaS) modules of the L4 curriculum.</p>
<p>Services such as IBM watsonx Code Assistant (on-premises), which requires access to GPUs, need to install several Operators on the OpenShift cluster to support the management of NVIDIA software components. Those components, in turn, are needed to integrate the GPUs for access by the cluster.</p>
<p>IBM watsonx Code Assistant requires that the following Operators be installed:
- <em>Node Feature Discovery Operator</em>: within the <code>openshift-nfd</code> namespace
- <em>NVIDIA GPU Operator</em>: within the <code>nvidia-gpu-operator</code> namespace
- <em>Red Hat OpenShift AI</em></p>
<hr />
<h2 id="iii-install-the-node-feature-discovery-operator"><strong>iii. Install the Node Feature Discovery Operator</strong></h2>
<div class="admonition note">
<p>The following section is based off a selection of the complete IBM Documentation available for <a href="https://www.ibm.com/docs/en/software-hub/5.1.x?topic=software-installing-operators-services-that-require-gpus" target="_blank"><strong>Installing operators for services that require GPUs</strong></a>.</p>
</div>
<p>The following section will provide the instructions necessary to replicate the procedure of integrating NVIDIA GPUs with the OCP cluster. <strong>Participants are welcome to practice this with the L4 environment provided</strong> — just be aware that no physical GPU hardware will be available or connected at the conclusion of these steps.</p>
<hr />
<ol start="11">
<li>
<p>Use a Terminal console to programmatically create a namespace <code>openshift-nfd</code> for the Node Feature Discovery (NDF) Operator. The following instruction set will create a namespace <strong>Custom Resource</strong> (CR) that defines the <code>openshift-ndf</code> namespace and then saves the YAML file to  <code>nfd-namespace.yaml</code>.</p>
<p>Copy and paste the following code block into the Terminal console, then hit <span class="keys"><kbd class="key-enter">Enter</kbd></span> :</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>oc apply -f - <span class="s">&lt;&lt;EOF </span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="s">apiVersion: v1</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="s">kind: Namespace</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="s">metadata:</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="s">    name: openshift-nfd</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="s">    labels:</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="s">        name: openshift-nfd</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="s">        openshift.io/cluster-monitoring: &quot;true&quot;</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="s">EOF</span>
</code></pre></div>
</li>
</ol>
<hr />
<ol start="12">
<li>
<p>Install the <strong>NDF Operator</strong> within the <code>openshift-nfd</code> namespace that was created in Step 11 by defining the following objects. This will create an OperatorGroup CR and subsequently save the YAML file to <code>operatorgroup.yaml</code>.</p>
<p>Copy and paste the following code block into the Terminal console, then hit <span class="keys"><kbd class="key-enter">Enter</kbd></span> :</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>oc apply -f - <span class="s">&lt;&lt;EOF</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="s">apiVersion: operators.coreos.com/v1</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="s">kind: OperatorGroup</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="s">metadata:</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="s">    generateName: openshift-nfd-</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="s">    name: openshift-nfd</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="s">    namespace: openshift-nfd</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="s">spec:</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="s">    targetNamespaces:</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="s">    - openshift-nfd</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="s">EOF</span>
</code></pre></div>
</li>
</ol>
<hr />
<ol start="13">
<li>
<p>Create a <strong>Subscription CR</strong> and save the YAML file to <code>nfd-sub.yaml</code>.</p>
<p>Copy and paste the following code block into the Terminal console, then hit <span class="keys"><kbd class="key-enter">Enter</kbd></span> :</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>oc apply -f - <span class="s">&lt;&lt;EOF</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="s">apiVersion: operators.coreos.com/v1alpha1</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="s">kind: Subscription</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="s">metadata:</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="s">    name: nfd</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="s">    namespace: openshift-nfd</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="s">spec:</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="s">    channel: &quot;stable&quot;</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="s">    installPlanApproval: Automatic</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="s">    name: nfd</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="s">    source: redhat-operators</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="s">    sourceNamespace: openshift-marketplace</span>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="s">EOF</span>
</code></pre></div>
</li>
</ol>
<hr />
<ol start="14">
<li>
<p>Check on the <strong>status</strong> of the OpenShift pods with the following command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>oc get pods -n openshift-nfd
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">TROUBLESHOOTING: No resources found in openshift-ndf namespace.</p>
<p>Initially, the console may return a response such as <code>No resources found in openshift-ndf namespace.</code></br>This likely is because the pod is still provisioning.</p>
</div>
<p><br/>
Use the OCP Dashboard to <strong>monitor</strong> the progress of the pod deployments:</p>
<ul>
<li>Return to the OCP Dashboard and navigate to <strong>Operators</strong> &gt; <strong>Installed Operators</strong><sup>[A]</sup></li>
<li>Within the table, look for a resource named <code>nfd</code><sup>[B]</sup></li>
<li>If the code from Step 13 was only recently executed, the <em>Managed Namespaces</em> of this resource may be showing as <code>None</code> and the <em>Status</em> as <code>Unknown</code><sup>[C]</sup></li>
<li>Wait a few moments (and refresh the page if you wish) until the <code>nfd</code> resource is replaced by <code>Node Feature Discovery Operator</code><sup>[D]</sup>, which should then belong to the <code>openshift-nfd</code> <em>Managed Namespace</em> and have a <code>Succeeded</code> <em>Status</em><sup>[E]</sup></li>
</ul>
<div class="admonition warning">
<p>This operation will take approximately <strong>2 minutes</strong> to complete. Wait and then <strong>execute</strong> the previous command from Step 14 a second time within the Terminal console. Observe the updated pod status. The console should report back the following to indicate that the Operator was successfully deployed:
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>NAME                                      READY   STATUS    RESTARTS   AGE
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>nfd-controller-manager-7f4c4cf577-wn96r   <span class="m">2</span>/2     Running   <span class="m">0</span>          3m10s
</code></pre></div></p>
</div>
<p></br>
<a class="glightbox" href="../_attachments/onprem-5.14a.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-5.14a.png" /></a>
</br>
<a class="glightbox" href="../_attachments/onprem-5.14b.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-5.14b.png" /></a></p>
</li>
</ol>
<hr />
<ol start="15">
<li>
<p>Create a <strong>NodeFeatureDiscovery CR</strong> and save the YAML file to <code>NodeFeatureDiscovery.yaml</code>.</p>
<p>Copy and paste the following code block into the Terminal console, then hit <span class="keys"><kbd class="key-enter">Enter</kbd></span> :</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>oc apply -f - <span class="s">&lt;&lt;EOF</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="s">apiVersion: nfd.openshift.io/v1</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="s">kind: NodeFeatureDiscovery</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="s">metadata:</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="s">    name: nfd-instance</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="s">    namespace: openshift-nfd</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="s">spec:</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="s">    instance: &quot;&quot; # instance is empty by default</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="s">    operand:</span>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="s">        image: registry.redhat.io/openshift4/ose-node-feature-discovery-rhel9:v4.16 </span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="s">        imagePullPolicy: Always</span>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="s">    workerConfig:</span>
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="s">        configData: |</span>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a><span class="s">            core:</span>
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="s">            #  labelWhiteList:</span>
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a><span class="s">            #  noPublish: false</span>
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a><span class="s">                sleepInterval: 60s</span>
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a><span class="s">            #  sources: [all]</span>
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a><span class="s">            #  klog:</span>
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a><span class="s">            #    addDirHeader: false</span>
<a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a><span class="s">            #    alsologtostderr: false</span>
<a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a><span class="s">            #    logBacktraceAt:</span>
<a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a><span class="s">            #    logtostderr: true</span>
<a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a><span class="s">            #    skipHeaders: false</span>
<a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a><span class="s">            #    stderrthreshold: 2</span>
<a id="__codelineno-8-26" name="__codelineno-8-26" href="#__codelineno-8-26"></a><span class="s">            #    v: 0</span>
<a id="__codelineno-8-27" name="__codelineno-8-27" href="#__codelineno-8-27"></a><span class="s">            #    vmodule:</span>
<a id="__codelineno-8-28" name="__codelineno-8-28" href="#__codelineno-8-28"></a><span class="s">            ##   NOTE: the following options are not dynamically run-time configurable</span>
<a id="__codelineno-8-29" name="__codelineno-8-29" href="#__codelineno-8-29"></a><span class="s">            ##         and require a nfd-worker restart to take effect after being changed</span>
<a id="__codelineno-8-30" name="__codelineno-8-30" href="#__codelineno-8-30"></a><span class="s">            #    logDir:</span>
<a id="__codelineno-8-31" name="__codelineno-8-31" href="#__codelineno-8-31"></a><span class="s">            #    logFile:</span>
<a id="__codelineno-8-32" name="__codelineno-8-32" href="#__codelineno-8-32"></a><span class="s">            #    logFileMaxSize: 1800</span>
<a id="__codelineno-8-33" name="__codelineno-8-33" href="#__codelineno-8-33"></a><span class="s">            #    skipLogHeaders: false</span>
<a id="__codelineno-8-34" name="__codelineno-8-34" href="#__codelineno-8-34"></a><span class="s">            sources:</span>
<a id="__codelineno-8-35" name="__codelineno-8-35" href="#__codelineno-8-35"></a><span class="s">                cpu:</span>
<a id="__codelineno-8-36" name="__codelineno-8-36" href="#__codelineno-8-36"></a><span class="s">                    cpuid:</span>
<a id="__codelineno-8-37" name="__codelineno-8-37" href="#__codelineno-8-37"></a><span class="s">                        # NOTE: whitelist has priority over blacklist</span>
<a id="__codelineno-8-38" name="__codelineno-8-38" href="#__codelineno-8-38"></a><span class="s">                        attributeBlacklist:</span>
<a id="__codelineno-8-39" name="__codelineno-8-39" href="#__codelineno-8-39"></a><span class="s">                            - &quot;BMI1&quot;</span>
<a id="__codelineno-8-40" name="__codelineno-8-40" href="#__codelineno-8-40"></a><span class="s">                            - &quot;BMI2&quot;</span>
<a id="__codelineno-8-41" name="__codelineno-8-41" href="#__codelineno-8-41"></a><span class="s">                            - &quot;CLMUL&quot;</span>
<a id="__codelineno-8-42" name="__codelineno-8-42" href="#__codelineno-8-42"></a><span class="s">                            - &quot;CMOV&quot;</span>
<a id="__codelineno-8-43" name="__codelineno-8-43" href="#__codelineno-8-43"></a><span class="s">                            - &quot;CX16&quot;</span>
<a id="__codelineno-8-44" name="__codelineno-8-44" href="#__codelineno-8-44"></a><span class="s">                            - &quot;ERMS&quot;</span>
<a id="__codelineno-8-45" name="__codelineno-8-45" href="#__codelineno-8-45"></a><span class="s">                            - &quot;F16C&quot;</span>
<a id="__codelineno-8-46" name="__codelineno-8-46" href="#__codelineno-8-46"></a><span class="s">                            - &quot;HTT&quot;</span>
<a id="__codelineno-8-47" name="__codelineno-8-47" href="#__codelineno-8-47"></a><span class="s">                            - &quot;LZCNT&quot;</span>
<a id="__codelineno-8-48" name="__codelineno-8-48" href="#__codelineno-8-48"></a><span class="s">                            - &quot;MMX&quot;</span>
<a id="__codelineno-8-49" name="__codelineno-8-49" href="#__codelineno-8-49"></a><span class="s">                            - &quot;MMXEXT&quot;</span>
<a id="__codelineno-8-50" name="__codelineno-8-50" href="#__codelineno-8-50"></a><span class="s">                            - &quot;NX&quot;</span>
<a id="__codelineno-8-51" name="__codelineno-8-51" href="#__codelineno-8-51"></a><span class="s">                            - &quot;POPCNT&quot;</span>
<a id="__codelineno-8-52" name="__codelineno-8-52" href="#__codelineno-8-52"></a><span class="s">                            - &quot;RDRAND&quot;</span>
<a id="__codelineno-8-53" name="__codelineno-8-53" href="#__codelineno-8-53"></a><span class="s">                            - &quot;RDSEED&quot;</span>
<a id="__codelineno-8-54" name="__codelineno-8-54" href="#__codelineno-8-54"></a><span class="s">                            - &quot;RDTSCP&quot;</span>
<a id="__codelineno-8-55" name="__codelineno-8-55" href="#__codelineno-8-55"></a><span class="s">                            - &quot;SGX&quot;</span>
<a id="__codelineno-8-56" name="__codelineno-8-56" href="#__codelineno-8-56"></a><span class="s">                            - &quot;SSE&quot;</span>
<a id="__codelineno-8-57" name="__codelineno-8-57" href="#__codelineno-8-57"></a><span class="s">                            - &quot;SSE2&quot;</span>
<a id="__codelineno-8-58" name="__codelineno-8-58" href="#__codelineno-8-58"></a><span class="s">                            - &quot;SSE3&quot;</span>
<a id="__codelineno-8-59" name="__codelineno-8-59" href="#__codelineno-8-59"></a><span class="s">                            - &quot;SSE4.1&quot;</span>
<a id="__codelineno-8-60" name="__codelineno-8-60" href="#__codelineno-8-60"></a><span class="s">                            - &quot;SSE4.2&quot;</span>
<a id="__codelineno-8-61" name="__codelineno-8-61" href="#__codelineno-8-61"></a><span class="s">                            - &quot;SSSE3&quot;</span>
<a id="__codelineno-8-62" name="__codelineno-8-62" href="#__codelineno-8-62"></a><span class="s">                        attributeWhitelist:</span>
<a id="__codelineno-8-63" name="__codelineno-8-63" href="#__codelineno-8-63"></a><span class="s">                    kernel:</span>
<a id="__codelineno-8-64" name="__codelineno-8-64" href="#__codelineno-8-64"></a><span class="s">                        kconfigFile: &quot;/path/to/kconfig&quot;</span>
<a id="__codelineno-8-65" name="__codelineno-8-65" href="#__codelineno-8-65"></a><span class="s">                        configOpts:</span>
<a id="__codelineno-8-66" name="__codelineno-8-66" href="#__codelineno-8-66"></a><span class="s">                            - &quot;NO_HZ&quot;</span>
<a id="__codelineno-8-67" name="__codelineno-8-67" href="#__codelineno-8-67"></a><span class="s">                            - &quot;X86&quot;</span>
<a id="__codelineno-8-68" name="__codelineno-8-68" href="#__codelineno-8-68"></a><span class="s">                            - &quot;DMI&quot;</span>
<a id="__codelineno-8-69" name="__codelineno-8-69" href="#__codelineno-8-69"></a><span class="s">                    pci:</span>
<a id="__codelineno-8-70" name="__codelineno-8-70" href="#__codelineno-8-70"></a><span class="s">                        deviceClassWhitelist:</span>
<a id="__codelineno-8-71" name="__codelineno-8-71" href="#__codelineno-8-71"></a><span class="s">                            - &quot;0200&quot;</span>
<a id="__codelineno-8-72" name="__codelineno-8-72" href="#__codelineno-8-72"></a><span class="s">                            - &quot;03&quot;</span>
<a id="__codelineno-8-73" name="__codelineno-8-73" href="#__codelineno-8-73"></a><span class="s">                            - &quot;12&quot;</span>
<a id="__codelineno-8-74" name="__codelineno-8-74" href="#__codelineno-8-74"></a><span class="s">                        deviceLabelFields:           </span>
<a id="__codelineno-8-75" name="__codelineno-8-75" href="#__codelineno-8-75"></a><span class="s">                            - &quot;class&quot;</span>
<a id="__codelineno-8-76" name="__codelineno-8-76" href="#__codelineno-8-76"></a><span class="s">                            - &quot;vendor&quot;</span>
<a id="__codelineno-8-77" name="__codelineno-8-77" href="#__codelineno-8-77"></a><span class="s">EOF</span>
</code></pre></div>
</li>
</ol>
<hr />
<ol start="16">
<li>
<p>As before, check on the <strong>status</strong> of the OpenShift pods with the following command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>oc get pods -n openshift-nfd
</code></pre></div>
<div class="admonition warning">
<p>This operation will take approximately <strong>1 minutes</strong> to complete. Wait until all pods return a status of <code>Running</code> before continuing to Step 17.</p>
</div>
<p><a class="glightbox" href="../_attachments/onprem-5.16.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-5.16.png" /></a></p>
</li>
</ol>
<hr />
<h2 id="iv-install-the-nvidia-gpu-operator"><strong>iv. Install the NVIDIA GPU Operator</strong></h2>
<div class="admonition note">
<p>The following section is based off a selection of the complete NVIDIA Corporation documentation for <a href="https://docs.nvidia.com/datacenter/cloud-native/openshift/24.9.1/install-gpu-ocp.html" target="_blank"><strong>Installing the NVIDIA GPU Operator on OpenShift</strong></a>.</p>
</div>
<hr />
<ol start="17">
<li>
<p><strong>Create</strong> the <code>nvidia-gpu-operator</code> namespace by executing the following code block with a Terminal console:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>oc apply -f - <span class="s">&lt;&lt;EOF</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="s">apiVersion: v1</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="s">kind: Namespace</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="s">metadata:</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="s">    name: nvidia-gpu-operator</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="s">EOF</span>
</code></pre></div>
</li>
</ol>
<hr />
<ol start="18">
<li>
<p>Define the <strong>OperatorGroup</strong> within the same namespace:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>oc apply -f - <span class="s">&lt;&lt;EOF</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="s">apiVersion: operators.coreos.com/v1</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="s">kind: OperatorGroup</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="s">metadata:</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="s">    name: nvidia-gpu-operator-group</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="s">    namespace: nvidia-gpu-operator</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="s">spec:</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="s">    targetNamespaces:</span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="s">    - nvidia-gpu-operator</span>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="s">EOF</span>
</code></pre></div>
</li>
</ol>
<hr />
<ol start="19">
<li>
<p><strong>Execute</strong> the following code block within a Terminal console to get the channel version (required for Step 20), as well as create the <code>gpu-operator-certified</code> Operator within the <code>nvidia-gpu-operator</code> namespace:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="nb">export</span> <span class="nv">CHANNEL</span><span class="o">=</span><span class="k">$(</span> oc get packagemanifest gpu-operator-certified -n openshift-marketplace -o <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">&#39;{.status.defaultChannel}&#39;</span> <span class="p">;</span> <span class="nb">echo</span><span class="k">)</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="nb">export</span> <span class="nv">CURRENT_CSV</span><span class="o">=</span><span class="k">$(</span> oc get packagemanifests/gpu-operator-certified -n openshift-marketplace -ojson <span class="p">|</span> jq -r <span class="s1">&#39;.status.channels[] | select(.name == &quot;&#39;</span><span class="nv">$CHANNEL</span><span class="s1">&#39;&quot;) | .currentCSV&#39;</span> <span class="p">;</span> <span class="nb">echo</span><span class="k">)</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>oc apply -f - <span class="s">&lt;&lt;EOF</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="s">apiVersion: operators.coreos.com/v1alpha1</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="s">kind: Subscription</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="s">metadata:</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="s">    name: gpu-operator-certified</span>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="s">    namespace: nvidia-gpu-operator</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="s">spec:</span>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="s">    channel: &quot;${CHANNEL}&quot;</span>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="s">    installPlanApproval: Manual</span>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="s">    name: gpu-operator-certified</span>
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a><span class="s">    source: certified-operators</span>
<a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="s">    sourceNamespace: openshift-marketplace</span>
<a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a><span class="s">    startingCSV: &quot;${CURRENT_CSV}&quot;</span>
<a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a><span class="s">EOF</span>
</code></pre></div>
</li>
</ol>
<hr />
<ol start="20">
<li>
<p><strong>Execute</strong> the following command to verify the status of the install plan:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>oc get installplan -n nvidia-gpu-operator
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">TROUBLESHOOTING: No resources found in nvidia-gpu-operator namespace.</p>
<p>The <code>nvidia-gpu-operator</code> namespace is still being deployed.</br><strong>Wait</strong> for 1 minute and then try executing <em>Step 20</em> again.</p>
</div>
<p></br>
The console will return a statement that Operator's <em>APPROVAL</em> status is currently set to <code>Manual</code> and incomplete (<em>APPROVED</em> state is set to <code>false</code>).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>NAME            CSV                              APPROVAL   APPROVED
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>install-4rq4j   gpu-operator-certified.v24.9.2   Manual     <span class="nb">false</span>
</code></pre></div>
<p></br>
Therefore, you will need to approve the install plan by <strong>executing</strong> the following command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="nb">export</span> <span class="nv">INSTALL_PLAN</span><span class="o">=</span><span class="k">$(</span>oc get installplan -n nvidia-gpu-operator -oname<span class="k">)</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>oc patch <span class="nv">$INSTALL_PLAN</span> -n nvidia-gpu-operator --type merge --patch <span class="s1">&#39;{&quot;spec&quot;:{&quot;approved&quot;:true }}&#39;</span>
</code></pre></div>
<p><a class="glightbox" href="../_attachments/onprem-5.20a.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-5.20a.png" /></a></p>
<p></br>
Return to the OCP Dashboard and drill down into <strong>Operators</strong> &gt; <strong>Installed Operators</strong> to monitor the progress of the update. Wait until the <code>NVIDIA GPU Operator</code><sup>[A]</sup> appears in the table with <em>Status</em> set to <code>Succeeded</code> before continuing.</p>
<p></br>
<a class="glightbox" href="../_attachments/onprem-5.20b.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-5.20b.png" /></a></p>
</li>
</ol>
<hr />
<ol start="21">
<li>
<p>Create a <strong>ClusterPolicy</strong> by executing the following instructions:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>oc get csv -n nvidia-gpu-operator <span class="si">${</span><span class="nv">CURRENT_CSV</span><span class="si">}</span> -ojsonpath<span class="o">={</span>.metadata.annotations.alm-examples<span class="o">}</span> <span class="p">|</span> jq .<span class="o">[</span><span class="m">0</span><span class="o">]</span> &gt; clusterpolicy.json
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>oc apply -f clusterpolicy.json
</code></pre></div>
<div class="admonition tip">
<p><strong>Record</strong> the status message returned by the console to a notepad for reference later.</p>
</div>
</li>
</ol>
<hr />
<ol start="22">
<li>
<p>Check the status of the pods. If GPUs are detected within the cluster, they will be included in the read-out. As the Level 4 demonstration environment is not equipped with GPU hardware, no GPU resources will be discovered by the <code>oc get</code> command.</p>
<p><strong>Execute</strong> the following command with the Terminal console:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>oc get pods -n nvidia-gpu-operator
</code></pre></div>
</li>
</ol>
<hr />
<h2 id="v-install-red-hat-openshift-ai"><strong>v. Install Red Hat OpenShift AI</strong></h2>
<div class="admonition note">
<p>The following steps are extracted from the complete documentation available from IBM Documentation for <a href="https://www.ibm.com/docs/en/software-hub/5.1.x?topic=software-installing-red-hat-openshift-ai" target="_blank"><strong>Installing Red Hat OpenShift AI</strong></a>.</p>
</div>
<p>IBM watsonx Code Assistant (on-premises) requires installation and configuration of <strong>Red Hat OpenShift AI</strong> on the OCP cluster. In the following section, you will:</p>
<ul>
<li>Install the Operator for Red Hat OpenShift AI (v2.13)</li>
<li>Create a <em>DSCInitialization</em> instance</li>
<li>Create a <em>DataScienceCluster</em> instance</li>
<li>Edit the model inferencing configuration</li>
</ul>
<hr />
<ol start="23">
<li>
<p>Create the <code>redhat-ods-operator</code> <strong>Project</strong> on the OCP cluster with the following command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>oc new-project redhat-ods-operator
</code></pre></div>
</li>
</ol>
<hr />
<ol start="24">
<li>
<p>Define the <code>rhods-operator</code> <strong>Operator Group</strong> within the project defined in Step 23:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>cat <span class="s">&lt;&lt;EOF |oc apply -f -</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="s">apiVersion: operators.coreos.com/v1</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="s">kind: OperatorGroup</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="s">metadata:</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="s">    name: rhods-operator</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="s">    namespace: redhat-ods-operator</span>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="s">EOF</span>
</code></pre></div>
</li>
</ol>
<hr />
<ol start="25">
<li>
<p>Create the <strong>Operator Subscription</strong> for <code>rhods-operator</code> within the same project:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>cat <span class="s">&lt;&lt;EOF |oc apply -f -</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="s">apiVersion: operators.coreos.com/v1alpha1</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="s">kind: Subscription</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="s">metadata:</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="s">    name: rhods-operator</span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="s">    namespace: redhat-ods-operator</span>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="s">spec:</span>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="s">    name: rhods-operator</span>
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="s">    channel: stable-2.13</span>
<a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="s">    source: redhat-operators</span>
<a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="s">    sourceNamespace: openshift-marketplace</span>
<a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a><span class="s">    config:</span>
<a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a><span class="s">        env:</span>
<a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a><span class="s">            - name: &quot;DISABLE_DSC_CONFIG&quot;</span>
<a id="__codelineno-20-15" name="__codelineno-20-15" href="#__codelineno-20-15"></a><span class="s">EOF</span>
</code></pre></div>
<div class="admonition warning">
<p>This operation will take approximately <strong>5 minutes</strong> to complete. Return to the OCP Dashboard and drill down into <strong>Operators</strong> &gt; <strong>Installed Operators</strong> to monitor the progress of the <em>Red Hat OpenShift AI</em><sup>[A]</sup> Operator deployment.</p>
</div>
<p></br>
<a class="glightbox" href="../_attachments/onprem-5.25.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-5.25.png" /></a></p>
</li>
</ol>
<hr />
<ol start="26">
<li>
<p>Create a <strong>DSCInitialization</strong> object <code>default-dsci</code> in <code>redhat-ods-monitoring</code> project:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>cat <span class="s">&lt;&lt;EOF |oc apply -f -</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="s">apiVersion: dscinitialization.opendatahub.io/v1</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="s">kind: DSCInitialization</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="s">metadata:</span>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="s">    name: default-dsci</span>
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="s">spec:</span>
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="s">    applicationsNamespace: redhat-ods-applications</span>
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="s">    monitoring:</span>
<a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="s">        managementState: Managed</span>
<a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a><span class="s">        namespace: redhat-ods-monitoring</span>
<a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="s">    serviceMesh:</span>
<a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a><span class="s">        managementState: Removed</span>
<a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a><span class="s">    trustedCABundle:</span>
<a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a><span class="s">        managementState: Managed</span>
<a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a><span class="s">        customCABundle: &quot;&quot;</span>
<a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a><span class="s">EOF</span>
</code></pre></div>
<p></br>
<strong>Monitor</strong> the progress of the <em>DSCInitialization</em> object by executing the following command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>oc get dscinitialization
</code></pre></div>
<div class="admonition warning">
<p>This operation will take approximately <strong>2 minutes</strong> to complete. <strong>Wait</strong> for the <em>DSCInitialization</em> object (<code>dscinitialization</code>) to return a <code>Ready</code> status before continuing on to Step 27.</p>
</div>
</li>
</ol>
<hr />
<ol start="27">
<li>
<p>Create a <strong>DataScienceCluster</strong> object named <code>default-dsc</code> within the same project:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>cat <span class="s">&lt;&lt;EOF |oc apply -f -</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="s">apiVersion: datasciencecluster.opendatahub.io/v1</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="s">kind: DataScienceCluster</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="s">metadata:</span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="s">    name: default-dsc</span>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="s">spec:</span>
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="s">    components:</span>
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="s">        codeflare:</span>
<a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="s">            managementState: Removed</span>
<a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a><span class="s">        dashboard:</span>
<a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a><span class="s">            managementState: Removed</span>
<a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a><span class="s">        datasciencepipelines:</span>
<a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="s">            managementState: Removed</span>
<a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a><span class="s">        kserve:</span>
<a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a><span class="s">            managementState: Managed</span>
<a id="__codelineno-23-16" name="__codelineno-23-16" href="#__codelineno-23-16"></a><span class="s">            defaultDeploymentMode: RawDeployment</span>
<a id="__codelineno-23-17" name="__codelineno-23-17" href="#__codelineno-23-17"></a><span class="s">            serving:</span>
<a id="__codelineno-23-18" name="__codelineno-23-18" href="#__codelineno-23-18"></a><span class="s">                managementState: Removed</span>
<a id="__codelineno-23-19" name="__codelineno-23-19" href="#__codelineno-23-19"></a><span class="s">                name: knative-serving</span>
<a id="__codelineno-23-20" name="__codelineno-23-20" href="#__codelineno-23-20"></a><span class="s">        kueue:</span>
<a id="__codelineno-23-21" name="__codelineno-23-21" href="#__codelineno-23-21"></a><span class="s">            managementState: Removed</span>
<a id="__codelineno-23-22" name="__codelineno-23-22" href="#__codelineno-23-22"></a><span class="s">        modelmeshserving:</span>
<a id="__codelineno-23-23" name="__codelineno-23-23" href="#__codelineno-23-23"></a><span class="s">            managementState: Removed</span>
<a id="__codelineno-23-24" name="__codelineno-23-24" href="#__codelineno-23-24"></a><span class="s">        ray:</span>
<a id="__codelineno-23-25" name="__codelineno-23-25" href="#__codelineno-23-25"></a><span class="s">            managementState: Removed</span>
<a id="__codelineno-23-26" name="__codelineno-23-26" href="#__codelineno-23-26"></a><span class="s">        trainingoperator:</span>
<a id="__codelineno-23-27" name="__codelineno-23-27" href="#__codelineno-23-27"></a><span class="s">            managementState: Managed</span>
<a id="__codelineno-23-28" name="__codelineno-23-28" href="#__codelineno-23-28"></a><span class="s">        trustyai:</span>
<a id="__codelineno-23-29" name="__codelineno-23-29" href="#__codelineno-23-29"></a><span class="s">            managementState: Removed</span>
<a id="__codelineno-23-30" name="__codelineno-23-30" href="#__codelineno-23-30"></a><span class="s">        workbenches:</span>
<a id="__codelineno-23-31" name="__codelineno-23-31" href="#__codelineno-23-31"></a><span class="s">            managementState: Removed</span>
<a id="__codelineno-23-32" name="__codelineno-23-32" href="#__codelineno-23-32"></a><span class="s">EOF</span>
</code></pre></div>
<p></br>
The <em>Red Hat OpenShift AI Operator</em> automatically installs and manages services that are listed as <code>Managed</code>. Services with a status of <code>Removed</code> are ignored and will not be installed.</p>
<div class="admonition warning">
<p>This operation will take approximately <strong>2-3 minutes</strong> to complete.</p>
</div>
</li>
</ol>
<hr />
<ol start="28">
<li>
<p><strong>Execute</strong> the following instruction to check the status of pods within the <code>redhat-ods-applications</code> project:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>oc get pods -n redhat-ods-applications
</code></pre></div>
<div class="admonition warning">
<p>If no pods are detected, wait an additional <strong>3 minutes</strong> and try again. Confirm that <strong>ALL FIVE</strong> of the following pods are deployed with a <code>Running</code> status before continuing to <em>Step 29</em>.
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>NAME                                          READY   STATUS    RESTARTS   AGE
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>kserve-controller-manager-7b745757cb-wx7qc    <span class="m">1</span>/1     Running   <span class="m">0</span>          42s
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>kubeflow-&lt;REDACTED&gt;-659b5dcb99-5t8vt          <span class="m">1</span>/1     Running   <span class="m">0</span>          56s
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>odh-model-controller-b774fb859-2b4b4          <span class="m">1</span>/1     Running   <span class="m">0</span>          117s
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>odh-model-controller-b774fb859-4gxhv          <span class="m">1</span>/1     Running   <span class="m">0</span>          117s
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a>odh-model-controller-b774fb859-fpnrl          <span class="m">1</span>/1     Running   <span class="m">0</span>          117s
</code></pre></div></p>
</div>
<div class="admonition tip">
<p><strong>Record</strong> the full name of the <code>kubeflow-...</code> pod to a notepad for reference later.</p>
</div>
</li>
</ol>
<hr />
<ol start="29">
<li>
<p>Edit the <code>inferenceservice-config</code> configuration map within the <code>redhat-ods-applications</code> project. This is best achieved by using the OCP Dashboard via a web browser.</p>
<ul>
<li>From the OCP Dashboard, navigate into <strong>Workloads</strong> &gt; <strong>Configmaps</strong><sup>[A]</sup></li>
<li>From the <em>Project</em><sup>[B]</sup> drop-down list, select <code>redhat-ods-applications</code><sup>[C]</sup></li>
<li>Click the <code>inferenceservice-config</code> resource<sup>[D]</sup> and open the <strong>YAML</strong> tab<sup>[E]</sup></li>
<li>In the <code>metadata.annotations</code> section<sup>[F]</sup> (Lines 4-5) of the file, add a new Line 8<sup>[G]</sup> which reads <code>opendatahub.io/managed: 'false'</code> </li>
<li><strong>Do not</strong> save the changes yet (there are more changes in <em>Step 30</em> to perform before saving the YAML file)</li>
<li>The resulting YAML file should resemble the following:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="nt">metadata</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="nt">annotations</span><span class="p">:</span><span class="w"></span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="w">    </span><span class="nt">internal.config.kubernetes.io/previousKinds</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ConfigMap</span><span class="w"></span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="w">    </span><span class="nt">internal.config.kubernetes.io/previousNames</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">inferenceservice-config</span><span class="w"></span>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="w">    </span><span class="nt">internal.config.kubernetes.io/previousNamespaces</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">opendatahub</span><span class="w"></span>
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="hll"><span class="w">    </span><span class="nt">opendatahub.io/managed</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;false&#39;</span><span class="w"></span>
</span></code></pre></div>
<p></br>
<a class="glightbox" href="../_attachments/onprem-5.29a.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-5.29a.png" /></a>
</br>
<a class="glightbox" href="../_attachments/onprem-5.29b.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-5.29b.png" /></a>
</br>
<a class="glightbox" href="../_attachments/onprem-5.29c.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-5.29c.png" /></a>
</br>
<a class="glightbox" href="../_attachments/onprem-5.29d.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-5.29d.png" /></a></p>
</li>
</ol>
<hr />
<ol start="30">
<li>
<p>Within the same YAML file, look for Line 379 under the <em>ingress</em> section<sup>[A]</sup>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="s">&quot;domainTemplate&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;{</span><span class="nv"> </span><span class="s">.Name</span><span class="nv"> </span><span class="s">}-{</span><span class="nv"> </span><span class="s">.Namespace</span><span class="nv"> </span><span class="s">}.{</span><span class="nv"> </span><span class="s">.IngressDomain</span><span class="nv"> </span><span class="s">}&quot;</span><span class="err">,</span><span class="w"></span>
</code></pre></div>
<p><strong>Replace</strong> Line 379 with the following (be sure to include the last <code>,</code> character)<sup>[B]</sup>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="s">&quot;domainTemplate&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;example.com&quot;</span><span class="err">,</span><span class="w"></span>
</code></pre></div>
<p>Click <strong>Save</strong><sup>[C]</sup> (bottom-left) to finalize the changes to the YAML file. If prompted with a <em>Managed resource</em> warning, click <strong>Save</strong><sup>[D]</sup> again to confirm.</p>
<div class="admonition tip">
<p>Copy and paste the full contents of the <code>inferenceservice-config</code> YAML file to a text editor.</p>
<ul>
<li><strong>Search</strong> for the the following: <code>datasciencecluster</code></li>
<li><strong>Record</strong> the full value of the <code>apiVersion:</code> attribute containing this value and save the information to a notepad for reference later.</li>
</ul>
</div>
<p></br>
<a class="glightbox" href="../_attachments/onprem-5.30a.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-5.30a.png" /></a>
</br>
<a class="glightbox" href="../_attachments/onprem-5.30b.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-5.30b.png" /></a>
</br>
<a class="glightbox" href="../_attachments/onprem-5.30c.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/onprem-5.30c.png" /></a></p>
</li>
</ol>
<hr />
<h2 id="vi-next-steps"><strong>vi. Next steps</strong></h2>
<p>At this stage, all of the necessary prerequisites have been installed and you are ready to begin installation of an IBM Software Hub instance on the OCP cluster.</p>
<details class="note">
<summary>TROUBLESHOOTING: LOGGING IN AND SESSION TIMEOUTS</summary>
<p>Be aware that SSH connections made over Terminal will time out after a long period of inactivity or due to a connection error. If you need to log back into the bastion terminal, follow the procedure below. Replace the <code>&lt;BASTION_PWD&gt;</code> placeholder with the password specific to <em>your</em> environment.</p>
<ol>
<li>
<p>Log back into the bastion node:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>ssh itzuser@api.67828ca5e432cac47ccc4230.ocp.techzone.ibm.com -p <span class="m">40222</span> &lt;BASTION_PWD&gt;
</code></pre></div>
</li>
<li>
<p>Engage the <code>sudo</code> (privileged access) session:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>sudo bash
</code></pre></div>
</li>
<li>
<p>Source the environment variables stored in <code>cpd_vars.sh</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="nb">source</span> cpd_vars.sh
</code></pre></div>
</li>
<li>
<p>Log back into OpenShift:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="si">${</span><span class="nv">OC_LOGIN</span><span class="si">}</span>
</code></pre></div>
</li>
<li>
<p>Log back into <code>cpd-cli</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="si">${</span><span class="nv">CPDM_OC_LOGIN</span><span class="si">}</span>
</code></pre></div>
</li>
</ol>
</details>




              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../4/" class="md-footer__link md-footer__link--prev" aria-label="Previous: 4. Cluster preparation" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              4. Cluster preparation
            </div>
          </div>
        </a>
      
      
        
        <a href="../6/" class="md-footer__link md-footer__link--next" aria-label="Next: 6. Install IBM Software Hub" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              6. Install IBM Software Hub
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 IBM
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "content.code.annotate", "content.code.copy", "content.code.select", "navigation.footer"], "search": "../../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.9c69f0bc.min.js"></script>
      
        <script src="../../js/print-site.js"></script>
      
        <script src="../../_static/hide-toc-nav.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>