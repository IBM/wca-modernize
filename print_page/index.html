
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="IBM watsonx Code Assistant - Modernize Applications">
      
      
        <meta name="author" content="Christopher Bienko (cdbienko@us.ibm.com)">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.4.1">
    
    
      
        <title>IBM watsonx Code Assistant Level 4 Lab Guide - IBM watsonx Code Assistant - Modernize Applications</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.69437709.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/print-site-enum-headings2.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings3.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings4.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings5.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings6.css">
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
      <link rel="stylesheet" href="../styles/override-print.css">
    
    <script>__md_scope=new URL("/",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  
        <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function () {
            remove_material_navigation();remove_mkdocs_theme_navigation();
        })
        </script>
        </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#toc" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="IBM watsonx Code Assistant - Modernize Applications" class="md-header__button md-logo" aria-label="IBM watsonx Code Assistant - Modernize Applications" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            IBM watsonx Code Assistant - Modernize Applications
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              IBM watsonx Code Assistant Level 4 Lab Guide
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="IBM watsonx Code Assistant - Modernize Applications" class="md-nav__button md-logo" aria-label="IBM watsonx Code Assistant - Modernize Applications" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    IBM watsonx Code Assistant - Modernize Applications
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../toc/" class="md-nav__link">
        Table of Contents
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          IBM Cloud (SaaS) Configuration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="IBM Cloud (SaaS) Configuration" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          IBM Cloud (SaaS) Configuration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../saas/1/" class="md-nav__link">
        1. Objectives and requirements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../saas/2/" class="md-nav__link">
        2. Reserve an environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../saas/3/" class="md-nav__link">
        3. Configure for enterprise Java
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../saas/4/" class="md-nav__link">
        4. Install WCA extension for Visual Studio Code
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../saas/5/" class="md-nav__link">
        5. Install WCA plug-in for Eclipse IDE
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Application Modernization - WebSphere to Liberty
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Application Modernization - WebSphere to Liberty" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Application Modernization - WebSphere to Liberty
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../appmod/1/" class="md-nav__link">
        1. Objectives and requirements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../appmod/2/" class="md-nav__link">
        2. Basic migration capabilities
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../appmod/3/" class="md-nav__link">
        3. Configuration management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../appmod/4/" class="md-nav__link">
        4. APIs and libraries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../appmod/5/" class="md-nav__link">
        5. EJB modernization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../appmod/6/" class="md-nav__link">
        6. JMS integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../appmod/7/" class="md-nav__link">
        7. Security modernization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../appmod/8/" class="md-nav__link">
        8. Full stack modernization
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#toc" class="md-nav__link">
    Table of Contents
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-ibm-cloud-saas-configuration" class="md-nav__link">
    IBM Cloud (SaaS) Configuration
  </a>
  
    <nav class="md-nav" aria-label="IBM Cloud (SaaS) Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#saas-1" class="md-nav__link">
    1. Objectives and requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#saas-2" class="md-nav__link">
    2. Reserve an environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#saas-3" class="md-nav__link">
    3. Configure for enterprise Java
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#saas-4" class="md-nav__link">
    4. Install WCA extension for Visual Studio Code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#saas-5" class="md-nav__link">
    5. Install WCA plug-in for Eclipse IDE
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-application-modernization-websphere-to-liberty" class="md-nav__link">
    Application Modernization - WebSphere to Liberty
  </a>
  
    <nav class="md-nav" aria-label="Application Modernization - WebSphere to Liberty">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#appmod-1" class="md-nav__link">
    1. Objectives and requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#appmod-2" class="md-nav__link">
    2. Basic migration capabilities
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#appmod-3" class="md-nav__link">
    3. Configuration management
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#appmod-4" class="md-nav__link">
    4. APIs and libraries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#appmod-5" class="md-nav__link">
    5. EJB modernization
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#appmod-6" class="md-nav__link">
    6. JMS integration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#appmod-7" class="md-nav__link">
    7. Security modernization
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#appmod-8" class="md-nav__link">
    8. Full stack modernization
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<div id="print-site-page" class=""><section class="print-page" id="toc"><!-- toc-page -->
<style>
  @media screen {
    .md-main__inner {
      display: none !important;
    }

    .md-header,
    .md-footer,
    .md-sidebar {
      display: none !important;
    }
  }

  @media print {
    h2 {
      page-break-before: auto !important;
    }
  }
</style>

<h1 id="toc-table-of-contents"><strong>Table of Contents</strong></h1>
<h2 id="toc-introduction">Introduction</h2>
<ul>
<li><a href="#.">1. Welcome</a></li>
<li><a href="#.">2. Disclaimer</a></li>
<li><a href="#.">3. Generative AI opportunity</a></li>
<li><a href="#.">4. WCA portfolio</a></li>
<li><a href="#.">5. Curriculum</a></li>
</ul>
<h2 id="toc-ibm-cloud-saas-configuration">IBM Cloud (SaaS) Configuration</h2>
<ul>
<li><a href="#saas-1">1. Objectives and requirements</a></li>
<li><a href="#saas-2">2. Reserve an environment</a></li>
<li><a href="#saas-3">3. Configure for enterprise Java</a></li>
<li><a href="#saas-4">4. Install WCA extension for Visual Studio Code</a></li>
<li><a href="#saas-5">5. Install WCA plug-in for Eclipse IDE</a></li>
</ul>
<h2 id="toc-application-modernization-websphere-to-liberty">Application Modernization - WebSphere to Liberty</h2>
<ul>
<li><a href="#appmod-1">1. Objectives and requirements</a></li>
<li><a href="#appmod-2">2. Basic migration capabilities</a></li>
<li><a href="#appmod-3">3. Configuration management</a></li>
<li><a href="#appmod-4">4. APIs and libraries</a></li>
<li><a href="#appmod-5">5. EJB modernization</a></li>
<li><a href="#appmod-6">6. JMS integration</a></li>
<li><a href="#appmod-7">7. Security modernization</a></li>
<li><a href="#appmod-8">8. Full stack modernization</a></li>
</ul></section><section class="print-page" id="index"><h1 id="index-ibm-watsonx-code-assistantmodernize-applications"><strong>IBM watsonx Code Assistant</strong></br><em>Modernize Applications</em></h1>
<h2 id="index-i-introduction"><strong>i. Introduction</strong></h2>
<hr />
<p>The curriculum of <strong>IBM watsonx Code Assistant: Modernize Applications</strong> is designed to teach IBM technical sellers and business partners on how to best plan, execute on, and deploy <strong>IBM watsonx Code Assistant</strong>. Level 4 learning plans assume that participants have the technical background and proficiency to demonstrate a product or solution to a client, as well as a deep level of understanding for how it can help the client achieve their business goals. Level 4 learning plans are the next logical learning step that goes beyond the demonstrations covered in the Level 3 learning. In keeping with the offering's hybrid cloud architecture, this will encompass deployments both on-premises and for Software-as-a-Service (SaaS) cloud.</p>
<p>The "Practitioners" (Deploy) coursework extensively covers deployment of the service for both on-premises and IBM Cloud environments. Before taking this course, those enrolling should have earned the <strong><a href="https://www.credly.com/org/ibm/badge/watsonx-code-assistant-sales-foundation" target="_blank">watsonx Code Assistant Sales Foundation</a></strong> badge and the <strong><a href="https://www.credly.com/org/ibm/badge/watsonx-code-assistant-technical-sales-intermediate" target="_blank">watsonx Code Assistant Technical Sales Intermediate</a></strong> badge, and have the technical background and proficiency at giving hands-on demos to clients.</p>
<h2 id="index-ii-disclaimer"><strong>ii. Disclaimer</strong></h2>
<hr />
<p><em>© IBM Corporation 2025. All Rights Reserved.</em></p>
<p>IBM’s statements regarding its plans, directions and intent are subject to change or withdrawal without notice at IBM’s sole discretion. Information regarding potential future products is intended to outline our general product direction and it should not be relied on in making a purchasing decision. The information mentioned regarding potential future products is not a commitment, promise, or legal obligation to deliver any material, code or functionality. Information about potential future products may not be incorporated into any contract. The development, release, and timing of any future features or functionality described for our products remains at our sole discretion.</p>
<p>References in this documentation to IBM products, programs, or services do not imply that they will be available in all countries in which IBM operates. Product release dates and/or capabilities referenced in this presentation may change at any time at IBM’s sole discretion based on market opportunities or other factors and are not intended to be a commitment to future product or feature availability in any way. Nothing contained in these materials is intended to, nor shall have the effect of, stating or implying that any activities undertaken by you will result in any specific sales, revenue growth, or other results. </p>
<p>All client examples described are presented as illustrations of how those clients have used IBM products and the results they may have achieved. Actual environmental costs and performance characteristics may vary by client.</p>
<h2 id="index-iii-generative-ai-opportunity"><strong>iii. Generative AI opportunity</strong></h2>
<hr />
<p>Two years ago, it would have been difficult to imagine the tremendous pace of development in domains like large language models (LLMs) and generative AI (gen AI). Ten years ago, these technologies were largely relegated to the areas of academic research and science fiction speculation. Today, they are propelling the next wave of productivity for businesses and their workforce.</p>
<p>Such rapid advances in so short a span of time are fueling ever-increasing excitement. As every industry and enterprise grapples with these changes, it's clear that gen AI brings new opportunities, poses new challenges, and necessitates innovation.</p>
<hr />
<p><a class="glightbox" href="../_attachments/intro-1.3.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/intro-1.3.png" /></a></p>
<div class="admonition note">
<ol>
<li><strong>Opportunity:</strong> <em>4.4 trillion in productivity: Economic Potential of generative AI, McKinsey, June 2023</em>: <a href="https://www.mckinsey.com/capabilities/mckinsey-digital/our-insights/the-economic-potential-of-generative-ai-the-next-productivity-frontier">LINK</a></li>
<li><strong>Challenges:</strong> <em>2.4x annual increase in training costs: Cottier et al, The rising costs of training frontier AI models, May 2024</em>: <a href="https://arxiv.org/abs/2405.21015">LINK</a></li>
<li><strong>Innovation:</strong> <em>1/3 of interactions with Gen AI services will invoke action models or agents by 2028: Gartner press release, March 2024</em>: <a href="https://www.gartner.com/en/newsroom/press-releases/2024-03-11-gartner-predicts-one-third-of-interactions-with-genai-services-will-use-action-models-and-autonomous-agents-for-task-completion-by-2028">LINK</a></li>
</ol>
</div>
<p></br>
In terms of opportunity, McKinsey predicts that gen AI could add up to $4.4 trillion USD in value to global corporate profits annually. Doing so, however, will require business leaders to find the right answers to serious challenges: for example, how to mitigate the ballooning costs for training frontier AI models, which in 2025 is rising at a rate of 2.4X each year? In the face of these opportunities and challenges, humanity's innovative spirit is driving the greatest change: as AI advances from models, to assistants, to autonomous AI agents. In just a few years, Gartner predicts that one-third of all interactions with gen AI will be facilitated through the use of agents.</p>
<p>Combined, gen AI and application modernization fuel a virtuous cycle of increased agility and revenue growth. This dynamic blend has the power to enable a Chief Information Officer to greet key modernization challenges with unprecedented confidence.</p>
<hr />
<p><a class="glightbox" href="../_attachments/intro-1.4.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/intro-1.4.png" /></a></p>
<div class="admonition note">
<ol>
<li><strong>The CEO’s guide to generative AI and application modernization</strong>: <em>IBM Institute for Business Value, 15 August 2023</em>: <a href="https://www.ibm.com/thought-leadership/institute-business-value/en-us/report/ceo-generative-ai/application-modernization">LINK</a></li>
</ol>
</div>
<p></br>  <br />
79% of responding executives to an IBM Institute for Business Value study said that using gen AI in application modernization projects will increase their overall business agility.</p>
<p>Integrating existing systems with modern applications creates perpetual challenges for an IT organization. Adapting and applying gen AI to tackle modernization challenges can help simplify the entire application modernization journey, accelerating how quickly businesses achieve these goals. Through gen AI-powered code conversion, code generation, code reverse engineering, and transformation planning, IBM clients have seen first-hand how they are able to address common modernization challenges, improve employee productivity, and reduce their costs.</p>
<hr />
<p><a class="glightbox" href="../_attachments/intro-1.5.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/intro-1.5.png" /></a></p>
<div class="admonition note">
<ol>
<li><strong>IDC</strong>: <em>AI Coding Assistants for Application Modernization and IT Automation (March 2024)</em></li>
<li><strong>IDC</strong>: <em>Market Note, 1 Billion New Logical Applications (April 2024)</em>: <a href="https://www.idc.com/getdoc.jsp?containerId=US51953724">LINK</a></li>
</ol>
</div>
<p>When technical debt accumulates across various aspects of your IT infrastructure, such as code, architecture and documentation, identifying, prioritizing, and resolving the complexities can become a Herculean task. This is simply no longer the case with gen AI. When a company uses it to take on technical debt, they can accomplish tasks and achieve outcomes that were otherwise impossible. Enterprise-grade AI provides capabilities that improve issue classification, generate code for issue resolution and set up context-sensitive automation, significantly cutting down the time that developers spend fixing code.</p>
<p>With AI-enabled automation, developers can also reduce the time they spend provisioning cloud infrastructure, applying patches, and performing maintenance. From implementing faster code debugging and enabling better document generation to driving automation efforts, gen AI is designed to help reduce your technical debt and accelerate your modernization efforts one prompt at a time.</p>
<p>In the era of gen AI, executives and business leaders recognize the tremendous potential this technology has for modernizing their services, their ways of working with applications and data, and their workforce. According to International Data Corporation (IDC), 83% of these executives agree that modernization of cumbersome, legacy applications is central to remaining competitive in their marketplace, and therefore critical to their business strategy.</p>
<p>But while the vast majority of businesses recognize the imperative of modernizing applications and their workforce, only 27% of those companies have successfully modernized their workflows – leaving an untapped market of 73% that have yet to modernize such workflows. It turns out that changing patterns of work, IT culture, and the software development lifecycle are much more demanding tasks than anticipated. </p>
<p>As these companies look to modernize legacy applications using gen AI, they are in parallel tapping into the technology’s tremendous potential to speed up delivery of new applications and rapidly churn out new code. The result has been a proliferation of net-new and ever-growing applications — which the IDC anticipates will exceed one billion new applications by 2028. The result of this will be more code bases that enterprise organizations need to maintain and modernize; more applications that they will need to support and secure; and ultimately, an ever-increasing amount of technical debt that these organizations will accrue.</p>
<p>To succeed, gen AI and coding assistants must be able to go beyond writing code — they need to support the entirety of code lifecycle management.</p>
<h2 id="index-iv-wca-portfolio"><strong>iv. WCA portfolio</strong></h2>
<hr />
<p><strong>IBM watsonx Code Assistant</strong> is the flagship offering in a suite of gen AI code assistant products, which also include:</p>
<ul>
<li><strong>IBM watsonx Code Assistant for Z</strong> for IBM Z code modernization</li>
<li><strong>IBM watsonx Code Assistant for Red Hat Ansible Lightspeed</strong> for Red Hat Ansible Automation Platform (AAP) and YAML-based Playbooks</li>
<li><strong>IBM watsonx Code Assistant for i</strong> <em>coming soon in 2025</em> for RPG-based application code modernization</li>
</ul>
<p>The WCA portfolio accelerates Software Development Lifecycle (SDLC) tasks with AI-powered capabilities including context-aware code generation, explanation, documentation, translation, and unit test generation. It does so while maintaining the principles of trust, security, and compliance with regards to IBM client's data and intellectual property (IP).</p>
<hr />
<p><a class="glightbox" href="../_attachments/intro-1.1.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/intro-1.1.png" /></a></p>
<div class="admonition note">
<p>WCA offerings are powered by IBM Granite foundation models that include state-of-the-art LLMs designed for code. For offerings such as <em>WCA for Ansible Lightspeed</em> and <em>WCA for Z</em>, bespoke code models— tailored to working with Ansible Automation Platform and COBOL-to-Z use cases, respectively —are invoked.</p>
</div>
<p></br>
Universally true for all of the WCA offerings is that they are geared towards helping IT teams create high-quality code using AI-generated recommendations, based on natural language requests or existing source code. These AI models, and the recommendations they generate, are seamlessly integrated via extensions with the world's most popular integrated development environments (IDEs) – including Visual Studio Code and Eclipse.</p>
<hr />
<p><a class="glightbox" href="../_attachments/intro-1.2.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/intro-1.2.png" /></a></p>
<div class="admonition note">
<p>The portfolio of solutions under the <em>IBM watsonx Code Assistant</em> family is expansive in terms of capabilities and the types of use cases that can be addressed. Aligning the best-fit solution to the appropriate use cases, languages, applications, and infrastructure is critical for every business.</p>
</div>
<p></br></p>
<p>IBM watsonx Code Assistant supports over 115 different programming languages for code. In particular, languages and formats such as Java, C, JSON, JavaScript, HTML, and PHP are subjects in which WCA “Majors” and excels. Other languages such as Ruby, SQL, and Swift could be considered “Minors” where the generalized code model can work with the language, but has less training data to base those recommendations on. These percentages and training data volumes will continue to evolve as the Granite code models mature.</p>
<p>WCA is available via Software-as-a-Service (SaaS) consumption on cloud <em>and</em> deployable on-premises, which is a unique differentiator over other gen AI code solutions in the marketplace.</p>
<h2 id="index-v-curriculum"><strong>v. Curriculum</strong></h2>
<hr />
<p>The curriculum for the Level 4 hands-on labs is segmented across 3 chapters, each containing multiple modules that address topics of on-premises cluster deployments, configuration of Software-as-a-Service (SaaS) deployments on cloud, and modernization of legacy WebSphere Application Server code into WebSphere Liberty.</p>
<table>
<thead>
<tr>
<th>CHAPTER</th>
<th>MODULES</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://ibm.github.io/wca-l4/saas/1/" target="_blank"><strong>IBM Cloud (SaaS) Configuration</strong></a></td>
<td><a href="https://ibm.github.io/wca-l4/saas/1/" target="_blank">1. Objectives and requirements</a></br><a href="https://ibm.github.io/wca-l4/saas/2/" target="_blank">2. Reserve an environment</a></br><a href="https://ibm.github.io/wca-l4/saas/3/" target="_blank">3. Configure the Java environment</a></br><a href="https://ibm.github.io/wca-l4/saas/4/" target="_blank">4. Install VS Code extension</a></br><a href="https://ibm.github.io/wca-l4/saas/5/" target="_blank">5. Install Eclipse plug-in</a></td>
</tr>
<tr>
<td><a href="https://ibm.github.io/wca-l4/appmod/1/" target="_blank"><strong>Application Modernization - WebSphere to Liberty</strong></a></td>
<td><a href="https://ibm.github.io/wca-l4/appmod/1/" target="_blank">1. Objectives and requirements</a></br><a href="https://ibm.github.io/wca-l4/appmod/2/" target="_blank">2. Basic migration capabilities</a></br><a href="https://ibm.github.io/wca-l4/appmod/3/" target="_blank">3. Configuration management</a></br><a href="https://ibm.github.io/wca-l4/appmod/4/" target="_blank">4. APIs and libraries</a></br><a href="https://ibm.github.io/wca-l4/appmod/5/" target="_blank">5. EJB modernization</a></br><a href="https://ibm.github.io/wca-l4/appmod/6/" target="_blank">6. JMS integration</a></br><a href="https://ibm.github.io/wca-l4/appmod/7/" target="_blank">7. Security modernization</a></br><a href="https://ibm.github.io/wca-l4/appmod/8/" target="_blank">8. Full stack modernization</a></td>
</tr>
</tbody>
</table></section>
                        <h1 class='nav-section-title' id='section-ibm-cloud-saas-configuration'>
                            IBM Cloud (SaaS) Configuration <a class='headerlink' href='#section-ibm-cloud-saas-configuration' title='Permanent link'>↵</a>
                        </h1>
                        <section class="print-page" id="saas-1"><h1 id="saas-1-objectives-and-requirementsibm-cloud-saas-configuration"><strong>Objectives and requirements</strong></br><em>IBM Cloud (SaaS) Configuration</em></h1>
<h2 id="saas-1-i-about-this-lab"><strong>i. About this lab</strong></h2>
<p>For the purposes of the Level 4 training curriculum, the hands-on components have been split across both on-premises and Software-as-a-Service (SaaS) environments on IBM Cloud. Both are supported by IBM Technology Zone (ITZ) infrastructure.</p>
<p>The <a href="https://ibm.github.io/wca-l4/on-premises/1/" target="_blank"><strong>On-Premises Installation and Deployment</strong></a> modules extensively covers the process of preparing, installing, and deploying a full-stack IBM watsonx Code Assistant (WCA) service "on-premises" (OpenShift on VMware). However, resource and budget constraints for ITZ team means that <strong>GPUs are unavailable for on-premises training environments</strong> like the one deployed in those modules. The NVIDIA A100 or H100 GPUs required are simply too cost-prohibitive to be made available for individual IBMers and business partners. These costs are beyond the scope of what can be supported for training with on-premises environments.</p>
<p>Fortunately, participants <strong><em>do</em> have access to GPUs for SaaS training environments</strong> on IBM Cloud. The <strong>IBM Cloud (SaaS) Configuration</strong> module will guide participants through the process of reserving the necessary <em>Standard</em> plan of WCA via ITZ and configuring the environment for use. Other modules in the L4 curriculum  (<strong><a href="https://ibm.github.io/wca-l4/appmod/1/" target="_blank">Application Modernization</a></strong>) will each leverage the SaaS environment configured in the following steps.</p>
<p>There are two tiers of plans (editions) available for SaaS deployments of WCA:</p>
<table>
<thead>
<tr>
<th>Plan</th>
<th>Details</th>
<th>Use Cases</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>ESSENTIALS PLAN</strong></td>
<td>Accelerates software development, allowing developers to use WCA with integrated generative AI (gen AI) for coding.</td>
<td>Generating, explaining, and documenting code. Creation of unit tests.</td>
</tr>
<tr>
<td><strong>STANDARD PLAN</strong></td>
<td>In addition to all the capabilities found in the <em>Essentials</em> plan, the <em>Standard</em> plan includes enterprise Java modernization capabilities, which will be of particular advantage for the <a href="https://ibm.github.io/wca-l4/appmod/1/" target="_blank"><strong>Application Modernization</strong></a> modules of the Level 4 curriculum.</td>
<td>Java upgrades, regardless of runtime. WebSphere to Liberty transformation. Enhanced unit test generation and code explanation.</td>
</tr>
</tbody>
</table>
<p>To ensure that participants have access to the enterprise Java modernization capabilities, the instructions of this module call for provisioning a <strong>WCA Standard Plan</strong> as the basis of the SaaS environment.</p>
<h2 id="saas-1-ii-prerequisites"><strong>ii. Prerequisites</strong></h2>
<p>There are two high-level architectural components to WCA Standard Plan:</p>
<div class="admonition note">
<ol>
<li><strong>WCA extension</strong>: The interface through which developers interact with WCA, in the form of an extension (sometimes called a "plug-in") running in an integrated development environment (IDE). The IDEs currently supported by WCA are Visual Studio Code (VS Code) and Eclipse.</li>
<li><strong>WCA service:</strong> The back-end WCA service, to which requests from the extension are made and the results returned to the participant's IDE. It is available as software-as-a-service (SaaS) on IBM Cloud and as deployable software for on-premises deployments.</li>
</ol>
</div>
<p>Participants require access to ITZ in order to reserve an environment and complete the hands-on work. If you do not yet have an account with the ITZ, you will need to <a href="https://techzone.ibm.com/" target="_blank"><strong>register for one</strong></a>.</p>
<hr />
<h2 id="saas-1-iii-troubleshooting-and-support"><strong>iii. Troubleshooting and support</strong></h2>
<p>If you require assistance or run into issues with the hands-on lab, help is available.</p>
<ul>
<li>
<p><strong>Environment issues:</strong> The lab environment is managed by IBM Technology Zone. <a href="https://techzone.ibm.com/help" target="_blank"><strong>Opening a support case ticket</strong></a> is recommended for issues related to the hands-on environment (provisioning, running, and so on.)</p>
</li>
<li>
<p><strong>Product questions:</strong> For questions related to IBM watsonx Code Assistant capabilities, sales opportunities, roadmap, and other such matters, open a thread on the <a href="https://ibm.enterprise.slack.com/archives/C059NKPUCP9" target="_blank"><strong>#watsonx-code-assistant</strong></a> Slack channel.</p>
</li>
</ul>
<hr />
<h2 id="saas-1-iv-next-steps"><strong>iv. Next steps</strong></h2>
<p>In the following section, participants will prepare the SaaS-based lab environment with the necessary services and configurations through IBM Technology Zone.</p></section><section class="print-page" id="saas-2"><h1 id="saas-2-reserve-an-environmentibm-cloud-saas-configuration"><strong>Reserve an environment</strong></br><em>IBM Cloud (SaaS) Configuration</em></h1>
<div class="admonition quote">
<p>The following section is partially based on IBM Cloud Documentation for <a href="https://cloud.ibm.com/docs/watsonx-code-assistant?topic=watsonx-code-assistant-cloud-setup-wca" target="_blank"><strong>Setting up your watsonx Code Assistant service in IBM Cloud</strong></a>. Some of the configuration steps— such as creation of an access group and adding an access group to the deployment space -are automatically handled by IBM Technology Zone provisioning tasks. As such, if you are repeating this deployment for a client production environment, you may wish to reference the complete documentation set.</p>
</div>
<h2 id="saas-2-i-ibm-technology-zone"><strong>i. IBM Technology Zone</strong></h2>
<p>The following steps will guide participants through the process for requesting access to an IBM watsonx Code Assistant (WCA) Standard Plan environment from IBM Technology Zone (ITZ).</p>
<hr />
<ol>
<li>
<p><strong>Open</strong> the ITZ collection at the following address:</p>
<div class="admonition warning">
<p><strong>URL:</strong> <strong><a href="https://techzone.ibm.com/collection/wca/environments" target="_blank">https://techzone.ibm.com/collection/wca/environments</a></strong></p>
</div>
</li>
</ol>
<hr />
<ol start="2">
<li>
<p>There are multiple templates and flavors of WCA available:</p>
<ul>
<li>Locate the <strong>Request watsonx Code Assistant - Standard</strong><sup>[A]</sup> tile</li>
<li>Hover over and click the <strong>IBM Cloud environment / Reserve It</strong><sup>[B]</sup> button</li>
<li>When prompted, click the <strong>Reserve an environment</strong> button</li>
</ul>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.2.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.2.png" /></a></p>
</li>
</ol>
<hr />
<ol start="3">
<li>
<p>Supply additional details about the ITZ reservation request:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Name</strong></td>
<td>Assign the reservation a unique name.</td>
</tr>
<tr>
<td><strong>Purpose</strong></td>
<td><code>Education</code></td>
</tr>
<tr>
<td><strong>Purpose Description</strong></td>
<td>Assign the reservation a unique description.</td>
</tr>
<tr>
<td><strong>Preferred Geography</strong></td>
<td>Select the region and data center closest to your location.</td>
</tr>
<tr>
<td><strong>Start Date and Time</strong></td>
<td>Select a time and date for when the reservation will begin.</td>
</tr>
<tr>
<td><strong>End Date and Time</strong></td>
<td>Select a time and date for when the reservation will expire.</td>
</tr>
</tbody>
</table>
<p>When ready, verify that you agree to the <em>Terms and Conditions</em> for the environment and finalize your reservation request by clicking <strong>Submit</strong><sup>[A]</sup>.</p>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.3.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.3.png" /></a></p>
</li>
</ol>
<hr />
<ol start="4">
<li>
<p>Navigate to the <strong><a href="https://techzone.ibm.com/my/reservations" target="_blank">My Reservations</a></strong> tab of the ITZ to monitor the progress. Initially, the request will be marked as <em>Scheduled</em> or <em>Provisioning</em><sup>[A]</sup>.</p>
<ul>
<li><strong>Wait</strong> for the ITZ reservation to be marked as <em>Ready</em> before continuing to Step 5</li>
</ul>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.4.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.4.png" /></a></p>
<div class="admonition note">
<ul>
<li><strong>Scheduled:</strong> marked in grey, the reservation is awaiting approval from ITZ</li>
<li><strong>Provisioning:</strong> marked in yellow, the reservation is being deployed</li>
<li><strong>Ready:</strong> marked in green, the reservation has successfully deployed</li>
</ul>
</div>
</li>
</ol>
<h2 id="saas-2-ii-accessing-the-service-details"><strong>ii. Accessing the service details</strong></h2>
<p>Once the WCA service has been provisioned, you will receive <strong>two</strong> emails with the following headers:</p>
<ul>
<li><strong>Reservation Ready on IBM Technology Zone:</strong> indicates that the ITZ cluster has been successfully provisioned</li>
<li><strong>Account: Action required: You are invited to join an account in IBM Cloud:</strong> additional steps required by the administrator (you) in order to link the WCA service to IBM Cloud</li>
</ul>
<hr />
<ol start="5">
<li>
<p>Steps must be taken to link the WCA service and IBM Cloud accounts at this time.</p>
<ul>
<li>Click the <strong>Join now</strong><sup>[A]</sup> button within the body of the <em>Account: Action required: You are invited to join an account in IBM Cloud</em> email</li>
<li>A web browser tab will launch and redirect to IBM Cloud</li>
</ul>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.5a.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt=""  src="../saas/_attachments/saas-2.5a.png" width="400" /></a>
</br>
<a class="glightbox" href="../saas/_attachments/saas-2.5b.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt=""  src="../saas/_attachments/saas-2.5b.png" width="400" /></a></p>
</li>
</ol>
<hr />
<ol start="6">
<li>
<p>Check the <strong>I accept the product Terms and Conditions of this registration form</strong><sup>[A]</sup> box under the <em>Account Notice</em> header, then click <strong>Join account</strong><sup>[B]</sup> to continue.</p>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.6.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.6.png" /></a></p>
</li>
</ol>
<hr />
<ol start="7">
<li>
<p>You will be presented with a prompt asking for your permission to switch your personal IBM Cloud account's view into the WCA service (ITZ-provisioned) IBM Cloud account — which will resemble something like <code>itz-watsonx-24</code>. Click <strong>Proceed</strong><sup>[A]</sup> to confirm.</p>
<div class="admonition note">
<p class="admonition-title">LOCATING THE ITZ-PROVISIONED ACCOUNT NAME</p>
<p>Participants can retrieve the name of the ITZ-provisioned WCA service account (<code>itz-watsonx-24</code>, etc.) by looking at the contents of the <strong>Account: Action required: You are invited to join an account in IBM Cloud</strong> email: <em>IBM Technology Zone invited you to join the following IBM Cloud account: itz-watsonx-...</em></p>
</div>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.7.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.7.png" /></a></p>
</li>
</ol>
<hr />
<ol start="8">
<li>
<p>The IBM Cloud dashboard will now load within your web browser. At this time, confirm you are logged in under the WCA service account by inspecting the drop-down menu<sup>[A]</sup> as shown in the screenshot below.</p>
<div class="admonition note">
<p class="admonition-title">SWITCHING BETWEEN IBM CLOUD ACCOUNTS</p>
<p>You can toggle between various IBM Cloud accounts at-will. However, for the purposes of this lab it's best that you remain under the WCA service<sup>[B]</sup> account.</p>
</div>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.8.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.8.png" /></a></p>
</li>
</ol>
<hr />
<ol start="9">
<li>
<p>Open a new web browser tab and navigate to the <strong><a href="https://techzone.ibm.com/my/reservations" target="_blank">My Reservations</a></strong> ITZ page to inspect the details of your newly-provisioned service (or follow the link provided in the <em>Reservation Ready on IBM Technology Zone</em>) email. Click on the newly-provisioned service's tile<sup>[A]</sup> to inspect the environment's access and authentication details.</p>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.9.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.9.png" /></a></p>
</li>
</ol>
<hr />
<ol start="10">
<li>
<p>Scroll down the page to the <em>Reservations Details</em> section and locate the following values. You will need to record these to a notepad for future reference.</p>
<ul>
<li><em>IBM Cloud Service ID</em><sup>[A]</sup></li>
<li><em>IBM Cloud API key</em><sup>[B]</sup></li>
<li><em>WCA URL</em><sup>[C]</sup></li>
</ul>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.10.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.10.png" /></a></p>
</li>
</ol>
<hr />
<ol start="11">
<li>
<p>Open a new browser tab and navigate to the <strong>WCA URL</strong> recorded in Step 10.</p>
<ul>
<li>A <em>Resource list</em> view on IBM Cloud will load</li>
<li>Click the <strong>Launch watsonx Code Assistant</strong><sup>[A]</sup> button to continue</li>
</ul>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.11.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.11.png" /></a></p>
</li>
</ol>
<hr />
<h2 id="saas-2-iii-configuring-the-environment"><strong>iii. Configuring the environment</strong></h2>
<p>A new tab will load to present the <strong>WCA Dashboard</strong>, which for a first-time login will automatically prompt you to configure the environment.</p>
<hr />
<ol start="12">
<li>
<p>When presented with the <em>Set up watsonx Code Assistant for Standard plan</em> panel, click on the <strong>Set up</strong><sup>[A]</sup> button to continue.</p>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.12.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.12.png" /></a></p>
</li>
</ol>
<hr />
<ol start="13">
<li>
<p><em>Type of installation</em> configuration options must be configured. Select <strong>Single user</strong><sup>[A]</sup>.</p>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.13.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.13.png" /></a></p>
</li>
</ol>
<hr />
<ol start="14">
<li>
<p>Having specified the installation type, more options will unlock further down the page under the <em>Steps to complete</em> header.</p>
<p>Click the <strong>blue arrow</strong><sup>[A]</sup> icon to the right of the <em>Create a deployment space</em> option.</p>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.14.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.14.png" /></a></p>
</li>
</ol>
<hr />
<ol start="15">
<li>
<p>Configure the <strong>Create a deployment space</strong> page as follows:</p>
<ul>
<li><em>Name<sup>[A]</sup>:</em> Assign a name of your choosing to the deployment space (e.g. <code>wca-l4</code>)</li>
<li><em>Description<sup>[B]</sup>:</em> Optional</li>
<li><em>Select storage service<sup>[C]</sup>:</em> Do not change. IBM Technology Zone has automatically assigned Cloud Object Storage space for this reservation.</li>
<li><em>Code assistant service<sup>[D]</sup>:</em> Click the drop-down menu and select the WCA service belonging to your account.</li>
</ul>
<p>All other fields can remain as their default values. When ready, click <strong>Create</strong><sup>[E]</sup> and remain on the page for the deployment to finish.</p>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.15.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.15.png" /></a></p>
</li>
</ol>
<hr />
<ol start="16">
<li>
<p>Once the deployment space has been prepared, a pop-up alert will display <em>"The space is ready"</em>. Click the <strong>X</strong><sup>[A]</sup> icon in the top-right corner to dismiss the message and continue with the configuration steps.</p>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.16.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.16.png" /></a></p>
</li>
</ol>
<hr />
<ol start="17">
<li>
<p>The web browser will return to the set up wizard, which now displays additional options under the <em>Steps to complete</em> section.</p>
<ul>
<li>
<p>Notice that the <em>Create a deployment space</em> step has been marked as complete.</p>
</li>
<li>
<p>Click the <strong>blue arrow</strong><sup>[A]</sup> icon to the right of the <em>Select your license preference for response generations</em> option to continue.</p>
</li>
</ul>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.17.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.17.png" /></a></p>
</li>
</ol>
<hr />
<ol start="18">
<li>
<p>The <em>Display of Code Suggestions</em> page permits users to configure how to display code suggestions returned by the WCA service.</p>
<ul>
<li><strong>Do not change</strong> any of the settings, but you are welcome to review them if you wish</li>
<li><strong>Close</strong> the page and return to the set up wizard</li>
</ul>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.18.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.18.png" /></a></p>
</li>
</ol>
<hr />
<ol start="19">
<li>
<p><strong>Check</strong><sup>[A]</sup> the box to the left of the <em>Select your license preference for response generations</em> option to mark the task as complete.</p>
<ul>
<li>A prompt will appear to indicate that all setup tasks are now complete</li>
<li>Click the <strong>Go to home page</strong><sup>[B]</sup> button to conclude the setup</li>
</ul>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.19a.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.19a.png" /></a>
</br>
<a class="glightbox" href="../saas/_attachments/saas-2.19b.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.19b.png" /></a></p>
</li>
</ol>
<hr />
<h2 id="saas-2-iv-create-a-service-id-and-api-key"><strong>iv. Create a service ID and API key</strong></h2>
<p>Participants will use this API key later to enable Visual Studio Code extensions or Eclipse IDE plug-ins to communicate with the WCA service.</p>
<hr />
<ol start="20">
<li>
<p>Open a new web browser tab and navigate to the <a href="https://cloud.ibm.com/iam/serviceids" target="_blank"><strong>IBM Cloud Service IDs</strong></a> admin page.</p>
<ul>
<li>Verify that the <strong>Service IDs</strong><sup>[A]</sup> tab is open and that the <strong>Resource Group</strong><sup>[B]</sup> is set to the ITZ-provisioned WCA account (Steps 7-8)</li>
<li>Click <strong>Create service ID</strong><sup>[C]</sup> to continue</li>
</ul>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.20.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.20.png" /></a></p>
</li>
</ol>
<hr />
<ol start="21">
<li>
<p>Set the <strong>Name</strong><sup>[A]</sup> field equal to <code>IBM watsonx Code Assistant user</code> or another name of your choosing. Click the <strong>Create</strong><sup>[B]</sup> button to continue.</p>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.21.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.21.png" /></a></p>
</li>
</ol>
<hr />
<ol start="22">
<li>
<p>From the tabs along the left side of the page, click <strong>API Keys</strong><sup>[A]</sup>. Once it loads, click <strong>Create</strong><sup>[B]</sup> to continue.</p>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.22.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.22.png" /></a></p>
</li>
</ol>
<hr />
<ol start="23">
<li>
<p>Create a new <strong>IBM Cloud API Key</strong> with the following parameters:</p>
<ul>
<li><em>Name<sup>[A]</sup>:</em> <code>IBM watsonx Code Assistant API key</code></li>
<li><em>Leaked action<sup>[B]</sup>:</em> <code>Disable the leaked key</code></li>
<li><em>Session creation<sup>[C]</sup>:</em> <code>No</code></li>
<li>When ready, click <strong>Create</strong><sup>[D]</sup> to finalize the key</li>
</ul>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.23.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.23.png" /></a></p>
</li>
</ol>
<hr />
<ol start="24">
<li>
<p>A prompt will appear reporting that <em>API key successfully created</em>.</p>
<ul>
<li>Click the <strong>Copy</strong><sup>[A]</sup> button and record the <em>WCA API Key</em> to your notebook for reference later</li>
<li>It's recommended that you also <strong>Download</strong> the key as a redundancy</li>
<li>When ready, <strong>close</strong><sup>[B]</sup> the window</li>
</ul>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.24.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.24.png" /></a></p>
</li>
</ol>
<hr />
<h2 id="saas-2-v-add-the-service-id-to-the-wca-deployment-space"><strong>v. Add the service ID to the WCA deployment space</strong></h2>
<p>With the <em>Service ID</em> and <em>WCA API Key</em> now generated, they need to be associated with your WCA instance — specifically, the WCA <em>Deployment Space</em>. This will be the way in which the WCA extension (VS Code or Eclipse IDE) communicates with the WCA service.</p>
<hr />
<ol start="25">
<li>
<p>Return to the <strong>WCA Dashboard</strong> web browser tab (where you left off in Step 19).</p>
<ul>
<li>Click the <strong>stacked tiles</strong><sup>[A]</sup> in the top-left corner of the dashboard to expand the menu items along the left-hand side</li>
<li>Click on the <strong>Deployments</strong><sup>[B]</sup> tab</li>
</ul>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.25.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.25.png" /></a></p>
</li>
</ol>
<hr />
<ol start="26">
<li>
<p>Within the table of existing deployments, click the <strong>wca-l4</strong><sup>[A]</sup> deployment (or whatever name you chose to assign the deployment created in Step 15).</p>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.26.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.26.png" /></a></p>
</li>
</ol>
<hr />
<ol start="27">
<li>
<p>From the tabs along the top, click the <strong>Manage</strong><sup>[A]</sup> tab. Then, from the left-hand side options, click the <strong>Access control</strong><sup>[B]</sup> tab.</p>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.27a.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.27a.png" /></a>
</br>
<a class="glightbox" href="../saas/_attachments/saas-2.27b.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.27b.png" /></a></p>
</li>
</ol>
<hr />
<ol start="28">
<li>
<p>Click the <strong>Add collaborators</strong><sup>[A]</sup> button to expand a list of options, then click <strong>Add service IDs</strong><sup>[B]</sup> to continue.</p>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.28.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.28.png" /></a></p>
</li>
</ol>
<hr />
<ol start="29">
<li>
<p>Within the table of <em>Service IDs</em>, you should see 1 entry for the <code>IBM watsonx Code Assistant user</code> that was created in Step 21.</p>
<ul>
<li><strong>Click</strong><sup>[A]</sup> the box to the left of the ID</li>
<li><strong>Click</strong><sup>[B]</sup> the <em>Role</em> box to the right of the ID and select <strong>Editor</strong> from the drop-down menu</li>
<li>Click <strong>Add</strong><sup>[C]</sup> to finalize the operation</li>
</ul>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-2.29.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-2.29.png" /></a></p>
</li>
</ol>
<hr />
<ol start="30">
<li>Confirm that the <code>IBM watsonx Code Assistant user</code> <em>Service ID</em> now appears within the list of approved <em>Collaborators</em> under the <strong>Access Control</strong> tab.</li>
</ol>
<hr />
<h2 id="saas-2-vi-next-steps"><strong>vi. Next steps</strong></h2>
<p>The deployment and initial configurations of the watsonx Code Assistant (SaaS) Standard Plan service on IBM Cloud is now complete. In the following modules, participants will prepare the WCA extensions and plug-ins for Visual Studio Code and Eclipse IDE, respectively.</p></section><section class="print-page" id="saas-3"><h1 id="saas-3-configure-the-enterprise-java-environmentibm-cloud-saas-configuration"><strong>Configure the enterprise Java environment</strong></br><em>IBM Cloud (SaaS) Configuration</em></h1>
<h2 id="saas-3-i-objectives-and-rationale"><strong>i. Objectives and rationale</strong></h2>
<p>As participants will be working with the IBM watsonx Code Assistant (WCA) Standard Plan and interacting with enterprise Java applications, they will need to perform some additional configuration of their Windows or MacOS machines before setting up the extensions (or plug-ins) to the WCA service.</p>
<p>Locally you must <strong>install</strong> <em>both</em> Java and Apache Maven. Details and download links for the two are summarized in the table below.</p>
<p><strong>Java Requirements</strong></p>
<table>
<thead>
<tr>
<th>Distribution</th>
<th>Details</th>
<th>Resources</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Java</strong></td>
<td>Java SE 11 with Java Developer Kit 21.</td>
<td><strong><a href="https://www.oracle.com/java/technologies/downloads/?er=221886#jdk21-mac" target="_blank">Download</a></strong></td>
</tr>
<tr>
<td><strong>Maven</strong></td>
<td>Use Maven to build your application. If you are using Liberty Tools and the Liberty Maven plug-in to build your app or project, use at least Maven 3.8.6.</td>
<td><strong><a href="https://maven.apache.org/download.cgi" target="_blank">Download</a></strong></td>
</tr>
</tbody>
</table>
<h2 id="saas-3-ii-java-installation"><strong>ii. Java installation</strong></h2>
<hr />
<ol>
<li>
<p><strong>Download</strong> and <strong>install</strong> the <code>v21</code> of the <em>Java Developer Kit</em> (JDK) using the vendor link below.</p>
<div class="admonition note">
<p><strong>URL:</strong> <strong><a href="https://www.oracle.com/java/technologies/downloads/?er=221886#jdk21-mac" target="_blank">https://www.oracle.com/java/technologies/downloads/?er=221886#jdk21-mac</a></strong></p>
</div>
<ul>
<li>Participants must install <strong>JDK 21</strong></li>
<li>From the downloads page, ensure that the <strong>JDK 21</strong><sup>[A]</sup> option is selected</li>
<li>Further down the page, click the operating system<sup>[B]</sup> option that aligns with your machine operating system type (e.g. <em>macOS</em>)</li>
<li>Click the link for the <strong>Download</strong><sup>[C]</sup> link for the installer that matches your machine's processing architecture (e.g. newer-generation <em>macOS</em> users will probably want to select the <em>ARM64 DMG Installer</em>)</li>
<li>Follow the prompts of the installation wizard and complete the installation before continuing to Step 2</li>
</ul>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-1.1.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-1.1.png" /></a></p>
<div class="admonition warning">
<p class="admonition-title">INCOMPATIBILITY WITH JDK 24</p>
<p>Note that the <em>Full stack modernization</em> module in <a href="https://ibm.github.io/wca-l4/appmod/8/#i-objectives" target="_blank"><strong>Application Modernization - WebSphere to Liberty</strong></a> will encounter compatibility errors with JDK 24 drivers when attempting to Explain or Modernize the source application. This is owing to a deprecation of <code>sun.misc.Unsafe</code> method as of March 2025. <a href="https://openjdk.org/jeps/498" target="_blank"><strong>Additional details may be found here.</strong></a></p>
<p>As a result, participants in this lab should ensure they are running <strong>JDK 21</strong> (or as early as JDK 11), but specifically <em>not</em> JDK 24. If you are running JDK 24, you should uninstall the JDK from your machine and reinstall with the links provided in <a href="https://ibm.github.io/wca-l4/saas/3/" target="_blank"><strong>Configure the enterprise Java environment</strong></a>.</p>
</div>
</li>
</ol>
<hr />
<ol start="2">
<li>
<p>With your preferred Java distribution installed locally, you now need to set the appropriate environment variables.</p>
<p>Find the Java installation path on your local machine using the instruction set that corresponds to your local operating system.</p>
<ul>
<li><strong>macOS:</strong><ul>
<li>Open a Terminal and execute:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#saas-3-__codelineno-0-1"></a>/usr/libexec/java_home
</code></pre></div></li>
<li>The output should resemble something like: <code>/Library/Java/JavaVirtualMachines/jdk-21.jdk/Contents/Home</code></li>
<li>Record this path to a notepad for reference in <em>Step 3</em></li>
</ul>
</li>
<li><strong>Windows:</strong><ul>
<li>Open a Command Prompt and execute:
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#saas-3-__codelineno-1-1"></a><span class="nb">echo</span> %JAVA_HOME%
</code></pre></div></li>
<li>If the <code>JAVA_HOME</code> variable has not yet been set, the Java installations are typically located in the <code>C:\Program Files\Java\jdk-XX.X.X</code> directory</li>
<li>Record this path to a notepad for reference in <em>Step 3</em></li>
</ul>
</li>
</ul>
</li>
</ol>
<hr />
<ol start="3">
<li>
<p>Set the <code>JAVA_HOME</code> environment variable.</p>
<div class="admonition note">
<p>Modify the <strong>JAVA_HOME</strong> path in the <code>export JAVA_HOME=/.../</code> statements below if the pathway recorded in <em>Step 2</em> for <em>your machine</em> differs. For example, if using a different Java developer kit version from JDK 24, replace <code>/jdk-24.jdk/</code> with the version installed on <em>your</em> machine.</p>
</div>
<p></br></p>
<ul>
<li><strong>macOS:</strong><ul>
<li>Edit the shell configuration file (<code>zsh</code>) with Terminal:
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#saas-3-__codelineno-2-1"></a>nano ~/.zshrc
</code></pre></div></li>
<li>Add the following line to the file:
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#saas-3-__codelineno-3-1"></a><span class="nb">export</span> <span class="nv">JAVA_HOME</span><span class="o">=</span>/Library/Java/JavaVirtualMachines/jdk-21.jdk/Contents/Home
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#saas-3-__codelineno-3-2"></a><span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="nv">$JAVA_HOME</span>/bin:<span class="nv">$PATH</span>
</code></pre></div></li>
<li>Save by pressing <span class="keys"><kbd class="key-control">Ctrl</kbd></span> + <span class="keys"><kbd class="key-o">O</kbd></span> and hit <span class="keys"><kbd class="key-enter">Enter</kbd></span> to confirm the filename</li>
<li>Exit by pressing <span class="keys"><kbd class="key-control">Ctrl</kbd></span> + <span class="keys"><kbd class="key-x">X</kbd></span></li>
</ul>
</li>
<li><strong>Windows:</strong><ul>
<li>Open the <em>Start</em> menu and search for <code>Environment Variables</code></li>
<li>Select <em>Edit the system environment variables</em> option</li>
<li>Click the <em>Environment Variables</em> button</li>
<li>Under <em>System Variables</em>, click <em>New</em></li>
<li>Set the <em>Variable Name</em> = <code>JAVA_HOME</code> and <em>Variable Value</em> = <em>JDK path from Step 1</em> (e.g. <code>C:\Program Files\Java\jdk-21</code>)</li>
<li>Click <em>OK</em> to finalize</li>
</ul>
</li>
</ul>
</li>
</ol>
<hr />
<ol start="4">
<li>Apply the changes immediately.<ul>
<li><strong>macOS</strong>:<ul>
<li>Run the following command with Terminal:
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#saas-3-__codelineno-4-1"></a><span class="nb">source</span> ~/.zshrc
</code></pre></div></li>
<li>If no errors are reported, the variables have been successfully sourced (set)</li>
</ul>
</li>
<li><strong>Windows:</strong><ul>
<li>Close all open command prompts or terminals</li>
<li>Open a <em>new</em> Command Prompt to pick up the changes</li>
</ul>
</li>
</ul>
</li>
</ol>
<hr />
<ol start="5">
<li>Verify the <code>JAVA_HOME</code> environment variable has been correctly set.<ul>
<li><strong>macOS:</strong><ul>
<li>With Terminal, execute:
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#saas-3-__codelineno-5-1"></a><span class="nb">echo</span> <span class="nv">$JAVA_HOME</span>
</code></pre></div></li>
<li>The console will return the Java installation path</li>
</ul>
</li>
<li><strong>Windows:</strong><ul>
<li>With Command Prompt, execute:
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#saas-3-__codelineno-6-1"></a>cmd <span class="nb">echo</span> %JAVA_HOME%
</code></pre></div></li>
<li>The console will return the Java installation path</li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="saas-3-iii-maven-installation"><strong>iii. Maven installation</strong></h2>
<hr />
<ol start="6">
<li><strong>Download</strong> and <strong>install</strong> the latest Maven distribution using either the MacOS or Windows instruction sets below.<ul>
<li><strong>macOS:</strong><ul>
<li>The simplest method is using <a href="https://brew.sh" target="_blank"><strong>Homebrew</strong></a> to install and deploy Maven locally. To install Homebrew, execute the following with Terminal:
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#saas-3-__codelineno-7-1"></a>/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;
</code></pre></div></li>
<li>With Terminal, execute:
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#saas-3-__codelineno-8-1"></a>brew install maven
</code></pre></div></li>
<li>Follow the prompts (confirming with <code>yes</code> if asked to confirm the install)</li>
<li>After the install process has concluded, test with Terminal:
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#saas-3-__codelineno-9-1"></a>mvn --version
</code></pre></div></li>
</ul>
</li>
<li><strong>Windows:</strong><ul>
<li>Visit the official Maven website: <a href="https://maven.apache.org/download.cgi" target="_blank">https://maven.apache.org/download.cgi</a></li>
<li>Under <strong>Files</strong>, click on the binary zip archive link (for example, <code>apache-maven-x.x.x-bin.zip</code>)</li>
<li>Extract the zip file to a location on your local machine (for example, <code>C:\Apache\maven\</code>)</li>
<li><strong>Replace</strong> <code>&lt;path-to-folder&gt;</code> with your machine's installation path and then execute the following with Command Prompt:
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#saas-3-__codelineno-10-1"></a>MAVEN_HOME= &lt;path-to-folder&gt;\maven\apache-maven-3.9.9-bin\apache-maven-3.9.9
</code></pre></div></li>
<li><strong>Replace</strong> <code>&lt;path-to-folder&gt;</code> with your machine's installation path and then execute the following with Command Prompt:
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#saas-3-__codelineno-11-1"></a>&lt;path-to-folder&gt;\maven\apache-maven-3.9.9-bin\apache-maven-3.9.9\bin
</code></pre></div></li>
<li>Maven is now successfully installed and configured</li>
</ul>
</li>
</ul>
</li>
</ol>
<hr />
<h2 id="saas-3-iv-determine-the-jdk"><strong>iv. Determine the JDK</strong></h2>
<p>For Visual Studio (VS) Code and WCA Standard Plans, watsonx Code Assistant needs to determine which Java developer kit (JDK) to use, in the following order of precedence (with <em>1</em> being the highest priority):</p>
<table>
<thead>
<tr>
<th>Order of precedence</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>1</strong></td>
<td>Globally-configured Java developer kit for automatic building in the Red Hat extension, which is <code>java.configuration.runtimes</code> in the IDE <code>settings.json</code> file</td>
</tr>
<tr>
<td><strong>2</strong></td>
<td><code>java.jdt.ls.java.home</code> or <code>java.home</code> IDE settings if they are present</td>
</tr>
<tr>
<td><strong>3</strong></td>
<td><code>JAVA_HOME</code> system environment variable, or else <code>JDK_HOME</code></td>
</tr>
<tr>
<td><strong>4</strong></td>
<td>The Java developer kit in the system <code>PATH</code></td>
</tr>
</tbody>
</table>
<p>When WCA Standard Plan features are used, such as Java modernization or upgrade, you can verify which Java developer kit is being used:</p>
<ul>
<li>Within the VS Code IDE, click <strong>View</strong> and then <strong>Output</strong></li>
<li>In the <em>Output</em> view, use the dropdown menu to select <strong>WCA</strong></li>
<li>Look for a message such as <code>Using the Java developer kit that is defined in &lt;location&gt; to run watsonx Code Assistant components. The path is: &lt;path&gt;</code> to determine the feature currently in use</li>
</ul>
<hr />
<h2 id="saas-3-v-set-the-logging-level"><strong>v. Set the logging level</strong></h2>
<p>To adjust logging for the VS Code extension for WCA:</p>
<ul>
<li>From the <strong>Extensions</strong> panel of VS Code, locate the WCA extension and right-click to pull down a list of available options</li>
<li>Select the <strong>Extension Settings</strong> option</li>
<li>Scroll down (or search) for <strong>WCA: Log level</strong></li>
<li>You may adjust this field from the default <code>INFO</code> setting to alternative options (like <code>WARN</code>) to cycle between various logging levels</li>
</ul>
<hr />
<h2 id="saas-3-vi-next-steps"><strong>vi. Next steps</strong></h2>
<p>In the following modules, participants will prepare the WCA extensions and plug-ins for Visual Studio Code and Eclipse IDE, respectively.</p></section><section class="print-page" id="saas-4"><h1 id="saas-4-install-wca-extension-for-visual-studio-codeibm-cloud-saas-configuration"><strong>Install WCA extension for Visual Studio Code</strong></br><em>IBM Cloud (SaaS) Configuration</em></h1>
<h2 id="saas-4-i-objectives-and-rationale"><strong>i. Objectives and rationale</strong></h2>
<p>With the IBM watsonx Code Assistant (WCA) service component of the Software-as-a-Service (SaaS) architecture now successfully provisioned via the IBM Technology Zone (ITZ), participants will now need to set up the WCA extension within an integrated development environment (IDE). WCA currently supports both <em>Visual Studio Code</em> (<strong>VS Code</strong>) and <em>Eclipse IDE</em>.</p>
<p>This module guides participants through the process of installing VS Code on their local machine. Afterwards, the WCA extension ("plug-in") can then be easily integrated with the IDE and authorized for use with the ITZ-provisioned WCA service.</p>
<div class="admonition note">
<p class="admonition-title">WHY INSTALL LOCALLY?</p>
<p>Be aware that ITZ only allows two environments to be reserved for education and training purposes at any one time. Reservations for client demonstrations and pilots do not count against this limit.</p>
<p>The WCA Standard plan on SaaS (this module) requires at least one reservation slot. The on-premises environment already provisioned through ITZ for the previous <a href="https://ibm.github.io/wca-l4/on-premises/1/" target="_blank"><strong>On-Premises Installation and Deployment</strong></a> modules is occupying the second available slot. Provisioning an ITZ-hosted virtual machine (VM) environment will require a third slot — exceeding what ITZ supports. Therefore, to accommodate a virtualized desktop, participants would <strong>need to retire and deprovision</strong> the on-premises environment that they've already gone to great lengths to set up. Let's avoid that scenario, if possible.</p>
<p>IBM watsonx Code Assistant works great on locally-installed IDEs via extensions (or plug-ins) built into VS Code and Eclipse IDE, respectively. In fact, it's the <em>de facto</em> way to interact with the service and provides the best impression for users — with a less cumbersome experience executing the lab guide instructions and much more responsive IDE interactions.</p>
</div>
<h2 id="saas-4-ii-locally-install-vs-code"><strong>ii. Locally install VS Code</strong></h2>
<p>Before you configure the extension for VS Code, you must first install the application on your machine.</p>
<hr />
<ol>
<li>
<p>Download the latest <strong>Stable Build</strong><sup>[A]</sup> release of VS Code available for your machine's operating system using the link below.</p>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-3.1.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-3.1.png" /></a></p>
<div class="admonition warning">
<p><strong>Download</strong>: <a href="https://code.visualstudio.com" target="_blank">https://code.visualstudio.com</a></p>
<p>Follow along with the installer wizard steps and continue with the hands-on lab instructions once VS Code is running on your local machine.</p>
</div>
</li>
</ol>
<hr />
<ol start="2">
<li>
<p>Launch the VS Code application and take note of the sidebar along the left-side.</p>
<p>Click the <strong>Extensions</strong><sup>[A]</sup> icon to open the marketplace of services and open source technologies that can be integrated with VS Code.</p>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-3.2.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-3.2.png" /></a></p>
</li>
</ol>
<hr />
<h2 id="saas-4-iii-install-the-extension"><strong>iii. Install the extension</strong></h2>
<p>Search for the <a href="https://marketplace.visualstudio.com/items?itemName=IBM.wca-eja" target="_blank"><strong>watsonx Code Assistant for Enterprise Java Applications</strong></a> extension, which corresponds to the WCA Standard plan. This plug-in supports all the features of the Essentials plan, plus enterprise Java modernization capabilities, enhanced code explanation, and enhanced unit test generation — all of which will be necessary for the Level 4 curriculum and hands-on training.</p>
<hr />
<ol start="3">
<li>
<p>Into the <strong>search bar</strong><sup>[A]</sup> under the <em>Extensions</em> tab, enter the following text:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#saas-4-__codelineno-0-1"></a>watsonx Code Assistant <span class="k">for</span> Enterprise Java Applications
</code></pre></div>
<ul>
<li>After locating the extension, click the <strong>Install</strong><sup>[B]</sup> button</li>
<li>When prompted, select <strong>Trust Publisher &amp; Install</strong><sup>[C]</sup> to confirm the procedure</li>
</ul>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-3.3a.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-3.3a.png" /></a>
</br>
<a class="glightbox" href="../saas/_attachments/saas-3.3b.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-3.3b.png" /></a></p>
<div class="admonition note">
<p class="admonition-title">OTHER EXTENSIONS ARE AVAILABLE</p>
<p>Note that Standard plan installation creates <strong>two</strong> entries in your Visual Studio Code Extensions panel: one for <em>watsonx Code Assistant</em> and one for <em>watsonx Code Assistant for Enterprise Java Applications</em>. The two extensions are dependencies for this installation.</p>
<p>Two other plug-ins are available within VS Code for <em>IBM watsonx Code Assistant</em> specifically, and even more for other offerings such as <em>IBM watsonx Code Assistant for Red Hat Ansible Lightspeed</em> and <em>IBM watsonx Code Assistant for Z</em>. For WCA, there are alternative extensions available for <a href="https://marketplace.visualstudio.com/items?itemName=IBM.wca-core" target="_blank"><strong>Trial Plan</strong></a> and <a href="https://marketplace.visualstudio.com/items?itemName=IBM.wca-core" target="_blank"><strong>Essential Plan</strong></a> tiers.</p>
</div>
</li>
</ol>
<hr />
<ol start="4">
<li>
<p>To open WCA within VS Code, click on the <strong>watsonx Code Assistant</strong><sup>[A]</sup> icon that has appeared along the left-hand side of VS Code. You will be greeted with a <code>Welcome, let's get started!</code> prompt within the IDE.</p>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-3.4.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-3.4.png" /></a></p>
</li>
</ol>
<hr />
<ol start="5">
<li>
<p>Now let's authorize the extension for use with the WCA service provisioned on IBM Cloud. From the WCA panel, click <strong>Log in with your API key</strong><sup>[A]</sup> to continue.</p>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-3.5.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-3.5.png" /></a></p>
</li>
</ol>
<hr />
<ol start="6">
<li>
<p>A drop-down menu will open at the top of the VS Code interface. <strong>Copy and paste</strong><sup>[A]</sup> the <em>WCA API Key</em> that was recorded in <a href="https://ibm.github.io/wca-l4/saas/2/#iv-create-a-service-id-and-api-key" target="_blank"><strong>Step 24 of Module 2</strong></a> into the prompt.</p>
<ul>
<li>The interface should display a line of text indicating a <em>Valid API Key</em> has been detected</li>
<li>Press <span class="keys"><kbd class="key-enter">Enter</kbd></span> to confirm the input</li>
<li>When prompted with <em>The extension 'watsonx Code Assistant' wants to sign in using WCA API Key</em>, click <strong>Allow</strong><sup>[B]</sup></li>
</ul>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-3.6a.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-3.6a.png" /></a>
</br>
<a class="glightbox" href="../saas/_attachments/saas-3.6b.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-3.6b.png" /></a></p>
</li>
</ol>
<hr />
<ol start="7">
<li>
<p>Confirm that the extension successfully authenticated with the WCA service by looking for an open <em>Chat session 1</em> with <code>watsonx</code> along the left side of the WCA Extension tab<sup>[A]</sup>. If this Chat interface is available and operational, that confirms that VS Code extension has been successfully integrated with the WCA service.</p>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-3.7.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-3.7.png" /></a></p>
</li>
</ol>
<hr />
<h2 id="saas-4-iv-next-steps"><strong>iv. Next steps</strong></h2>
<p>At this stage, the WCA Standard Plan extension for VS Code has been successfully installed and configured. The following module will guide participants through the steps of locally configuring Eclipse IDE for use with the WCA extension.</p></section><section class="print-page" id="saas-5"><h1 id="saas-5-install-wca-plug-in-for-eclipse-ideibm-cloud-saas-configuration"><strong>Install WCA plug-in for Eclipse IDE</strong></br><em>IBM Cloud (SaaS) Configuration</em></h1>
<h2 id="saas-5-i-objectives-and-rationale"><strong>i. Objectives and rationale</strong></h2>
<p>With the IBM watsonx Code Assistant (WCA) service component of the Software-as-a-Service (SaaS) architecture now successfully provisioned via the IBM Technology Zone (ITZ), participants will now need to set up the WCA extension within an integrated development environment (IDE). WCA currently supports both <em>Visual Studio Code</em> (<strong>VS Code</strong>) and <em>Eclipse IDE</em>.</p>
<p>This module guides participants through the process of installing <strong>Eclipse IDE</strong> on their local machine. Afterwards, the WCA extension ("plug-in") can then be easily integrated with the IDE and authorized for use with the ITZ-provisioned WCA service.</p>
<div class="admonition note">
<p class="admonition-title">WHY INSTALL LOCALLY?</p>
<p>Be aware that ITZ only allows two environments to be reserved for education and training purposes at any one time. Reservations for client demonstrations and pilots do not count against this limit.</p>
<p>The WCA Standard plan on SaaS requires at least one reservation slot. The on-premises environment already provisioned through ITZ for the previous <a href="https://ibm.github.io/wca-l4/on-premises/1/" target="_blank"><strong>On-Premises Installation and Deployment</strong></a> modules is occupying the second available slot. Provisioning an ITZ-hosted virtual machine (VM) environment will require a third slot — exceeding what ITZ supports. Therefore, to accommodate a virtualized desktop, participants would <strong>need to retire and deprovision</strong> the on-premises environment that they've already gone to great lengths to set up. Let's avoid that scenario, if possible.</p>
<p>IBM watsonx Code Assistant works great on locally-installed IDEs via extensions built into VS Code and Eclipse IDE. In fact, it's the <em>de facto</em> way to interact with the service and provides the best impression for users by far — with a less cumbersome experience with the lab guide instructions and much more responsive IDE interactions.</p>
</div>
<h2 id="saas-5-ii-locally-install-eclipse-ide"><strong>ii. Locally install Eclipse IDE</strong></h2>
<p>With the IBM Cloud credentials set up, the next step will be to install the Eclipse IDE locally and then integrate it with the WCA service via the IDE plug-in.</p>
<hr />
<ol>
<li>
<p><strong>Download</strong> the <em>Eclipse IDE</em> from the Eclipse Foundation.</p>
<ul>
<li>Use the <strong>Eclipse Installer</strong>, recommended at the top of the download page<sup>[A]</sup></li>
<li>Select the version appropriate to your local machine's operating system</li>
</ul>
<div class="admonition warning">
<p><strong>URL:</strong> <a href="https://www.eclipse.org/downloads/packages/" target="_blank">https://www.eclipse.org/downloads/packages/</a></p>
</div>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-4.4.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-4.4.png" /></a></p>
</li>
</ol>
<hr />
<ol start="2">
<li>
<p>Run the installer on your local machine.</p>
<ul>
<li>Select the <strong>Eclipse IDE for Java Developers</strong> option<sup>[A]</sup></li>
<li>Follow along with the remaining prompts until the Eclipse IDE has been installed</li>
<li>Once the install process has concluded, click <strong>Launch</strong><sup>[B]</sup> from the installer or manually launch the Eclipse IDE application yourself</li>
</ul>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-4.5a.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt=""  src="../saas/_attachments/saas-4.5a.png" width="300" /></a>
</br>
<a class="glightbox" href="../saas/_attachments/saas-4.5b.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt=""  src="../saas/_attachments/saas-4.5b.png" width="300" /></a></p>
</li>
</ol>
<hr />
<ol start="3">
<li>
<p>Upon launching the Eclipse IDE for the first time, users will be prompted to <em>Select a directory as workspace</em>. Choose a directory on your local machine<sup>[A]</sup> you feel appropriate (or select the one selected by default for you) and then click <strong>Launch</strong><sup>[B]</sup> to continue.</p>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-4.6.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt=""  src="../saas/_attachments/saas-4.6.png" width="300" /></a></p>
</li>
</ol>
<hr />
<h2 id="saas-5-iii-install-the-plug-in"><strong>iii. Install the plug-in</strong></h2>
<p>Open the <a href="https://marketplace.eclipse.org/content/ibm®-watsonx™-code-assistant-enterprise-java-applications" target="_blank"><strong>Eclipse Marketplace</strong></a> listing for <em>IBM watsonx Code Assistant for Enterprise Java Applications</em> plug-in, which corresponds to the WCA Standard plan. This plug-in supports all the features of the Essentials plan, plus enterprise Java modernization capabilities, enhanced code explanation, and enhanced unit test generation — all of which will be necessary for the Level 4 curriculum.</p>
<hr />
<ol start="4">
<li>
<p>Locate the <strong>Install</strong> button on the Eclipse Marketplace page. The easiest method for installing this plug-in is to <strong>click and hold</strong><sup>[A]</sup> the mouse button down on this Install button, then <strong>drag and release</strong><sup>[B]</sup> on top of the open Eclipse IDE application.</p>
<ul>
<li>An install wizard will open within the Eclipse IDE automatically</li>
<li><em>Confirm Selected Features</em>: verify the two WCA options are selected<sup>[C]</sup> and <strong>Confirm</strong><sup>[D]</sup></li>
<li>Installation should take about 1 minute to conclude</li>
<li>Wait for the <em>Review Licenses</em> panel to load</li>
</ul>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-4.7a.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-4.7a.png" /></a>
</br>
<a class="glightbox" href="../saas/_attachments/saas-4.7b.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-4.7b.png" /></a>
</br>
<a class="glightbox" href="../saas/_attachments/saas-4.7c.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-4.7c.png" /></a></p>
</li>
</ol>
<hr />
<ol start="5">
<li>
<p>Within the <em>Review Licenses</em> panel, read through all three license agreements<sup>[A]</sup> and click the <strong>I accept the terms of the license agreements</strong><sup>[B]</sup> option.</p>
<ul>
<li>To progress the installation, click <strong>Finish</strong></li>
<li>Wait a few moments for the <em>Trust Authorities</em> panel to load</li>
</ul>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-4.8.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-4.8.png" /></a></p>
</li>
</ol>
<hr />
<ol start="6">
<li>
<p>Within the <em>Trust Authorities</em>, examine the <strong>Authority / Update Site</strong> table at the top to load.</p>
<ul>
<li><strong>Select</strong><sup>[A]</sup> (tick the box) left of the <code>https://public.dhe.ibm.com</code> option field</li>
<li>All other fields can remain as their default settings</li>
<li>Click the <strong>Trust Selected</strong><sup>[B]</sup> button to continue</li>
<li>Wait 1 to 2 minutes for the software to continue installing</li>
</ul>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-4.9.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-4.9.png" /></a></p>
</li>
</ol>
<hr />
<ol start="7">
<li>
<p>After a few moments, a <em>Software Updates</em> window will prompt you to restart the Eclipse IDE.</p>
<ul>
<li>Click the <strong>Restart Now</strong><sup>[A]</sup> button to re-launch the application</li>
<li>Installation of the WCA plug-in software and dependencies will continue after launching</li>
<li>Wait a moment for the installation to conclude</li>
</ul>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-4.10.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-4.10.png" /></a></p>
</li>
</ol>
<h2 id="saas-5-iv-validate-the-plug-in"><strong>iv. Validate the plug-in</strong></h2>
<p>At this stage, the WCA plug-in for Eclipse IDE has been successfully installed on your local machine. Now you must authorize the plug-in for use with the WCA Standard Plan on IBM Cloud.</p>
<hr />
<ol start="8">
<li>
<p>From the Eclipse application, select <strong>Window</strong>, then <strong>Show View</strong>, and finally <strong>Other</strong><sup>[A]</sup> to open the plug-ins browser.</p>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-4.11.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-4.11.png" /></a></p>
</li>
</ol>
<hr />
<ol start="9">
<li>
<p>From the table of option, scroll down and locate <em>watsonx Code Assistant</em>.</p>
<ul>
<li>Double-click on the folder (or click the arrow to the left of it)</li>
<li>Select the <strong>Chat</strong><sup>[A]</sup> option and then click <strong>Open</strong><sup>[B]</sup></li>
</ul>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-4.12.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-4.12.png" /></a></p>
</li>
</ol>
<hr />
<ol start="10">
<li>
<p>A new window (among several open tabs) will open at the bottom of the Eclipse IDE<sup>[A]</sup>.</p>
<ul>
<li>Scroll down within the window to the bottom of the page</li>
<li>Click the <strong>Log in with your API key</strong><sup>[B]</sup> button</li>
</ul>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-4.13.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-4.13.png" /></a></p>
</li>
</ol>
<hr />
<ol start="11">
<li>
<p>A new <em>Preferences</em> window will open.</p>
<ul>
<li>Within the <em>API Key</em> field<sup>[A]</sup>, <strong>paste</strong> the <em>WCA API Key</em> that was recorded in <a href="https://ibm.github.io/wca-l4/saas/2/#iv-create-a-service-id-and-api-key" target="_blank"><strong>Step 24 of Module 2</strong></a> into the prompt</li>
<li>The remaining settings can remain at the default values</li>
<li>Click the <strong>Apply and Close</strong><sup>[B]</sup> button</li>
<li>Click <strong>No</strong><sup>[C]</sup> when prompted to create a <em>Secure Storage - Password Hint Needed</em></li>
</ul>
<p></br>
<a class="glightbox" href="../saas/_attachments/saas-4.14.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../saas/_attachments/saas-4.14.png" /></a></p>
</li>
</ol>
<hr />
<h2 id="saas-5-v-conclusion"><strong>v. Conclusion</strong></h2>
<p>The Eclipse IDE plug-in for IBM watsonx Code Assistant has been successfully installed and authorized for use with the WCA Standard (SaaS) plan deployed on IBM Cloud. The environment is now ready for use with the <a href="https://ibm.github.io/wca-l4/appmod/1/" target="_blank"><strong>Application Modernization</strong></a> modules of the Level 4 curriculum.</p>
<p>Having concluded the <strong>IBM Cloud (SaaS) Configuration</strong> hands-on modules, complete the corresponding <em>Evaluation</em> quiz and then continue with the remainder of the Level 4 curriculum.</p></section><h1 class='nav-section-title-end'>Ended: IBM Cloud (SaaS) Configuration</h1>
                        <h1 class='nav-section-title' id='section-application-modernization-websphere-to-liberty'>
                            Application Modernization - WebSphere to Liberty <a class='headerlink' href='#section-application-modernization-websphere-to-liberty' title='Permanent link'>↵</a>
                        </h1>
                        <section class="print-page" id="appmod-1"><h1 id="appmod-1-objectives-and-requirementsapplication-modernization-websphere-to-liberty"><strong>Objectives and requirements</strong></br><em>Application Modernization - WebSphere to Liberty</em></h1>
<h2 id="appmod-1-i-about-this-lab"><strong>i. About this lab</strong></h2>
<div class="admonition quote">
<p class="admonition-title">SECTION I. TERMINOLOGY</p>
<p>For readability, <a href="https://www.ibm.com/products/websphere-application-server" target="_blank"><strong>IBM WebSphere Application Server</strong></a> (WAS) in this chapter is referred to in shorthand as "WebSphere", unless noted otherwise. Similarly, <a href="https://www.ibm.com/products/cloud-pak-for-applications/liberty" target="_blank"><strong>IBM WebSphere Liberty</strong></a> is referenced in shorthand as simply "Liberty".</p>
</div>
<p></br>
The approach taken with each module of <strong>Application Modernization - WebSphere to Liberty</strong>,  engaging with IBM watsonx Code Assistant's (WCA) Chat functionality in the chapters ahead, is to emulate the experience of collaborating with a trusted colleague on how to best take on the modernization of WebSphere Application Server code: segmented by specific use cases, tackling particular business functions that need to be revitalized for cloud-native, and exploring precise pain points within a client's code base. The WCA Chat experience reflects how you and that trusted colleague might, together, approach a scenario like modernizing usage of Enterprise JavaBeans with WebSphere Liberty, as an example.</p>
<p>Thinking about modernization in discrete scenarios such as these, where the aperture is narrowly focused on a specific piece of functionality or use case— rather than trying to modernize an entire, complex application stack altogether —has immense value. It is far more akin and practical to the real-world scenarios that <em>you</em> will encounter during engagements with clients: as a seller; a business partner; a trusted advisor. Entrusted with bestowing best practices for how that client can modernize specific pain points in their application code; <em>not</em> taking on the task of modernizing the <em>entirety</em> of their application stack "in one go."</p>
<p>Crafting complex modernization plans for enterprise-scale applications cannot be approached as explicit "A, then B, followed by C" rulebooks or rigid decision trees. It is essential that you understand how to approach modernization as a collaborative, problem-solving oriented, question-and-answer refinement exercise. WCA Chat, which you will use to these ends in the following modules, is an ideal mechanism for refining the correct modernization approach.</p>
<hr />
<h2 id="appmod-1-ii-prerequisites"><strong>ii. Prerequisites</strong></h2>
<p>This lab requires that participants have previously completed the <a href="https://ibm.github.io/wca-l4/saas/1/" target="_blank"><strong>IBM Cloud (SaaS) Configuration</strong></a> lab in its entirety. Those conducting the hands-on sections of this lab will require access to a deployed instance of WCA Standard Plan and have successfully integrated with the WCA service via either the <strong>Visual Studio Code</strong> (<strong>VS Code</strong>) extension or <strong>Eclipse IDE</strong> plug-ins.</p>
<hr />
<h2 id="appmod-1-iii-hands-on-topics"><strong>iii. Hands-on topics</strong></h2>
<p>For each module of the <em>Application Modernization - WebSphere to Liberty</em> lab, participants will have the opportunity to dissect the contents and purpose of legacy <strong>WebSphere Application Server</strong> (<strong>WAS</strong>) code, examine its limitations in the context of more up-to-date alternatives, and then compare that to a best-practices implementation of that equivalent codebase written in <strong>WebSphere Liberty</strong>.</p>
<p>Afterwards, participants will go hands-on with the <strong>IBM watsonx Code Assistant</strong> (<strong>WCA</strong>) Standard environment to reproduce the steps of modernizing the WAS legacy code into Liberty code. Differences in the two code bases and the benefits of WCA's approach to code modernization will also be examined.</p>
<p></br></p>
<table>
<thead>
<tr>
<th>MODERNIZATION TASK</th>
<th>WEBSPHERE APPLICATION</th>
<th>LIBERTY APPLICATION</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://ibm.github.io/wca-l4/appmod/2/" target="_blank"><strong>Basic migration capabilities</strong></a></td>
<td><strong>WebSphere Enterprise Archive (EAR)</strong> configuration, at enterprise scale, becomes cumbersome to maintain and can often result in frequent deployment delays (or human-induced configuration errors) each time the modules need to be modified.</td>
<td><strong>Liberty Web Archive (WAR)</strong> configurations remove the need for multiple external descriptors and consolidate settings into a single, unified file.</td>
</tr>
<tr>
<td><a href="https://ibm.github.io/wca-l4/appmod/3/" target="_blank"><strong>Configuration and dependency management</strong></a></td>
<td><strong>WebSphere class loader configuration</strong> implementation suffers from significant (and unnecessary) complexity owing to bloated class-loader configurations.</td>
<td><strong>Liberty server configuration</strong> is expected to manage dependencies and simplify the overall process of application configuration.</td>
</tr>
<tr>
<td><a href="https://ibm.github.io/wca-l4/appmod/4/" target="_blank"><strong>APIs and libraries</strong></a></td>
<td><strong>WebSphere Scheduler APIs</strong> may not be immediately portable in their current form, they are potentially more costly to maintain than Liberty counterparts, and have less functionality due to outdated implementations.</td>
<td><strong>Liberty's Jakarta EE-templated APIs</strong> are more transferable across vendors and platforms, are built to cloud-native architecture by design, and are portable to containers.</td>
</tr>
<tr>
<td><a href="https://ibm.github.io/wca-l4/appmod/5/" target="_blank"><strong>Enterprise JavaBeans (EJB) modernization</strong></a></td>
<td><strong>WebSphere EJB with XML</strong> represent server-side components used by Java Enterprise Edition (Java EE or Jakarta EE) to encapsulate repeatable business logic. They are more challenging to maintain and prone to human-induced errors.</td>
<td><strong>Liberty EJBs with annotations</strong> use Java instead of XML, applying them directly within Java classes for configuration. In many cases, this reduces the need for external XML files and eases maintainability.</td>
</tr>
<tr>
<td><a href="https://ibm.github.io/wca-l4/appmod/6/" target="_blank"><strong>Java Message Service integration</strong></a></td>
<td><strong>WebSphere's MQ JMS integration</strong> uses complex configurations made up of verbose XML or admin console requirements. They can be difficult to maintain due to their dispersed nature.</td>
<td><strong>Liberty's MQ JMS integration</strong> provides a more centralized pattern to simplify the process of troubleshooting messaging integrations and maintaining existing policies.</td>
</tr>
<tr>
<td><a href="https://ibm.github.io/wca-l4/appmod/7/" target="_blank"><strong>Security modernization</strong></a></td>
<td><strong>WebSphere's XML-based security</strong> is challenging to understand and maintain due to XML file separation from the supporting Java code, which tends to lower developer productivity due to frequent context-switching.</td>
<td><strong>Liberty's annotation-based security</strong> reduces the need for external configuration and instead centralizes security declarations closer to the actual code implementation.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="appmod-1-iv-troubleshooting"><strong>iv. Troubleshooting</strong></h2>
<p>If you require assistance or run into issues with the hands-on lab, help is available.</p>
<ul>
<li>
<p><strong>Environment issues:</strong> The lab environment is managed by IBM Technology Zone. <a href="https://techzone.ibm.com/help" target="_blank"><strong>Opening a support case ticket</strong></a> is recommended for issues related to the hands-on environment (provisioning, running, and so on.)</p>
</li>
<li>
<p><strong>Product questions:</strong> For questions related to IBM watsonx Code Assistant capabilities, sales opportunities, roadmap, and other such matters, open a thread on the <a href="https://ibm.enterprise.slack.com/archives/C059NKPUCP9" target="_blank"><strong>#watsonx-code-assistant</strong></a> Slack channel.</p>
</li>
</ul>
<hr />
<h2 id="appmod-1-v-next-steps"><strong>v. Next steps</strong></h2>
<p>In the following section, participants will explore fundamental modernization and migration techniques using legacy <em>WebSphere Enterprise Archive</em> (<em>EAR</em>) configuration code — ultimately producing a modernized <em>Liberty Web Archive</em> (<em>WAR</em>) configuration codebase.</p></section><section class="print-page" id="appmod-2"><h1 id="appmod-2-basic-migration-capabilitiesapplication-modernization-websphere-to-liberty"><strong>Basic migration capabilities</strong></br><em>Application Modernization - WebSphere to Liberty</em></h1>
<h2 id="appmod-2-i-incentives-to-modernize"><strong>i. Incentives to modernize</strong></h2>
<div class="admonition quote">
<p class="admonition-title">SECTION I. TERMINOLOGY</p>
<p>For readability, <a href="https://www.ibm.com/products/websphere-application-server" target="_blank"><strong>IBM WebSphere Application Server</strong></a> (WAS) in this chapter is referred to in shorthand as "WebSphere", unless noted otherwise. Similarly, <a href="https://www.ibm.com/products/cloud-pak-for-applications/liberty" target="_blank"><strong>IBM WebSphere Liberty</strong></a> is referenced in shorthand as simply "Liberty".</p>
</div>
<p>Lariat Corporation has a large collection of <strong>WebSphere Enterprise Archive</strong> (EAR) applications designed specifically for deployments using <strong>WAS</strong>. These are packaged archive files that bundle together multiple Java Enterprise Edition (Java EE shorthand, or more recently referred to by Jakarta EE) components: web modules, Enterprise JavaBeans (EJB) files, resource adapters, libraries, and so on. Collectively, all of these components allow for Lariat's engineers and developers to manage complex enterprise applications "efficiently" (as the theory goes) by encapsulating all of the necessary components into a single, structured archive. </p>
<p><strong>Liberty</strong>, however, supports comparatively simple and standardized configurations that greatly reduce the complexities found with WebSphere applications. <strong>Liberty Web Archive</strong> (<strong>WAR</strong>) configurations remove the need for multiple external descriptors and consolidate settings into one unified file (<code>server.xml</code>). Overall, this approach improves the maintainability of the code base in the long term and improves the deployment speed for new instances (or versions) of the Liberty-based application.</p>
<p></br></p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>WebSphere EAR configuration</th>
<th>Liberty WAR configuration</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Deployment Complexity</strong></td>
<td>High: multiple modules and files to manage.</td>
<td>Low: single deployable artifact.</td>
</tr>
<tr>
<td><strong>Speed</strong></td>
<td>Slow deployments due to heightened complexity.</td>
<td>Faster deployments owing to simplicity and lightweight design.</td>
</tr>
<tr>
<td><strong>Maintainability</strong></td>
<td>Challenging due multiple configuration files need to managed and changes reconciled across multiple locations.</td>
<td>Streamlined and less complex.</td>
</tr>
<tr>
<td><strong>Scalability</strong></td>
<td>Difficult to scale due to potential for complex sets of dependencies.</td>
<td>Rapidly scaled due to cloud-native design.</td>
</tr>
</tbody>
</table>
<p>As part of the modernization efforts, the new Liberty application will need to support the functionality of the legacy WebSphere application, such as:</p>
<ul>
<li>Deployment of complex, modular Java EE applications onto WebSphere servers</li>
<li>Encapsulation of web applications, EJB modules, and dependencies in a structured format</li>
<li>Facilitate version control, deployment, and existing rollback strategies to guarantee consistent and reliable production environments</li>
</ul>
<p>In general, the team supporting the modernization anticipate that Liberty will enable greatly simplified, more modular deployment structures — which in turn will reduce the overhead, complexity, and maintenance burden of these applications.</p>
<hr />
<h2 id="appmod-2-ii-websphere-legacy-code"><strong>ii. WebSphere legacy code</strong></h2>
<p>First, examine the legacy code (below), which as mentioned previously is a snapshot of a larger application using <strong>WebSphere EAR configuration</strong>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:1"><input checked="checked" id="appmod-2-__tabbed_1_1" name="appmod-2-__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="appmod-2-__tabbed_1_1">WEBSPHERE APPLICATION SERVER</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-2-__codelineno-0-1"> 1</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-0-2"> 2</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-0-3"> 3</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-0-4"> 4</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-0-10">10</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-0-11">11</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-0-12">12</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-0-13">13</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-0-14">14</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-0-15">15</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-0-16">16</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-0-17">17</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-0-18">18</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-0-19">19</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-0-20">20</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-0-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="cm">&lt;!-- application.xml --&gt;</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="nt">&lt;application&gt;</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a>    <span class="nt">&lt;module&gt;</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a>        <span class="nt">&lt;web&gt;</span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a>            <span class="nt">&lt;web-uri&gt;</span>legacyapp.war<span class="nt">&lt;/web-uri&gt;</span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a>            <span class="nt">&lt;context-root&gt;</span>/legacyapp<span class="nt">&lt;/context-root&gt;</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a>        <span class="nt">&lt;/web&gt;</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a>    <span class="nt">&lt;/module&gt;</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a>    <span class="nt">&lt;module&gt;</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a>        <span class="nt">&lt;ejb&gt;</span>legacyEJB.jar<span class="nt">&lt;/ejb&gt;</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a>    <span class="nt">&lt;/module&gt;</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a>    <span class="nt">&lt;security-role&gt;</span>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a>        <span class="nt">&lt;role-name&gt;</span>user<span class="nt">&lt;/role-name&gt;</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a>    <span class="nt">&lt;/security-role&gt;</span>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="nt">&lt;/application&gt;</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a><span class="cm">&lt;!-- ibm-web-bnd.xml --&gt;</span>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a><span class="nt">&lt;web-bnd&gt;</span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a>    <span class="nt">&lt;virtual-host</span> <span class="na">name=</span><span class="s">&quot;default_host&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-0-20" name="__codelineno-0-20"></a>    <span class="nt">&lt;resource-ref</span> <span class="na">name=</span><span class="s">&quot;jdbc/LegacyDS&quot;</span> <span class="na">binding-name=</span><span class="s">&quot;jdbc/LegacyDS&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-0-21" name="__codelineno-0-21"></a><span class="nt">&lt;/web-bnd&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<p></br>
The application defines two modules— <code>legacyapp.war</code> and <code>legacyEJB.jar</code> —which denote the web and EJB components of the application, respectively (<strong>lines 5 and 10</strong>).</p>
<ul>
<li>The code sets a specific context root to access the <code>legacyapp.war</code> web module.</li>
<li>It also introduces WebSphere-specific bindings such as <code>ibm-web-bnd.xml</code> (<strong>line 17</strong>), which are employed for virtual hosting and resource references.</li>
<li>Security roles and resource bindings are managed externally through the use of XML.</li>
</ul>
<p>The legacy code showcased above has a particular structural element that makes it a prime candidate for this type of Liberty modernization. Chiefly, the EAR application uses <em>separate</em> XML descriptors like <code>application.xml</code> (<strong>line 1</strong>) and <code>ibm-web-bnd.xml</code> (<strong>line 17</strong>) to define distinct modules. This setup, at enterprise scale, becomes cumbersome to maintain and can often result in frequent deployment delays (or human-induced configuration errors) each time the modules need to be modified.</p>
<p>The maintenance burden of this more intricate structural design can be reduced with a more simplified, Liberty-based approach.</p>
<hr />
<h2 id="appmod-2-iii-liberty-modernized-code"><strong>iii. Liberty modernized code</strong></h2>
<p>Consider the modernized (functionally equivalent) code using <strong>Liberty WAR configuration</strong>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="appmod-2-__tabbed_2_1" name="appmod-2-__tabbed_2" type="radio" /><input id="appmod-2-__tabbed_2_2" name="appmod-2-__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="appmod-2-__tabbed_2_1">WEBSPHERE LIBERTY</label><label for="appmod-2-__tabbed_2_2">WEBSPHERE APPLICATION SERVER</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-2-__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-1-10">10</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-1-11">11</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-1-12">12</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-1-13">13</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-1-14">14</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-1-15">15</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-1-16">16</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-1-17">17</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-1-18">18</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-1-19">19</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-1-20">20</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-1-21">21</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-1-22">22</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="hll"><span class="cm">&lt;!-- server.xml --&gt;</span>
</span><a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="nt">&lt;server&gt;</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a>    <span class="nt">&lt;featureManager&gt;</span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a>        <span class="nt">&lt;feature&gt;</span>webProfile-8.0<span class="nt">&lt;/feature&gt;</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a>        <span class="nt">&lt;feature&gt;</span>jdbc-4.2<span class="nt">&lt;/feature&gt;</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a>    <span class="nt">&lt;/featureManager&gt;</span>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a>    <span class="nt">&lt;httpEndpoint</span> <span class="na">host=</span><span class="s">&quot;*&quot;</span> <span class="na">httpPort=</span><span class="s">&quot;9080&quot;</span> <span class="na">httpsPort=</span><span class="s">&quot;9443&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-1-9" name="__codelineno-1-9"></a>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a>    <span class="nt">&lt;application</span> <span class="na">id=</span><span class="s">&quot;modernapp&quot;</span> <span class="na">location=</span><span class="s">&quot;modernapp.war&quot;</span> <span class="na">context-root=</span><span class="s">&quot;/modernapp&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-1-11" name="__codelineno-1-11"></a>        <span class="nt">&lt;classloader</span> <span class="na">delegation=</span><span class="s">&quot;parentLast&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-1-12" name="__codelineno-1-12"></a>    <span class="nt">&lt;/application&gt;</span>
<a id="__codelineno-1-13" name="__codelineno-1-13"></a>
<a id="__codelineno-1-14" name="__codelineno-1-14"></a>    <span class="nt">&lt;dataSource</span> <span class="na">id=</span><span class="s">&quot;jdbc/ModernDS&quot;</span> <span class="na">jndiName=</span><span class="s">&quot;jdbc/ModernDS&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-1-15" name="__codelineno-1-15"></a>        <span class="nt">&lt;jdbcDriver</span> <span class="na">libraryRef=</span><span class="s">&quot;jdbcLib&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-1-16" name="__codelineno-1-16"></a>        <span class="nt">&lt;connectionManager</span> <span class="na">maxPoolSize=</span><span class="s">&quot;50&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-1-17" name="__codelineno-1-17"></a>    <span class="nt">&lt;/dataSource&gt;</span>
<a id="__codelineno-1-18" name="__codelineno-1-18"></a>
<a id="__codelineno-1-19" name="__codelineno-1-19"></a>    <span class="nt">&lt;library</span> <span class="na">id=</span><span class="s">&quot;jdbcLib&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-1-20" name="__codelineno-1-20"></a>        <span class="nt">&lt;fileset</span> <span class="na">dir=</span><span class="s">&quot;${server.config.dir}/jdbc&quot;</span> <span class="na">includes=</span><span class="s">&quot;*.jar&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-1-21" name="__codelineno-1-21"></a>    <span class="nt">&lt;/library&gt;</span>
<a id="__codelineno-1-22" name="__codelineno-1-22"></a><span class="nt">&lt;/server&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-2-__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-2-10">10</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-2-11">11</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-2-12">12</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-2-13">13</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-2-14">14</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-2-15">15</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-2-16">16</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-2-17">17</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-2-18">18</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-2-19">19</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-2-20">20</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-2-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="hll"><span class="cm">&lt;!-- application.xml --&gt;</span>
</span><a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="nt">&lt;application&gt;</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a>    <span class="nt">&lt;module&gt;</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a>        <span class="nt">&lt;web&gt;</span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a>            <span class="nt">&lt;web-uri&gt;</span>legacyapp.war<span class="nt">&lt;/web-uri&gt;</span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a>            <span class="nt">&lt;context-root&gt;</span>/legacyapp<span class="nt">&lt;/context-root&gt;</span>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a>        <span class="nt">&lt;/web&gt;</span>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a>    <span class="nt">&lt;/module&gt;</span>
<a id="__codelineno-2-9" name="__codelineno-2-9"></a>    <span class="nt">&lt;module&gt;</span>
<a id="__codelineno-2-10" name="__codelineno-2-10"></a>        <span class="nt">&lt;ejb&gt;</span>legacyEJB.jar<span class="nt">&lt;/ejb&gt;</span>
<a id="__codelineno-2-11" name="__codelineno-2-11"></a>    <span class="nt">&lt;/module&gt;</span>
<a id="__codelineno-2-12" name="__codelineno-2-12"></a>    <span class="nt">&lt;security-role&gt;</span>
<a id="__codelineno-2-13" name="__codelineno-2-13"></a>        <span class="nt">&lt;role-name&gt;</span>user<span class="nt">&lt;/role-name&gt;</span>
<a id="__codelineno-2-14" name="__codelineno-2-14"></a>    <span class="nt">&lt;/security-role&gt;</span>
<a id="__codelineno-2-15" name="__codelineno-2-15"></a><span class="nt">&lt;/application&gt;</span>
<a id="__codelineno-2-16" name="__codelineno-2-16"></a>
<a id="__codelineno-2-17" name="__codelineno-2-17"></a><span class="hll"><span class="cm">&lt;!-- ibm-web-bnd.xml --&gt;</span>
</span><a id="__codelineno-2-18" name="__codelineno-2-18"></a><span class="nt">&lt;web-bnd&gt;</span>
<a id="__codelineno-2-19" name="__codelineno-2-19"></a>    <span class="nt">&lt;virtual-host</span> <span class="na">name=</span><span class="s">&quot;default_host&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-2-20" name="__codelineno-2-20"></a>    <span class="nt">&lt;resource-ref</span> <span class="na">name=</span><span class="s">&quot;jdbc/LegacyDS&quot;</span> <span class="na">binding-name=</span><span class="s">&quot;jdbc/LegacyDS&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-2-21" name="__codelineno-2-21"></a><span class="nt">&lt;/web-bnd&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">BREVITY: DISPELLING MODERNIZATION MISCONCEPTIONS</p>
<p>The Liberty application code snippet is in fact "longer", in terms of lines of code, than the legacy WAS predecessor application. This raises an important point about modernized application code: <em>the brevity and terseness of an application's code does not always reflect more efficient or practical code.</em></p>
<p>What is important to the success and value of modernization efforts is that the new code is more appropriate to the tasks to be performed, has greater efficacy than before, and is more easily maintained — or a combination of these factors. Whether that is achieved in fewer lines of code than before is ultimately far less important.</p>
</div>
<p></br>
The modernized Liberty application code streamlines the original WebSphere configuration details into a <em>single</em> WAR file (<code>server.xml</code>) with clear, unified definitions.</p>
<ul>
<li>
<p>JDBC configurations are directly defined alongside the application deployment, removing the need for external bindings.</p>
<ol>
<li>Legacy EAR files have been consolidated into lightweight Web Archive (WAR) structures.</li>
<li>WebSphere-specific descriptors like <code>ibm-web-bnd.xml</code> have been converted into modern Liberty features (<code>webProfile-8.0</code>, <code>jdbc-4.2</code>).</br></li>
</ol>
</li>
<li>
<p>WebSphere-specific APIs and deprecated components, like <em>AdminClient APIs</em> or <em>Java Naming and Directory Interface (JDNI)</em> look-ups, have been replaced.</p>
</li>
<li>
<p>Liberty WAR configuration file uses <code>parentLast</code> (<strong>line 11</strong>) class loading to ensure that the application's resources take precedence.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#appmod-2-__codelineno-3-1"></a><span class="nt">&lt;application</span> <span class="na">id=</span><span class="s">&quot;modernapp&quot;</span> <span class="na">location=</span><span class="s">&quot;modernapp.war&quot;</span> <span class="na">context-root=</span><span class="s">&quot;/modernapp&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#appmod-2-__codelineno-3-2"></a>    <span class="nt">&lt;classloader</span> <span class="na">delegation=</span><span class="s">&quot;parentLast&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#appmod-2-__codelineno-3-3"></a><span class="nt">&lt;/application&gt;</span>
</code></pre></div>
</li>
</ul>
<p></br>
Ultimately, the modernized Liberty application code supports Lariat's objectives of simplified, modular deployment structures that reduce the overhead and technical burdens placed on developers maintaining the legacy WebSphere code base.</p>
<hr />
<h2 id="appmod-2-iv-hands-on-with-wca"><strong>iv. Hands-on with WCA</strong></h2>
<div class="admonition quote">
<p class="admonition-title">SECTION IV. TERMINOLOGY</p>
<p>For the purposes of comparison and brevity, the WCA-generated Liberty code will be referred to simply as "<strong>WCA</strong>" and Lariat Corporation's best-practice modernized code will be referred to as "<strong>Lariat</strong>".</p>
</div>
<p>In the following section, participants will have the opportunity to experiment with the <strong>watsonx Code Assistant</strong> (<strong>WCA</strong>) service set up in the <a href="https://ibm.github.io/wca-l4/saas/1/" target="_blank"><strong>IBM Cloud (SaaS) Configuration module</strong></a>.</p>
<ul>
<li>Using the <strong>Chat</strong> feature, which can be accessed via the WCA extension for Visual Studio Code (VS Code), you will first ask WCA convert the original <em>WebSphere Application Service (WCA)</em> code into a modernized equivalent for <em>WebSphere Liberty</em>.</li>
<li>The lab guide documentation will then walk you through an analysis of the WCA-generated Liberty code and compare that to the best-practice Liberty code discussed previously in <strong>iii. Liberty modernized code</strong>.</li>
<li>After comparing the two approaches to Liberty modernization, you will have the opportunity to continue tinkering with the WCA Chat service. Experimentation is encouraged. Try influencing WCA's generative AI recommendations by making further prompts or inquiries into the code responses it generates.</li>
</ul>
<p>When satisfied, you may proceed onwards to the next module.</p>
<hr />
<ol>
<li><strong>Log in</strong> to the <a href="https://ibm.github.io/wca-l4/saas/3/#iii-install-the-extension" target="_blank"><strong>WCA extension with VS Code</strong></a>. Once authenticated, proceed to Step 2.</li>
</ol>
<hr />
<ol start="2">
<li>
<p>From the left taskbar, ensure that <strong>watsonx Code Assistant</strong><sup>[A]</sup> extension is selected.</p>
<p>Within the <strong>Chat Session</strong> window, <strong>click</strong> on the <code>Enter / for commands</code> prompt<sup>[B]</sup> as shown.</p>
<p></br>
<a class="glightbox" href="../appmod/_attachments/appmod-2.2.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../appmod/_attachments/appmod-2.2.png" /></a></p>
</li>
</ol>
<hr />
<ol start="3">
<li>
<p>Prime the service to be ready to intake legacy WAS code and modernize that into Liberty code. As a suggestion, <strong>copy</strong> the following prompt, <strong>paste</strong> it into the chat window, and hit <span class="keys"><kbd class="key-enter">Enter</kbd></span> to execute the modernization request:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#appmod-2-__codelineno-4-1"></a>I need to modernize code written for WebSphere Application Server into WebSphere Liberty. Can you help?
</code></pre></div>
<div class="admonition warning">
<p><strong>TIP:</strong> You can increase the width of the Chat Session window by clicking and dragging the right-side of the window frame and pulling it towards the right of the screen.</p>
</div>
</li>
</ol>
<hr />
<ol start="4">
<li>
<p>Now that WCA is primed to receive WAS code, <strong>copy and paste</strong> the following code block into the <strong>Chat Session</strong>, then <span class="keys"><kbd class="key-enter">Enter</kbd></span> to execute.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:1"><input checked="checked" id="appmod-2-__tabbed_3_1" name="appmod-2-__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="appmod-2-__tabbed_3_1">WEBSPHERE APPLICATION SERVER</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-2-__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-5-10">10</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-5-11">11</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-5-12">12</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-5-13">13</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-5-14">14</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-5-15">15</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-5-16">16</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-5-17">17</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-5-18">18</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-5-19">19</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-5-20">20</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-5-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="cm">&lt;!-- application.xml --&gt;</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="nt">&lt;application&gt;</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a>    <span class="nt">&lt;module&gt;</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a>        <span class="nt">&lt;web&gt;</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a>            <span class="nt">&lt;web-uri&gt;</span>legacyapp.war<span class="nt">&lt;/web-uri&gt;</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a>            <span class="nt">&lt;context-root&gt;</span>/legacyapp<span class="nt">&lt;/context-root&gt;</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a>        <span class="nt">&lt;/web&gt;</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a>    <span class="nt">&lt;/module&gt;</span>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a>    <span class="nt">&lt;module&gt;</span>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a>        <span class="nt">&lt;ejb&gt;</span>legacyEJB.jar<span class="nt">&lt;/ejb&gt;</span>
<a id="__codelineno-5-11" name="__codelineno-5-11"></a>    <span class="nt">&lt;/module&gt;</span>
<a id="__codelineno-5-12" name="__codelineno-5-12"></a>    <span class="nt">&lt;security-role&gt;</span>
<a id="__codelineno-5-13" name="__codelineno-5-13"></a>        <span class="nt">&lt;role-name&gt;</span>user<span class="nt">&lt;/role-name&gt;</span>
<a id="__codelineno-5-14" name="__codelineno-5-14"></a>    <span class="nt">&lt;/security-role&gt;</span>
<a id="__codelineno-5-15" name="__codelineno-5-15"></a><span class="nt">&lt;/application&gt;</span>
<a id="__codelineno-5-16" name="__codelineno-5-16"></a>
<a id="__codelineno-5-17" name="__codelineno-5-17"></a><span class="cm">&lt;!-- ibm-web-bnd.xml --&gt;</span>
<a id="__codelineno-5-18" name="__codelineno-5-18"></a><span class="nt">&lt;web-bnd&gt;</span>
<a id="__codelineno-5-19" name="__codelineno-5-19"></a>    <span class="nt">&lt;virtual-host</span> <span class="na">name=</span><span class="s">&quot;default_host&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-5-20" name="__codelineno-5-20"></a>    <span class="nt">&lt;resource-ref</span> <span class="na">name=</span><span class="s">&quot;jdbc/LegacyDS&quot;</span> <span class="na">binding-name=</span><span class="s">&quot;jdbc/LegacyDS&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-5-21" name="__codelineno-5-21"></a><span class="nt">&lt;/web-bnd&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
</li>
</ol>
<hr />
<ol start="5">
<li>
<p>After a few moments, WCA will return a combination of code blocks and explanations to the Chat session console. Cycle through the tab(s) below to examine the <strong>modernized, WCA-generated Liberty code</strong>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="appmod-2-__tabbed_4_1" name="appmod-2-__tabbed_4" type="radio" /><input id="appmod-2-__tabbed_4_2" name="appmod-2-__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="appmod-2-__tabbed_4_1">WCA LIBERTY <code>server.xml</code></label><label for="appmod-2-__tabbed_4_2">WCA LIBERTY <code>web.xml</code></label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-2-__codelineno-6-1"> 1</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-6-2"> 2</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-6-3"> 3</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-6-4"> 4</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-6-5"> 5</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-6-6"> 6</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-6-7"> 7</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-6-8"> 8</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-6-9"> 9</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-6-10">10</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-6-11">11</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-6-12">12</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-6-13">13</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-6-14">14</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-6-15">15</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-6-16">16</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-6-17">17</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-6-18">18</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-6-19">19</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-6-20">20</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-6-21">21</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-6-22">22</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-6-23">23</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-6-24">24</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-6-25">25</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-6-26">26</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-6-27">27</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="nt">&lt;server</span> <span class="na">description=</span><span class="s">&quot;new server&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="nt">&lt;featureManager&gt;</span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a>    <span class="nt">&lt;feature&gt;</span>jsp-2.3<span class="nt">&lt;/feature&gt;</span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a>    <span class="nt">&lt;feature&gt;</span>servlet-3.1<span class="nt">&lt;/feature&gt;</span>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a>    <span class="nt">&lt;feature&gt;</span>ejbLite-3.2<span class="nt">&lt;/feature&gt;</span>
<a id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="nt">&lt;/featureManager&gt;</span>
<a id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="nt">&lt;httpEndpoint</span> <span class="na">id=</span><span class="s">&quot;defaultHttpEndpoint&quot;</span> <span class="na">host=</span><span class="s">&quot;*&quot;</span> <span class="na">httpPort=</span><span class="s">&quot;9080&quot;</span> <span class="na">httpsPort=</span><span class="s">&quot;9443&quot;</span><span class="nt">/&gt;</span>
<a id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="nt">&lt;webApplication</span> <span class="na">location=</span><span class="s">&quot;path/to/legacyapp.war&quot;</span> <span class="na">name=</span><span class="s">&quot;legacyapp&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-6-9" name="__codelineno-6-9"></a>    <span class="nt">&lt;context-root&gt;</span>/legacyapp<span class="nt">&lt;/context-root&gt;</span>
<a id="__codelineno-6-10" name="__codelineno-6-10"></a>    <span class="nt">&lt;classLoader</span> <span class="na">commonLibraryRef=</span><span class="s">&quot;LibertyBasicCL&quot;</span><span class="nt">/&gt;</span>
<a id="__codelineno-6-11" name="__codelineno-6-11"></a><span class="nt">&lt;/webApplication&gt;</span>
<a id="__codelineno-6-12" name="__codelineno-6-12"></a><span class="nt">&lt;basicRegistry</span> <span class="na">id=</span><span class="s">&quot;LibertyBasicCL&quot;</span> <span class="na">realm=</span><span class="s">&quot;LibertyBasicRealm&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-6-13" name="__codelineno-6-13"></a>    <span class="nt">&lt;user</span> <span class="na">name=</span><span class="s">&quot;admin&quot;</span> <span class="na">password=</span><span class="s">&quot;adminPassword&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-6-14" name="__codelineno-6-14"></a><span class="nt">&lt;/basicRegistry&gt;</span>
<a id="__codelineno-6-15" name="__codelineno-6-15"></a><span class="nt">&lt;login-config&gt;</span>
<a id="__codelineno-6-16" name="__codelineno-6-16"></a>    <span class="nt">&lt;auth-method&gt;</span>BASIC<span class="nt">&lt;/auth-method&gt;</span>
<a id="__codelineno-6-17" name="__codelineno-6-17"></a><span class="nt">&lt;/login-config&gt;</span>
<a id="__codelineno-6-18" name="__codelineno-6-18"></a><span class="nt">&lt;realm</span> <span class="na">name=</span><span class="s">&quot;LibertyBasicRealm&quot;</span> <span class="na">realm-name=</span><span class="s">&quot;LibertyBasicRealm&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-6-19" name="__codelineno-6-19"></a>    <span class="nt">&lt;users</span> <span class="na">file=</span><span class="s">&quot;path/to/users.properties&quot;</span><span class="nt">/&gt;</span>
<a id="__codelineno-6-20" name="__codelineno-6-20"></a>    <span class="nt">&lt;groups</span> <span class="na">file=</span><span class="s">&quot;path/to/groups.properties&quot;</span><span class="nt">/&gt;</span>
<a id="__codelineno-6-21" name="__codelineno-6-21"></a><span class="nt">&lt;/realm&gt;</span>
<a id="__codelineno-6-22" name="__codelineno-6-22"></a><span class="nt">&lt;jdbcDriver</span> <span class="na">libraryRef=</span><span class="s">&quot;DefaultDataSource&quot;</span><span class="nt">/&gt;</span>
<a id="__codelineno-6-23" name="__codelineno-6-23"></a><span class="nt">&lt;dataSource</span> <span class="na">jndiName=</span><span class="s">&quot;jdbc/LegacyDS&quot;</span> <span class="na">id=</span><span class="s">&quot;DefaultDataSource&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-6-24" name="__codelineno-6-24"></a>    <span class="nt">&lt;jdbcDriver</span> <span class="na">libraryRef=</span><span class="s">&quot;XADatabase&quot;</span><span class="nt">/&gt;</span>
<a id="__codelineno-6-25" name="__codelineno-6-25"></a>    <span class="nt">&lt;properties.db2.jcc</span> <span class="na">databaseName=</span><span class="s">&quot;yourDatabaseName&quot;</span> <span class="na">serverName=</span><span class="s">&quot;yourServerName&quot;</span> <span class="na">portNumber=</span><span class="s">&quot;yourPortNumber&quot;</span><span class="nt">/&gt;</span>
<a id="__codelineno-6-26" name="__codelineno-6-26"></a><span class="nt">&lt;/dataSource&gt;</span>
<a id="__codelineno-6-27" name="__codelineno-6-27"></a><span class="nt">&lt;/server&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-2-__codelineno-7-1"> 1</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-7-2"> 2</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-7-3"> 3</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-7-4"> 4</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-7-5"> 5</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-7-6"> 6</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-7-7"> 7</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-7-8"> 8</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-7-10">10</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-7-11">11</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-7-12">12</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-7-13">13</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-7-14">14</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-7-15">15</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-7-16">16</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-7-17">17</a></span>
<span class="normal"><a href="#appmod-2-__codelineno-7-18">18</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="nt">&lt;web-app</span> <span class="na">xmlns=</span><span class="s">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="na">version=</span><span class="s">&quot;3.1&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="nt">&lt;resource-ref&gt;</span>
<a id="__codelineno-7-8" name="__codelineno-7-8"></a>    <span class="nt">&lt;description&gt;</span>Legacy Data Source<span class="nt">&lt;/description&gt;</span>
<a id="__codelineno-7-9" name="__codelineno-7-9"></a>    <span class="nt">&lt;res-ref-name&gt;</span>jdbc/LegacyDS<span class="nt">&lt;/res-ref-name&gt;</span>
<a id="__codelineno-7-10" name="__codelineno-7-10"></a>    <span class="nt">&lt;res-type&gt;</span>javax.sql.DataSource<span class="nt">&lt;/res-type&gt;</span>
<a id="__codelineno-7-11" name="__codelineno-7-11"></a>    <span class="nt">&lt;res-auth&gt;</span>Container<span class="nt">&lt;/res-auth&gt;</span>
<a id="__codelineno-7-12" name="__codelineno-7-12"></a><span class="nt">&lt;/resource-ref&gt;</span>
<a id="__codelineno-7-13" name="__codelineno-7-13"></a>
<a id="__codelineno-7-14" name="__codelineno-7-14"></a><span class="nt">&lt;security-role&gt;</span>
<a id="__codelineno-7-15" name="__codelineno-7-15"></a>    <span class="nt">&lt;role-name&gt;</span>user<span class="nt">&lt;/role-name&gt;</span>
<a id="__codelineno-7-16" name="__codelineno-7-16"></a><span class="nt">&lt;/security-role&gt;</span>
<a id="__codelineno-7-17" name="__codelineno-7-17"></a>
<a id="__codelineno-7-18" name="__codelineno-7-18"></a><span class="nt">&lt;/web-app&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
</li>
</ol>
<hr />
<ol start="6">
<li>
<p>Let's first examine the use of <strong>WebSphere and Liberty-specific features</strong>. Lariat makes use of the <code>webProfile-8.0</code> bundle set for servlets and Enterprise JavaBeans:</p>
<p></br></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#appmod-2-__codelineno-8-1"></a><span class="nt">&lt;featureManager&gt;</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#appmod-2-__codelineno-8-2"></a>    <span class="nt">&lt;feature&gt;</span>webProfile-8.0<span class="nt">&lt;/feature&gt;</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#appmod-2-__codelineno-8-3"></a>    <span class="nt">&lt;feature&gt;</span>jdbc-4.2<span class="nt">&lt;/feature&gt;</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#appmod-2-__codelineno-8-4"></a><span class="nt">&lt;/featureManager&gt;</span>
</code></pre></div>
<p></br>
By contrast, WCA has explicitly pulled in individual features like <code>jsp-2.3</code>, <code>servlet-3.1</code>, and <code>ejbLite-3.2</code> which provides finer control over imports - avoiding unnecessary bloat.</p>
<p></br>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#appmod-2-__codelineno-9-1"></a><span class="nt">&lt;featureManager&gt;</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#appmod-2-__codelineno-9-2"></a>    <span class="nt">&lt;feature&gt;</span>jsp-2.3<span class="nt">&lt;/feature&gt;</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#appmod-2-__codelineno-9-3"></a>    <span class="nt">&lt;feature&gt;</span>servlet-3.1<span class="nt">&lt;/feature&gt;</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#appmod-2-__codelineno-9-4"></a>    <span class="nt">&lt;feature&gt;</span>ejbLite-3.2<span class="nt">&lt;/feature&gt;</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#appmod-2-__codelineno-9-5"></a><span class="nt">&lt;/featureManager&gt;</span>
</code></pre></div></p>
</li>
</ol>
<hr />
<ol start="7">
<li>
<p><strong>Security configuration</strong> is another area in which WCA has outperformed Lariat's modernization efforts. For Lariat, no authentication or user realm is configured. By contrast, WCA implements BASIC authentication, user and group registries, login, and custom realm with external property files. Security best-practices have been tuned and baked directly into the AI-generated code recommendations produced by WCA.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#appmod-2-__codelineno-10-1"></a><span class="nt">&lt;basicRegistry</span> <span class="na">id=</span><span class="s">&quot;LibertyBasicCL&quot;</span> <span class="na">realm=</span><span class="s">&quot;LibertyBasicRealm&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#appmod-2-__codelineno-10-2"></a>    <span class="nt">&lt;user</span> <span class="na">name=</span><span class="s">&quot;admin&quot;</span> <span class="na">password=</span><span class="s">&quot;adminPassword&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#appmod-2-__codelineno-10-3"></a><span class="nt">&lt;/basicRegistry&gt;</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#appmod-2-__codelineno-10-4"></a><span class="nt">&lt;login-config&gt;</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#appmod-2-__codelineno-10-5"></a>    <span class="nt">&lt;auth-method&gt;</span>BASIC<span class="nt">&lt;/auth-method&gt;</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#appmod-2-__codelineno-10-6"></a><span class="nt">&lt;/login-config&gt;</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#appmod-2-__codelineno-10-7"></a><span class="nt">&lt;realm</span> <span class="na">name=</span><span class="s">&quot;LibertyBasicRealm&quot;</span> <span class="na">realm-name=</span><span class="s">&quot;LibertyBasicRealm&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#appmod-2-__codelineno-10-8"></a>    <span class="nt">&lt;users</span> <span class="na">file=</span><span class="s">&quot;path/to/users.properties&quot;</span><span class="nt">/&gt;</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#appmod-2-__codelineno-10-9"></a>    <span class="nt">&lt;groups</span> <span class="na">file=</span><span class="s">&quot;path/to/groups.properties&quot;</span><span class="nt">/&gt;</span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#appmod-2-__codelineno-10-10"></a><span class="nt">&lt;/realm&gt;</span>
</code></pre></div>
</li>
</ol>
<hr />
<ol start="8">
<li>
<p><strong>DataSource configuration</strong> is arguably a toss-up between either version, depending on an organization's goals. Lariat's code has been structured for portability and is decoupled from any specific database:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#appmod-2-__codelineno-11-1"></a><span class="nt">&lt;dataSource</span> <span class="na">id=</span><span class="s">&quot;jdbc/ModernDS&quot;</span> <span class="na">jndiName=</span><span class="s">&quot;jdbc/ModernDS&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#appmod-2-__codelineno-11-2"></a>    <span class="nt">&lt;jdbcDriver</span> <span class="na">libraryRef=</span><span class="s">&quot;jdbcLib&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#appmod-2-__codelineno-11-3"></a>    <span class="nt">&lt;connectionManager</span> <span class="na">maxPoolSize=</span><span class="s">&quot;50&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#appmod-2-__codelineno-11-4"></a><span class="nt">&lt;/dataSource&gt;</span>
</code></pre></div>
<p></br>
WCA's recommendation utilizes an IBM Db2-specific set of JDBC drivers. For clients with a highly-regulated, Db2-heavy enterprise environment, this code recommendation has much more utility to the requirements of their business:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#appmod-2-__codelineno-12-1"></a><span class="nt">&lt;dataSource</span> <span class="na">jndiName=</span><span class="s">&quot;jdbc/LegacyDS&quot;</span> <span class="na">id=</span><span class="s">&quot;DefaultDataSource&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#appmod-2-__codelineno-12-2"></a>    <span class="nt">&lt;jdbcDriver</span> <span class="na">libraryRef=</span><span class="s">&quot;XADatabase&quot;</span><span class="nt">/&gt;</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#appmod-2-__codelineno-12-3"></a>    <span class="nt">&lt;properties.db2.jcc</span> <span class="err">...</span> <span class="nt">/&gt;</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#appmod-2-__codelineno-12-4"></a><span class="nt">&lt;/dataSource&gt;</span>
</code></pre></div>
</li>
</ol>
<hr />
<h2 id="appmod-2-v-next-steps"><strong>v. Next steps</strong></h2>
<p>In the following module, participants will examine how to modernize legacy WebSphere Application Server code for configuration and dependency management.</p></section><section class="print-page" id="appmod-3"><h1 id="appmod-3-configuration-and-dependency-managementapplication-modernization-websphere-to-liberty"><strong>Configuration and dependency management</strong></br><em>Application Modernization - WebSphere to Liberty</em></h1>
<h2 id="appmod-3-i-incentives-to-modernize"><strong>i. Incentives to modernize</strong></h2>
<div class="admonition quote">
<p class="admonition-title">SECTION I. TERMINOLOGY</p>
<p>For readability, <a href="https://www.ibm.com/products/websphere-application-server" target="_blank"><strong>IBM WebSphere Application Server</strong></a> (WAS) in this chapter is referred to in shorthand as "WebSphere", unless noted otherwise. Similarly, <a href="https://www.ibm.com/products/cloud-pak-for-applications/liberty" target="_blank"><strong>IBM WebSphere Liberty</strong></a> is referenced in shorthand as simply "Liberty".</p>
</div>
<p>In order to perform configuration and dependency management, Lariat Corporation employs various WebSphere <strong>class loader configurations</strong> to exert control over how Java classes and libraries are accessed by applications. In essence, these class loaders help define the scope and visibility of Java classes, resources, and libraries that are available for use by those applications.</p>
<p>Legacy applications built for WAS can use class loader configurations in a variety of ways, including:</p>
<ul>
<li><strong>Isolation of application dependencies:</strong> provide assurances that applications avoid conflicts or unintended interactions that might arise from using shared libraries</li>
<li><strong>Application module management:</strong> for WebSphere Enterprise Archive (EAR) applications, like those covered in the previous section, class loader configurations can manage the visibility of classes across different modules of the same EAR file</li>
</ul>
<p>In addition, the ability to selectively control class loading can reduce the overall memory footprint and resource overhead of an application. The result is that class loader configurations play an important part for managing dependency conflicts and application stability across Lariat's WAS services and environments.</p>
<p></br></p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>WebSphere class loader configuration</th>
<th>Liberty server configuration</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Configuration Complexity</strong></td>
<td>High: hierarchical and administration-intensive.</td>
<td>Low: concise and self-contained.</td>
</tr>
<tr>
<td><strong>Maintainability</strong></td>
<td>Configuration tends to be dispersed, raising difficulties with maintenance.</td>
<td>Clear and concise, only need to maintain a single configuration file.</td>
</tr>
<tr>
<td><strong>Developer Productivity</strong></td>
<td>Lowered due to administrative overhead, high probability of class-loading conflicts.</td>
<td>Raised due to minimal overhead and reduced likelihood of human-introduced errors from single source of truth.</td>
</tr>
<tr>
<td><strong>Scalability</strong></td>
<td>Difficult to scale due to potential for complex sets of dependencies.</td>
<td>Rapidly scaled due to cloud-native design.</td>
</tr>
</tbody>
</table>
<p>Lariat's legacy <strong>WebSphere class loader configuration</strong> implementation suffers from significant (and unnecessary) complexity owing to bloated class-loader configurations. Multiple shared libraries need to be configured and adjusted via an admin console, resulting in redundant use of dependencies and libraries that could otherwise be shared with better design.</p>
<p>Through modernization of the code to <strong>Liberty server configuration</strong>, the expectation is that the process of managing dependencies and application configuration can be simplified and more easily maintained.</p>
<hr />
<h2 id="appmod-3-ii-websphere-legacy-code"><strong>ii. WebSphere legacy code</strong></h2>
<p>First, examine the legacy code (below), which as mentioned previously is a snapshot of a larger application using <strong>WebSphere class loader configuration</strong>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:1"><input checked="checked" id="appmod-3-__tabbed_1_1" name="appmod-3-__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="appmod-3-__tabbed_1_1">WEBSPHERE APPLICATION SERVER</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-3-__codelineno-0-1"> 1</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-0-2"> 2</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-0-3"> 3</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-0-4"> 4</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-0-10">10</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-0-11">11</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-0-12">12</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-0-13">13</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-0-14">14</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-0-15">15</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-0-16">16</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-0-17">17</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-0-18">18</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="cm">&lt;!-- deployment.xml --&gt;</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="nt">&lt;deployment&gt;</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a>    <span class="nt">&lt;classloader</span> <span class="na">mode=</span><span class="s">&quot;PARENT_LAST&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a>        <span class="nt">&lt;library&gt;</span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a>            <span class="nt">&lt;file</span> <span class="na">path=</span><span class="s">&quot;/shared/libs/customlib.jar&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a>        <span class="nt">&lt;/library&gt;</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a>        <span class="nt">&lt;shared-library</span> <span class="na">name=</span><span class="s">&quot;LegacySharedLib&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a>    <span class="nt">&lt;/classloader&gt;</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="nt">&lt;/deployment&gt;</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="cm">&lt;!-- shared-libraries.xml --&gt;</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="nt">&lt;shared-libraries&gt;</span>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a>    <span class="nt">&lt;library</span> <span class="na">name=</span><span class="s">&quot;LegacySharedLib&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a>        <span class="nt">&lt;files&gt;</span>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a>            <span class="nt">&lt;file&gt;</span>/opt/was/shared/lib/shared-legacy.jar<span class="nt">&lt;/file&gt;</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a>        <span class="nt">&lt;/files&gt;</span>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a>    <span class="nt">&lt;/library&gt;</span>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a><span class="nt">&lt;/shared-libraries&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<p></br>
The legacy implementation utilizes separate, detailed descriptor files like <code>deployment.xml</code> (<strong>lines 1-9</strong>) and <code>shared-libraries.xml</code> (<strong>lines 11-18</strong>) to handle complex dependency and class-loading configurations. Lariat administrators who manage this code base must explicitly set class loader modes to control resource loading order — an inefficient, manual process achieved using the <code>PARENT_LAST</code> option.</p>
<p>As a consequence, libraries that should ideally be shared by multiple applications instead need to be managed separately by each application in turn. This is terribly inefficient and produces needlessly complex classloader configurations. For Lariat's administrators, this approach to configuration and dependency management has frequently resulted in version conflicts for applications and complex debugging work for developers.</p>
<hr />
<h2 id="appmod-3-iii-liberty-modernized-code"><strong>iii. Liberty modernized code</strong></h2>
<p>Consider below the modernized (but functionally equivalent) application code using <strong>Liberty server configuration</strong>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="appmod-3-__tabbed_2_1" name="appmod-3-__tabbed_2" type="radio" /><input id="appmod-3-__tabbed_2_2" name="appmod-3-__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="appmod-3-__tabbed_2_1">WEBSPHERE LIBERTY</label><label for="appmod-3-__tabbed_2_2">WEBSPHERE APPLICATION SERVER</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-3-__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-1-10">10</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-1-11">11</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-1-12">12</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-1-13">13</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-1-14">14</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-1-15">15</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-1-16">16</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-1-17">17</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-1-18">18</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="hll"><span class="cm">&lt;!-- server.xml --&gt;</span>
</span><a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="nt">&lt;server&gt;</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a>    <span class="nt">&lt;featureManager&gt;</span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a>        <span class="nt">&lt;feature&gt;</span>webProfile-8.0<span class="nt">&lt;/feature&gt;</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a>    <span class="nt">&lt;/featureManager&gt;</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a>    <span class="nt">&lt;library</span> <span class="na">id=</span><span class="s">&quot;customLib&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a>        <span class="nt">&lt;fileset</span> <span class="na">dir=</span><span class="s">&quot;${server.config.dir}/shared/libs&quot;</span> <span class="na">includes=</span><span class="s">&quot;*.jar&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-1-9" name="__codelineno-1-9"></a>    <span class="nt">&lt;/library&gt;</span>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a>
<a id="__codelineno-1-11" name="__codelineno-1-11"></a>    <span class="nt">&lt;application</span> <span class="na">location=</span><span class="s">&quot;modernized.war&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-1-12" name="__codelineno-1-12"></a>        <span class="nt">&lt;classloader</span> <span class="na">delegation=</span><span class="s">&quot;parentLast&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-1-13" name="__codelineno-1-13"></a>            <span class="nt">&lt;commonLibrary&gt;</span>
<a id="__codelineno-1-14" name="__codelineno-1-14"></a>                <span class="nt">&lt;library</span> <span class="na">ref=</span><span class="s">&quot;customLib&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-1-15" name="__codelineno-1-15"></a>            <span class="nt">&lt;/commonLibrary&gt;</span>
<a id="__codelineno-1-16" name="__codelineno-1-16"></a>        <span class="nt">&lt;/classloader&gt;</span>
<a id="__codelineno-1-17" name="__codelineno-1-17"></a>    <span class="nt">&lt;/application&gt;</span>
<a id="__codelineno-1-18" name="__codelineno-1-18"></a><span class="nt">&lt;/server&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-3-__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-2-10">10</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-2-11">11</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-2-12">12</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-2-13">13</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-2-14">14</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-2-15">15</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-2-16">16</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-2-17">17</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-2-18">18</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="hll"><span class="cm">&lt;!-- deployment.xml --&gt;</span>
</span><a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="nt">&lt;deployment&gt;</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a>    <span class="nt">&lt;classloader</span> <span class="na">mode=</span><span class="s">&quot;PARENT_LAST&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a>        <span class="nt">&lt;library&gt;</span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a>            <span class="nt">&lt;file</span> <span class="na">path=</span><span class="s">&quot;/shared/libs/customlib.jar&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a>        <span class="nt">&lt;/library&gt;</span>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a>        <span class="nt">&lt;shared-library</span> <span class="na">name=</span><span class="s">&quot;LegacySharedLib&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a>    <span class="nt">&lt;/classloader&gt;</span>
<a id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="nt">&lt;/deployment&gt;</span>
<a id="__codelineno-2-10" name="__codelineno-2-10"></a>
<a id="__codelineno-2-11" name="__codelineno-2-11"></a><span class="hll"><span class="cm">&lt;!-- shared-libraries.xml --&gt;</span>
</span><a id="__codelineno-2-12" name="__codelineno-2-12"></a><span class="nt">&lt;shared-libraries&gt;</span>
<a id="__codelineno-2-13" name="__codelineno-2-13"></a>    <span class="nt">&lt;library</span> <span class="na">name=</span><span class="s">&quot;LegacySharedLib&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-2-14" name="__codelineno-2-14"></a>        <span class="nt">&lt;files&gt;</span>
<a id="__codelineno-2-15" name="__codelineno-2-15"></a>            <span class="nt">&lt;file&gt;</span>/opt/was/shared/lib/shared-legacy.jar<span class="nt">&lt;/file&gt;</span>
<a id="__codelineno-2-16" name="__codelineno-2-16"></a>        <span class="nt">&lt;/files&gt;</span>
<a id="__codelineno-2-17" name="__codelineno-2-17"></a>    <span class="nt">&lt;/library&gt;</span>
<a id="__codelineno-2-18" name="__codelineno-2-18"></a><span class="nt">&lt;/shared-libraries&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<p></br>
The modernized Liberty code implementation simplifies the management of dependencies by removing the discrete (separate) descriptors like <code>deployment.xml</code> and <code>shared-libraries.xml</code> from the WAS implementation. Instead, configuration and dependency management has been consolidated into a single <code>server.xml</code> descriptor, which more clearly defines the permitted libraries and their associated paths.</p>
<p>Other benefits from the modernization work also include:</p>
<ul>
<li>
<p>Class loading policies (such as 'parentLast' on <strong>line 12</strong>) are now explicitly stated, helping to simplify the process of resource management for developers drawing from these resources.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#appmod-3-__codelineno-3-1"></a><span class="nt">&lt;classloader</span> <span class="na">delegation=</span><span class="s">&quot;parentLast&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#appmod-3-__codelineno-3-2"></a>    <span class="nt">&lt;commonLibrary&gt;</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#appmod-3-__codelineno-3-3"></a>        <span class="nt">&lt;library</span> <span class="na">ref=</span><span class="s">&quot;customLib&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#appmod-3-__codelineno-3-4"></a>    <span class="nt">&lt;/commonLibrary&gt;</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#appmod-3-__codelineno-3-5"></a><span class="nt">&lt;/classloader&gt;</span>
</code></pre></div>
</li>
<li>
<p>Dependencies are now directly tied and associated to applications, creating relationships between the two that are more transparent and easier to maintain.</p>
</li>
</ul>
<p>Ultimately, the modernization process into Liberty has resulted in configuration and dependency management that reduces dependency conflicts, simplifies resource management, and improves the overall clarity and maintainability of these assets going forward.</p>
<hr />
<h2 id="appmod-3-iv-hands-on-with-wca"><strong>iv. Hands-on with WCA</strong></h2>
<div class="admonition quote">
<p class="admonition-title">SECTION IV. TERMINOLOGY</p>
<p>For the purposes of comparison and brevity, the WCA-generated Liberty code will be referred to simply as "<strong>WCA</strong>" and Lariat Corporation's best-practice modernized code will be referred to as "<strong>Lariat</strong>".</p>
</div>
<p>In the following section, participants will have the opportunity to experiment with the <strong>watsonx Code Assistant</strong> (<strong>WCA</strong>) service set up in the <a href="https://ibm.github.io/wca-l4/saas/1/" target="_blank"><strong>IBM Cloud (SaaS) Configuration module</strong></a>.</p>
<ul>
<li>Using the <strong>Chat</strong> feature, which can be accessed via the WCA extension for Visual Studio Code (VS Code), you will first ask WCA convert the original <em>WebSphere Application Service (WCA)</em> code into a modernized equivalent for <em>WebSphere Liberty</em>.</li>
<li>The lab guide documentation will then walk you through an analysis of the WCA-generated Liberty code and compare that to the best-practice Liberty code discussed previously in <strong>iii. Liberty modernized code</strong>.</li>
<li>After comparing the two approaches to Liberty modernization, you will have the opportunity to continue tinkering with the WCA Chat service. Experimentation is encouraged. Try influencing WCA's generative AI recommendations by making further prompts or inquiries into the code responses it generates.</li>
<li>When satisfied, you may proceed onwards to the next module.</li>
</ul>
<hr />
<ol>
<li><strong>Log in</strong> to the <a href="https://ibm.github.io/wca-l4/saas/3/#iii-install-the-extension" target="_blank"><strong>WCA extension with VS Code</strong></a>. Once authenticated, proceed to Step 2.</li>
</ol>
<hr />
<ol start="2">
<li>
<p>From the left taskbar, ensure that <strong>watsonx Code Assistant</strong><sup>[A]</sup> extension is selected.</p>
<p>Within the <strong>Chat Session</strong> window, <strong>click</strong> on the <code>Enter / for commands</code> prompt<sup>[B]</sup> as shown.</p>
<p></br>
<a class="glightbox" href="../appmod/_attachments/appmod-2.2.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../appmod/_attachments/appmod-2.2.png" /></a></p>
</li>
</ol>
<hr />
<ol start="3">
<li>
<p>Prime the service to be ready to intake legacy WAS code and modernize that into Liberty code. As a suggestion, <strong>copy</strong> the following prompt, <strong>paste</strong> it into the chat window, and hit <span class="keys"><kbd class="key-enter">Enter</kbd></span> to execute the modernization request:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#appmod-3-__codelineno-4-1"></a>I need to modernize code written for WebSphere Application Server into WebSphere Liberty. Can you help?
</code></pre></div>
<div class="admonition warning">
<p><strong>TIP:</strong> You can increase the width of the Chat Session window by clicking and dragging the right-side of the window frame and pulling it towards the right of the screen.</p>
</div>
</li>
</ol>
<hr />
<ol start="4">
<li>
<p>Now that WCA is primed to receive WAS code, <strong>copy and paste</strong> the following code block into the <strong>Chat Session</strong>, then <span class="keys"><kbd class="key-enter">Enter</kbd></span> to execute.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:1"><input checked="checked" id="appmod-3-__tabbed_3_1" name="appmod-3-__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="appmod-3-__tabbed_3_1">WEBSPHERE APPLICATION SERVER</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-3-__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-5-10">10</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-5-11">11</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-5-12">12</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-5-13">13</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-5-14">14</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-5-15">15</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-5-16">16</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-5-17">17</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-5-18">18</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="cm">&lt;!-- deployment.xml --&gt;</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="nt">&lt;deployment&gt;</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a>    <span class="nt">&lt;classloader</span> <span class="na">mode=</span><span class="s">&quot;PARENT_LAST&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a>        <span class="nt">&lt;library&gt;</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a>            <span class="nt">&lt;file</span> <span class="na">path=</span><span class="s">&quot;/shared/libs/customlib.jar&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a>        <span class="nt">&lt;/library&gt;</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a>        <span class="nt">&lt;shared-library</span> <span class="na">name=</span><span class="s">&quot;LegacySharedLib&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a>    <span class="nt">&lt;/classloader&gt;</span>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a><span class="nt">&lt;/deployment&gt;</span>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a>
<a id="__codelineno-5-11" name="__codelineno-5-11"></a><span class="cm">&lt;!-- shared-libraries.xml --&gt;</span>
<a id="__codelineno-5-12" name="__codelineno-5-12"></a><span class="nt">&lt;shared-libraries&gt;</span>
<a id="__codelineno-5-13" name="__codelineno-5-13"></a>    <span class="nt">&lt;library</span> <span class="na">name=</span><span class="s">&quot;LegacySharedLib&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-5-14" name="__codelineno-5-14"></a>        <span class="nt">&lt;files&gt;</span>
<a id="__codelineno-5-15" name="__codelineno-5-15"></a>            <span class="nt">&lt;file&gt;</span>/opt/was/shared/lib/shared-legacy.jar<span class="nt">&lt;/file&gt;</span>
<a id="__codelineno-5-16" name="__codelineno-5-16"></a>        <span class="nt">&lt;/files&gt;</span>
<a id="__codelineno-5-17" name="__codelineno-5-17"></a>    <span class="nt">&lt;/library&gt;</span>
<a id="__codelineno-5-18" name="__codelineno-5-18"></a><span class="nt">&lt;/shared-libraries&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
</li>
</ol>
<hr />
<ol start="5">
<li>
<p>After a few moments, WCA will return a combination of code blocks and explanations to the Chat session console. Cycle through the tab(s) below to examine the <strong>modernized, WCA-generated Liberty code</strong>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="appmod-3-__tabbed_4_1" name="appmod-3-__tabbed_4" type="radio" /><input id="appmod-3-__tabbed_4_2" name="appmod-3-__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="appmod-3-__tabbed_4_1">WCA LIBERTY <code>server.xml</code></label><label for="appmod-3-__tabbed_4_2">WCA LIBERTY <code>shared-library.xml</code></label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-3-__codelineno-6-1">1</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-6-2">2</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-6-3">3</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-6-4">4</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-6-5">5</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-6-6">6</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-6-7">7</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-6-8">8</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-6-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="nt">&lt;server</span> <span class="na">description=</span><span class="s">&quot;new server&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a>    <span class="nt">&lt;featureManager&gt;</span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a>        <span class="nt">&lt;feature&gt;</span>jsp-2.3<span class="nt">&lt;/feature&gt;</span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a>        <span class="nt">&lt;feature&gt;</span>servlet-3.1<span class="nt">&lt;/feature&gt;</span>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a>    <span class="nt">&lt;/featureManager&gt;</span>
<a id="__codelineno-6-6" name="__codelineno-6-6"></a>    <span class="nt">&lt;httpEndpoint</span> <span class="na">id=</span><span class="s">&quot;defaultHttpEndpoint&quot;</span> <span class="na">host=</span><span class="s">&quot;*&quot;</span> <span class="na">httpPort=</span><span class="s">&quot;9080&quot;</span> <span class="na">httpsPort=</span><span class="s">&quot;9443&quot;</span><span class="nt">/&gt;</span>
<a id="__codelineno-6-7" name="__codelineno-6-7"></a>    <span class="nt">&lt;sharedLibrary</span> <span class="na">id=</span><span class="s">&quot;LegacySharedLib&quot;</span> <span class="na">location=</span><span class="s">&quot;path/to/shared-legacy.jar&quot;</span><span class="nt">/&gt;</span>
<a id="__codelineno-6-8" name="__codelineno-6-8"></a>    <span class="nt">&lt;classLoader</span> <span class="na">commonLibraryRef=</span><span class="s">&quot;LegacySharedLib&quot;</span><span class="nt">/&gt;</span>
<a id="__codelineno-6-9" name="__codelineno-6-9"></a><span class="nt">&lt;/server&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-3-__codelineno-7-1">1</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-7-2">2</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-7-3">3</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-7-4">4</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-7-5">5</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-7-6">6</a></span>
<span class="normal"><a href="#appmod-3-__codelineno-7-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="nt">&lt;sharedLibraries&gt;</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a>    <span class="nt">&lt;library</span> <span class="na">id=</span><span class="s">&quot;LegacySharedLib&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a>        <span class="nt">&lt;files&gt;</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a>            <span class="nt">&lt;file&gt;</span>path/to/customlib.jar<span class="nt">&lt;/file&gt;</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a>        <span class="nt">&lt;/files&gt;</span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a>    <span class="nt">&lt;/library&gt;</span>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="nt">&lt;/sharedLibraries&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
</li>
</ol>
<hr />
<ol start="6">
<li>At a glance, the newly-generated WCA code appears to be significantly more complex: splitting <strong>configuration organization</strong> across <code>server.xml</code> and <code>shared-library.xml</code>, rather than Lariat's consolidated <code>server.xml</code> approach. Not an encouraging start, but let's drill down into specific elements before making a final critique.</li>
</ol>
<hr />
<ol start="7">
<li>
<p>In terms of <strong>encapsulation</strong> of necessary classes and libraries, Lariat's best-practices Liberty code outshines WCA's Liberty recommendations. Consider the following slice of Lariat's modernized code:</p>
<p></br>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#appmod-3-__codelineno-8-1"></a><span class="nt">&lt;library</span> <span class="na">id=</span><span class="s">&quot;customLib&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#appmod-3-__codelineno-8-2"></a>    <span class="nt">&lt;fileset</span> <span class="na">dir=</span><span class="s">&quot;${server.config.dir}/shared/libs&quot;</span> <span class="na">includes=</span><span class="s">&quot;*.jar&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#appmod-3-__codelineno-8-3"></a><span class="nt">&lt;/library&gt;</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#appmod-3-__codelineno-8-4"></a><span class="hll"><span class="nt">&lt;classloader</span> <span class="na">delegation=</span><span class="s">&quot;parentLast&quot;</span><span class="nt">&gt;</span>
</span><a id="__codelineno-8-5" name="__codelineno-8-5" href="#appmod-3-__codelineno-8-5"></a>    <span class="nt">&lt;commonLibrary&gt;</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#appmod-3-__codelineno-8-6"></a>        <span class="nt">&lt;library</span> <span class="na">ref=</span><span class="s">&quot;customLib&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#appmod-3-__codelineno-8-7"></a>    <span class="nt">&lt;/commonLibrary&gt;</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#appmod-3-__codelineno-8-8"></a><span class="nt">&lt;/classloader&gt;</span>
</code></pre></div></p>
<p></br>
The code's <em>Classloader</em> has been limited in scope only to the deployed WAR: <code>parentLast</code> ensures that the application's classes override any shared ones, which is generally the "safer" approach to take for modernization of legacy applications. Contrast that to WCA's approach:</p>
<p></br>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#appmod-3-__codelineno-9-1"></a><span class="hll"><span class="nt">&lt;sharedLibrary</span> <span class="na">id=</span><span class="s">&quot;LegacySharedLib&quot;</span> <span class="na">location=</span><span class="s">&quot;path/to/shared-legacy.jar&quot;</span><span class="nt">/&gt;</span>
</span><a id="__codelineno-9-2" name="__codelineno-9-2" href="#appmod-3-__codelineno-9-2"></a><span class="nt">&lt;classLoader</span> <span class="na">commonLibraryRef=</span><span class="s">&quot;LegacySharedLib&quot;</span><span class="nt">/&gt;</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#appmod-3-__codelineno-9-3"></a>...
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#appmod-3-__codelineno-9-4"></a><span class="nt">&lt;sharedLibraries&gt;</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#appmod-3-__codelineno-9-5"></a><span class="hll">    <span class="nt">&lt;library</span> <span class="na">id=</span><span class="s">&quot;LegacySharedLib&quot;</span><span class="nt">&gt;</span>
</span><a id="__codelineno-9-6" name="__codelineno-9-6" href="#appmod-3-__codelineno-9-6"></a>        <span class="nt">&lt;files&gt;</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#appmod-3-__codelineno-9-7"></a>            <span class="nt">&lt;file&gt;</span>path/to/customlib.jar<span class="nt">&lt;/file&gt;</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#appmod-3-__codelineno-9-8"></a>        <span class="nt">&lt;/files&gt;</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#appmod-3-__codelineno-9-9"></a>    <span class="nt">&lt;/library&gt;</span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#appmod-3-__codelineno-9-10"></a><span class="nt">&lt;/sharedLibraries&gt;</span>
</code></pre></div></p>
<p></br>
WCA uses a <strong>global</strong> scoped <em>Classloader</em> which will impact all applications in the environment PATH. The implementation is also slightly confusing to look at and redundant in design — <code>LegacySharedLib</code> has been declared twice in the highlighted code.</p>
</li>
</ol>
<hr />
<ol start="8">
<li>
<p>Lastly, on the topic of <strong>application deployments</strong>, Lariat's code base has explicit WAR deployment instructions built into the <code>server.xml</code> configuration file:</p>
<p></br>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#appmod-3-__codelineno-10-1"></a><span class="nt">&lt;application</span> <span class="na">location=</span><span class="s">&quot;modernized.war&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#appmod-3-__codelineno-10-2"></a>    <span class="nt">&lt;classloader</span> <span class="na">delegation=</span><span class="s">&quot;parentLast&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#appmod-3-__codelineno-10-3"></a>        <span class="nt">&lt;commonLibrary&gt;</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#appmod-3-__codelineno-10-4"></a>            <span class="nt">&lt;library</span> <span class="na">ref=</span><span class="s">&quot;customLib&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#appmod-3-__codelineno-10-5"></a>        <span class="nt">&lt;/commonLibrary&gt;</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#appmod-3-__codelineno-10-6"></a>    <span class="nt">&lt;/classloader&gt;</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#appmod-3-__codelineno-10-7"></a><span class="nt">&lt;/application&gt;</span>
</code></pre></div></p>
<p></br></p>
<p>Conversely, WCA's modernized Liberty code recommendations <em>do not include</em> a WAR deployment instruction set. This may be an artifact of the original WAS script (submitted in Step 4) that was only a snippet of the larger application — and therefore not indicative of a full-fledged, end to end application. As a result, WCA's recommendation does not include WAR deployment definitions which would be needed to actually load an application.</p>
</li>
</ol>
<hr />
<h2 id="appmod-3-v-next-steps"><strong>v. Next steps</strong></h2>
<p>In the following module, participants will examine how to modernize legacy WebSphere Application Server APIs and libraries.</p></section><section class="print-page" id="appmod-4"><h1 id="appmod-4-apis-and-librariesapplication-modernization-websphere-to-liberty"><strong>APIs and libraries</strong></br><em>Application Modernization - WebSphere to Liberty</em></h1>
<h2 id="appmod-4-i-incentives-to-modernize"><strong>i. Incentives to modernize</strong></h2>
<div class="admonition quote">
<p class="admonition-title">SECTION I. TERMINOLOGY</p>
<p>For readability, <a href="https://www.ibm.com/products/websphere-application-server" target="_blank"><strong>IBM WebSphere Application Server</strong></a> (WAS) in this chapter is referred to in shorthand as "WebSphere", unless noted otherwise. Similarly, <a href="https://www.ibm.com/products/cloud-pak-for-applications/liberty" target="_blank"><strong>IBM WebSphere Liberty</strong></a> is referenced in shorthand as simply "Liberty".</p>
</div>
<p>Lariat Corporation's application stack utilizes a myriad of <strong>WebSphere Application Server APIs</strong>— Work Manager API, Async Beans, Scheduler API, and so on —which will likely be impacted and require remediation as part of the company's overall modernization towards WebSphere Liberty. WAS APIs may not be immediately portable in their current form, they are potentially more costly to maintain than their Liberty counterparts, and may have less functionality given their outdated implementations.</p>
<p>Liberty-compatible APIs increase the portability of applications across different Java Enterprise Edition (<em>Java EE</em> or <em>Jakarta EE</em>) application servers. The result is that developers can more easily facilitate cloud deployments or migrations to other runtimes. Liberty APIs follow standardized annotations and conventions that simplify the boilerplate code needed for applications to exchange data with these APIs. WAS-specific APIs, by contrast, are potentially locked to specific versions of WebSphere - which in turn "lock in" the applications dependent on such APIs.</p>
<p></br></p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>WebSphere Scheduler API</th>
<th>Liberty's Jakarta EE-templated APIs</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Standardization</strong></td>
<td>Built on proprietary WebSphere-only APIs.</td>
<td>Built on industry-standardized Jakarta EE APIs. More transferable across vendors and platforms.</td>
</tr>
<tr>
<td><strong>Cloud-Readiness</strong></td>
<td>Tied to traditional WebSphere Application Server only.</td>
<td>Cloud-native architecture by design and portable to containers.</td>
</tr>
<tr>
<td><strong>Developer Productivity</strong></td>
<td>Complex setup requiring use of admin console and external XML definitions.</td>
<td>Declarative and code-driven with Java annotations.</td>
</tr>
</tbody>
</table>
<p>Currently, Lariat's <strong>WebSphere Scheduler APIs</strong> rely upon IBM-specific extensions (such as <code>.com.ibm.websphere</code> packages) that will need to be identified and remediated before modernization with <strong>Liberty's Jakarta EE-templated APIs</strong>.</p>
<p>The shift from proprietary WAS-based APIs to standardized Liberty-based APIs (built to Jakarta EE / Java EE specifications) should improve application portability and align with industry best practices.</p>
<hr />
<h2 id="appmod-4-ii-websphere-legacy-code"><strong>ii. WebSphere legacy code</strong></h2>
<p>First, examine the legacy Java code (below), which as mentioned previously is a snapshot of a larger application using <strong>WebSphere Scheduler API</strong>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:1"><input checked="checked" id="appmod-4-__tabbed_1_1" name="appmod-4-__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="appmod-4-__tabbed_1_1">WEBSPHERE APPLICATION SERVER</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-4-__codelineno-0-1"> 1</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-0-2"> 2</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-0-3"> 3</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-0-4"> 4</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-0-10">10</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-0-11">11</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-0-12">12</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-0-13">13</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-0-14">14</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-0-15">15</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-0-16">16</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-0-17">17</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-0-18">18</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-0-19">19</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-0-20">20</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-0-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.ibm.websphere.scheduler.TaskHandler</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.ibm.websphere.scheduler.Scheduler</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.naming.InitialContext</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">LegacySchedulerTask</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">scheduleTask</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="w">        </span><span class="n">InitialContext</span><span class="w"> </span><span class="n">ctx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">InitialContext</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="w">        </span><span class="n">Scheduler</span><span class="w"> </span><span class="n">scheduler</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Scheduler</span><span class="p">)</span><span class="w"> </span><span class="n">ctx</span><span class="p">.</span><span class="na">lookup</span><span class="p">(</span><span class="s">&quot;scheduler/legacyScheduler&quot;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="w">        </span><span class="n">TaskHandler</span><span class="w"> </span><span class="n">handler</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">scheduler</span><span class="p">.</span><span class="na">createTaskHandler</span><span class="p">(</span><span class="w"></span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="w">            </span><span class="s">&quot;TaskName&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="w">            </span><span class="k">new</span><span class="w"> </span><span class="n">LegacyTask</span><span class="p">(),</span><span class="w"></span>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="w">            </span><span class="kc">null</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="w">            </span><span class="s">&quot;0 0/5 * * * ?&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="w">            </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="w">            </span><span class="kc">null</span><span class="w"></span>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a><span class="w">        </span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="w">        </span><span class="n">handler</span><span class="p">.</span><span class="na">start</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-0-20" name="__codelineno-0-20"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-0-21" name="__codelineno-0-21"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<p></br>
The <code>LegacySchedulerTask</code> API describes a WAS-specific scheduler (identifiable by the <code>com.ibm.websphere.scheduler</code> import statements on <strong>lines 1 and 2</strong>), which invokes IBM-proprietary API standards. These API invocations are in turn used to schedule periodic task executions within Lariat's application estate.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#appmod-4-__codelineno-1-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.ibm.websphere.scheduler.TaskHandler</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#appmod-4-__codelineno-1-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.ibm.websphere.scheduler.Scheduler</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p>Utilizing WAS-specific API calls requires explicit JNDI (Java Naming and Directory Interface) look-ups. Furthermore, it demands manual intervention on the part of application developers to create and manage scheduled API tasks. The result is that this legacy API code, by placing heavy reliance upon WebSphere platform-specific APIs, has impaired the portability of applications.</p>
<hr />
<h2 id="appmod-4-iii-liberty-modernized-code"><strong>iii. Liberty modernized code</strong></h2>
<p>Consider below the modernized (but functionally equivalent) Java code in support of <strong>Liberty's Jakarta EE-templated APIs</strong>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="appmod-4-__tabbed_2_1" name="appmod-4-__tabbed_2" type="radio" /><input id="appmod-4-__tabbed_2_2" name="appmod-4-__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="appmod-4-__tabbed_2_1">WEBSPHERE LIBERTY</label><label for="appmod-4-__tabbed_2_2">WEBSPHERE APPLICATION SERVER</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-4-__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-2-10">10</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-2-11">11</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-2-12">12</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-2-13">13</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-2-14">14</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-2-15">15</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-2-16">16</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-2-17">17</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-2-18">18</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-2-19">19</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-2-20">20</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-2-21">21</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-2-22">22</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-2-23">23</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.annotation.Resource</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.enterprise.context.ApplicationScoped</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.enterprise.concurrent.ManagedScheduledExecutorService</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.concurrent.TimeUnit</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="nd">@ApplicationScoped</span><span class="w"></span>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ModernSchedulerTask</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a>
<a id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="w">    </span><span class="nd">@Resource</span><span class="w"></span>
<a id="__codelineno-2-10" name="__codelineno-2-10"></a><span class="w">    </span><span class="n">ManagedScheduledExecutorService</span><span class="w"> </span><span class="n">executor</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-2-11" name="__codelineno-2-11"></a>
<a id="__codelineno-2-12" name="__codelineno-2-12"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">scheduleTask</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-2-13" name="__codelineno-2-13"></a><span class="w">        </span><span class="n">executor</span><span class="p">.</span><span class="na">scheduleAtFixedRate</span><span class="p">(</span><span class="w"></span>
<a id="__codelineno-2-14" name="__codelineno-2-14"></a><span class="w">            </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-2-15" name="__codelineno-2-15"></a><span class="w">                </span><span class="c1">// Modern task logic here</span><span class="w"></span>
<a id="__codelineno-2-16" name="__codelineno-2-16"></a><span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Executing scheduled task.&quot;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-2-17" name="__codelineno-2-17"></a><span class="w">            </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-2-18" name="__codelineno-2-18"></a><span class="w">            </span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-2-19" name="__codelineno-2-19"></a><span class="w">            </span><span class="mi">5</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-2-20" name="__codelineno-2-20"></a><span class="w">            </span><span class="n">TimeUnit</span><span class="p">.</span><span class="na">MINUTES</span><span class="w"></span>
<a id="__codelineno-2-21" name="__codelineno-2-21"></a><span class="w">        </span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-2-22" name="__codelineno-2-22"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-2-23" name="__codelineno-2-23"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-4-__codelineno-3-1"> 1</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-3-2"> 2</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-3-3"> 3</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-3-4"> 4</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-3-5"> 5</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-3-6"> 6</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-3-7"> 7</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-3-8"> 8</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-3-9"> 9</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-3-10">10</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-3-11">11</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-3-12">12</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-3-13">13</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-3-14">14</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-3-15">15</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-3-16">16</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-3-17">17</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-3-18">18</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-3-19">19</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-3-20">20</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-3-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.ibm.websphere.scheduler.TaskHandler</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.ibm.websphere.scheduler.Scheduler</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.naming.InitialContext</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">LegacySchedulerTask</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">scheduleTask</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="w">        </span><span class="n">InitialContext</span><span class="w"> </span><span class="n">ctx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">InitialContext</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-3-8" name="__codelineno-3-8"></a><span class="w">        </span><span class="n">Scheduler</span><span class="w"> </span><span class="n">scheduler</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Scheduler</span><span class="p">)</span><span class="w"> </span><span class="n">ctx</span><span class="p">.</span><span class="na">lookup</span><span class="p">(</span><span class="s">&quot;scheduler/legacyScheduler&quot;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-3-9" name="__codelineno-3-9"></a>
<a id="__codelineno-3-10" name="__codelineno-3-10"></a><span class="w">        </span><span class="n">TaskHandler</span><span class="w"> </span><span class="n">handler</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">scheduler</span><span class="p">.</span><span class="na">createTaskHandler</span><span class="p">(</span><span class="w"></span>
<a id="__codelineno-3-11" name="__codelineno-3-11"></a><span class="w">            </span><span class="s">&quot;TaskName&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-3-12" name="__codelineno-3-12"></a><span class="w">            </span><span class="k">new</span><span class="w"> </span><span class="n">LegacyTask</span><span class="p">(),</span><span class="w"></span>
<a id="__codelineno-3-13" name="__codelineno-3-13"></a><span class="w">            </span><span class="kc">null</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-3-14" name="__codelineno-3-14"></a><span class="w">            </span><span class="s">&quot;0 0/5 * * * ?&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-3-15" name="__codelineno-3-15"></a><span class="w">            </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-3-16" name="__codelineno-3-16"></a><span class="w">            </span><span class="kc">null</span><span class="w"></span>
<a id="__codelineno-3-17" name="__codelineno-3-17"></a><span class="w">        </span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-3-18" name="__codelineno-3-18"></a>
<a id="__codelineno-3-19" name="__codelineno-3-19"></a><span class="w">        </span><span class="n">handler</span><span class="p">.</span><span class="na">start</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-3-20" name="__codelineno-3-20"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-3-21" name="__codelineno-3-21"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<p></br>
In contrast to the legacy WAS-based Java API, the modernized Liberty approach (templated using Jakarta EE's API conventions) significantly simplifies the scheduling logic. The standardized <code>ManagedScheduledExecutorService</code> API for concurrency simplifies the scheduling of tasks using direct resource injection, as indicated by <code>@Resource</code> beginning on <strong>line 9</strong>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#appmod-4-__codelineno-4-1"></a><span class="nd">@Resource</span><span class="w"></span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#appmod-4-__codelineno-4-2"></a><span class="n">ManagedScheduledExecutorService</span><span class="w"> </span><span class="n">executor</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p>The previous (legacy) requirement of forcing JNDI look-ups, therefore, has been remediated through the use of direct resource injection. The Jakarta EE standard also follows an annotation-driven model for scheduling tasks to reduce the overall complexity of the code and improve its "readability" for human developers.</p>
<p>Ultimately, the modernization efforts have significantly increased the portability and extensibility of Lariat's API-driven application estate. The structure of the API code has been simplified and made much more portable by breaking away from propriety API standards.</p>
<hr />
<h2 id="appmod-4-iv-hands-on-with-wca"><strong>iv. Hands-on with WCA</strong></h2>
<div class="admonition quote">
<p class="admonition-title">SECTION IV. TERMINOLOGY</p>
<p>For the purposes of comparison and brevity, the WCA-generated Liberty code will be referred to simply as "<strong>WCA</strong>" and Lariat Corporation's best-practice modernized code will be referred to as "<strong>Lariat</strong>".</p>
</div>
<p>In the following section, participants will have the opportunity to experiment with the <strong>watsonx Code Assistant</strong> (<strong>WCA</strong>) service set up in the <a href="https://ibm.github.io/wca-l4/saas/1/" target="_blank"><strong>IBM Cloud (SaaS) Configuration module</strong></a>.</p>
<ul>
<li>Using the <strong>Chat</strong> feature, which can be accessed via the WCA extension for Visual Studio Code (VS Code), you will first ask WCA convert the original <em>WebSphere Application Service (WCA)</em> code into a modernized equivalent for <em>WebSphere Liberty</em>.</li>
<li>The lab guide documentation will then walk you through an analysis of the WCA-generated Liberty code and compare that to the best-practice Liberty code discussed previously in <strong>iii. Liberty modernized code</strong>.</li>
<li>After comparing the two approaches to Liberty modernization, you will have the opportunity to continue tinkering with the WCA Chat service. Experimentation is encouraged. Try influencing WCA's generative AI recommendations by making further prompts or inquiries into the code responses it generates.</li>
</ul>
<p>When satisfied, you may proceed onwards to the next module.</p>
<hr />
<ol>
<li><strong>Log in</strong> to the <a href="https://ibm.github.io/wca-l4/saas/3/#iii-install-the-extension" target="_blank"><strong>WCA extension with VS Code</strong></a>. Once authenticated, proceed to Step 2.</li>
</ol>
<hr />
<ol start="2">
<li>
<p>From the left taskbar, ensure that <strong>watsonx Code Assistant</strong><sup>[A]</sup> extension is selected.</p>
<p>Within the <strong>Chat Session</strong> window, <strong>click</strong> on the <code>Enter / for commands</code> prompt<sup>[B]</sup> as shown.</p>
<p></br>
<a class="glightbox" href="../appmod/_attachments/appmod-2.2.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../appmod/_attachments/appmod-2.2.png" /></a></p>
</li>
</ol>
<hr />
<ol start="3">
<li>
<p>Prime the service to be ready to intake legacy WAS code and modernize that into Liberty code. As a suggestion, <strong>copy</strong> the following prompt, <strong>paste</strong> it into the chat window, and hit <span class="keys"><kbd class="key-enter">Enter</kbd></span> to execute the modernization request:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#appmod-4-__codelineno-5-1"></a>I need to modernize code written for WebSphere Application Server into WebSphere Liberty. Can you help?
</code></pre></div>
<div class="admonition warning">
<p><strong>TIP:</strong> You can increase the width of the Chat Session window by clicking and dragging the right-side of the window frame and pulling it towards the right of the screen.</p>
</div>
</li>
</ol>
<hr />
<ol start="4">
<li>
<p>Now that WCA is primed to receive WAS code, <strong>copy and paste</strong> the following code block into the <strong>Chat Session</strong>, then <span class="keys"><kbd class="key-enter">Enter</kbd></span> to execute.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:1"><input checked="checked" id="appmod-4-__tabbed_3_1" name="appmod-4-__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="appmod-4-__tabbed_3_1">WEBSPHERE APPLICATION SERVER</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-4-__codelineno-6-1"> 1</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-6-2"> 2</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-6-3"> 3</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-6-4"> 4</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-6-5"> 5</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-6-6"> 6</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-6-7"> 7</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-6-8"> 8</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-6-9"> 9</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-6-10">10</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-6-11">11</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-6-12">12</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-6-13">13</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-6-14">14</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-6-15">15</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-6-16">16</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-6-17">17</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-6-18">18</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-6-19">19</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-6-20">20</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-6-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.ibm.websphere.scheduler.TaskHandler</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.ibm.websphere.scheduler.Scheduler</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.naming.InitialContext</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">LegacySchedulerTask</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">scheduleTask</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="w">        </span><span class="n">InitialContext</span><span class="w"> </span><span class="n">ctx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">InitialContext</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="w">        </span><span class="n">Scheduler</span><span class="w"> </span><span class="n">scheduler</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Scheduler</span><span class="p">)</span><span class="w"> </span><span class="n">ctx</span><span class="p">.</span><span class="na">lookup</span><span class="p">(</span><span class="s">&quot;scheduler/legacyScheduler&quot;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-6-9" name="__codelineno-6-9"></a>
<a id="__codelineno-6-10" name="__codelineno-6-10"></a><span class="w">        </span><span class="n">TaskHandler</span><span class="w"> </span><span class="n">handler</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">scheduler</span><span class="p">.</span><span class="na">createTaskHandler</span><span class="p">(</span><span class="w"></span>
<a id="__codelineno-6-11" name="__codelineno-6-11"></a><span class="w">            </span><span class="s">&quot;TaskName&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-6-12" name="__codelineno-6-12"></a><span class="w">            </span><span class="k">new</span><span class="w"> </span><span class="n">LegacyTask</span><span class="p">(),</span><span class="w"></span>
<a id="__codelineno-6-13" name="__codelineno-6-13"></a><span class="w">            </span><span class="kc">null</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-6-14" name="__codelineno-6-14"></a><span class="w">            </span><span class="s">&quot;0 0/5 * * * ?&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-6-15" name="__codelineno-6-15"></a><span class="w">            </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-6-16" name="__codelineno-6-16"></a><span class="w">            </span><span class="kc">null</span><span class="w"></span>
<a id="__codelineno-6-17" name="__codelineno-6-17"></a><span class="w">        </span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-6-18" name="__codelineno-6-18"></a>
<a id="__codelineno-6-19" name="__codelineno-6-19"></a><span class="w">        </span><span class="n">handler</span><span class="p">.</span><span class="na">start</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-6-20" name="__codelineno-6-20"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-6-21" name="__codelineno-6-21"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
</li>
</ol>
<hr />
<ol start="5">
<li>
<p>After a few moments, WCA will return a combination of code blocks and explanations to the Chat session console. Cycle through the tab(s) below to examine the <strong>modernized, WCA-generated Liberty code</strong>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:3"><input checked="checked" id="appmod-4-__tabbed_4_1" name="appmod-4-__tabbed_4" type="radio" /><input id="appmod-4-__tabbed_4_2" name="appmod-4-__tabbed_4" type="radio" /><input id="appmod-4-__tabbed_4_3" name="appmod-4-__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="appmod-4-__tabbed_4_1">WCA LIBERTY <code>server.xml</code> Part 1</label><label for="appmod-4-__tabbed_4_2">WCA LIBERTY <code>server.xml</code> Part 2</label><label for="appmod-4-__tabbed_4_3">WCA LIBERTY <code>server.xml</code> Part 3</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-4-__codelineno-7-1">1</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-7-2">2</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-7-3">3</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-7-4">4</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-7-5">5</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-7-6">6</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-7-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="c1">// Enable the Scheduler feature: </span><span class="w"></span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="c1">// In your server.xml file, add the scheduler-1.0 feature to the featureManager section.</span><span class="w"></span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="o">&lt;</span><span class="n">featureManager</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">feature</span><span class="o">&gt;</span><span class="n">jsp</span><span class="o">-</span><span class="mf">2.3</span><span class="o">&lt;/</span><span class="n">feature</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">feature</span><span class="o">&gt;</span><span class="n">servlet</span><span class="o">-</span><span class="mf">3.1</span><span class="o">&lt;/</span><span class="n">feature</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">feature</span><span class="o">&gt;</span><span class="n">scheduler</span><span class="o">-</span><span class="mf">1.0</span><span class="o">&lt;/</span><span class="n">feature</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="o">&lt;/</span><span class="n">featureManager</span><span class="o">&gt;</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-4-__codelineno-8-1"> 1</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-8-2"> 2</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-8-3"> 3</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-8-4"> 4</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-8-5"> 5</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-8-6"> 6</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-8-7"> 7</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-8-8"> 8</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-8-9"> 9</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-8-10">10</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-8-11">11</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-8-12">12</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-8-13">13</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-8-14">14</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-8-15">15</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-8-16">16</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-8-17">17</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-8-18">18</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-8-19">19</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-8-20">20</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-8-21">21</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-8-22">22</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-8-23">23</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-8-24">24</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-8-25">25</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-8-26">26</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="c1">// Update the task class:</span><span class="w"></span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="c1">// Create a new class that implements the com.ibm.websphere.scheduler.Task interface.</span><span class="w"></span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.ibm.websphere.scheduler.Task</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.naming.InitialContext</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-8-6" name="__codelineno-8-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.naming.NamingException</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-8-7" name="__codelineno-8-7"></a>
<a id="__codelineno-8-8" name="__codelineno-8-8"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">LegacyTask</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Task</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-8-9" name="__codelineno-8-9"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">TASK_NAME</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;TaskName&quot;</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-8-10" name="__codelineno-8-10"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">CRON_EXPRESSION</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;0 0/5 * * * ?&quot;</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-8-11" name="__codelineno-8-11"></a>
<a id="__codelineno-8-12" name="__codelineno-8-12"></a><span class="w">    </span><span class="nd">@Override</span><span class="w"></span>
<a id="__codelineno-8-13" name="__codelineno-8-13"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">execute</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-8-14" name="__codelineno-8-14"></a><span class="w">        </span><span class="c1">// Your task logic here</span><span class="w"></span>
<a id="__codelineno-8-15" name="__codelineno-8-15"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-8-16" name="__codelineno-8-16"></a>
<a id="__codelineno-8-17" name="__codelineno-8-17"></a><span class="w">    </span><span class="nd">@Override</span><span class="w"></span>
<a id="__codelineno-8-18" name="__codelineno-8-18"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-8-19" name="__codelineno-8-19"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">TASK_NAME</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-8-20" name="__codelineno-8-20"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-8-21" name="__codelineno-8-21"></a>
<a id="__codelineno-8-22" name="__codelineno-8-22"></a><span class="w">    </span><span class="nd">@Override</span><span class="w"></span>
<a id="__codelineno-8-23" name="__codelineno-8-23"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getCronExpression</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-8-24" name="__codelineno-8-24"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">CRON_EXPRESSION</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-8-25" name="__codelineno-8-25"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-8-26" name="__codelineno-8-26"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-4-__codelineno-9-1"> 1</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-9-2"> 2</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-9-3"> 3</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-9-4"> 4</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-9-5"> 5</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-9-6"> 6</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-9-7"> 7</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-9-8"> 8</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-9-9"> 9</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-9-10">10</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-9-11">11</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-9-12">12</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-9-13">13</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-9-14">14</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-9-15">15</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-9-16">16</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-9-17">17</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-9-18">18</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-9-19">19</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-9-20">20</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-9-21">21</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-9-22">22</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-9-23">23</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-9-24">24</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-9-25">25</a></span>
<span class="normal"><a href="#appmod-4-__codelineno-9-26">26</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="c1">// Update the scheduler configuration:</span><span class="w"></span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="c1">// In your server.xml file, add a scheduler element to configure the scheduler.</span><span class="w"></span>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="o">&lt;</span><span class="n">scheduler</span><span class="w"> </span><span class="n">id</span><span class="o">=</span><span class="s">&quot;legacyScheduler&quot;</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="o">&lt;</span><span class="n">property</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;cronExpression&quot;</span><span class="w"> </span><span class="n">value</span><span class="o">=</span><span class="s">&quot;0 0/5 * * * ?&quot;</span><span class="o">/&gt;</span><span class="w"></span>
<a id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="o">&lt;</span><span class="n">property</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;initialDelay&quot;</span><span class="w"> </span><span class="n">value</span><span class="o">=</span><span class="s">&quot;0&quot;</span><span class="o">/&gt;</span><span class="w"></span>
<a id="__codelineno-9-6" name="__codelineno-9-6"></a><span class="o">&lt;</span><span class="n">property</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;period&quot;</span><span class="w"> </span><span class="n">value</span><span class="o">=</span><span class="s">&quot;0&quot;</span><span class="o">/&gt;</span><span class="w"></span>
<a id="__codelineno-9-7" name="__codelineno-9-7"></a><span class="o">&lt;</span><span class="n">property</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;timeZone&quot;</span><span class="w"> </span><span class="n">value</span><span class="o">=</span><span class="s">&quot;UTC&quot;</span><span class="o">/&gt;</span><span class="w"></span>
<a id="__codelineno-9-8" name="__codelineno-9-8"></a><span class="o">&lt;/</span><span class="n">scheduler</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-9-9" name="__codelineno-9-9"></a><span class="n">Update</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">task</span><span class="w"> </span><span class="n">scheduling</span><span class="w"> </span><span class="n">code</span><span class="p">:</span><span class="w"> </span><span class="n">Modify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span>
<a id="__codelineno-9-10" name="__codelineno-9-10"></a><span class="n">scheduleTask</span><span class="w"></span>
<a id="__codelineno-9-11" name="__codelineno-9-11"></a><span class="n">method</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">Liberty</span><span class="w"> </span><span class="n">Scheduler</span><span class="w"> </span><span class="n">API</span><span class="p">.</span><span class="w"></span>
<a id="__codelineno-9-12" name="__codelineno-9-12"></a>
<a id="__codelineno-9-13" name="__codelineno-9-13"></a>
<a id="__codelineno-9-14" name="__codelineno-9-14"></a><span class="c1">// Update the task scheduling code:</span><span class="w"></span>
<a id="__codelineno-9-15" name="__codelineno-9-15"></a><span class="c1">// Modify the scheduleTask method to use the Liberty Scheduler API.</span><span class="w"></span>
<a id="__codelineno-9-16" name="__codelineno-9-16"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.ibm.websphere.scheduler.Scheduler</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-9-17" name="__codelineno-9-17"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.naming.InitialContext</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-9-18" name="__codelineno-9-18"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.naming.NamingException</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-9-19" name="__codelineno-9-19"></a>
<a id="__codelineno-9-20" name="__codelineno-9-20"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">LegacySchedulerTask</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-9-21" name="__codelineno-9-21"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">scheduleTask</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-9-22" name="__codelineno-9-22"></a><span class="w">        </span><span class="n">InitialContext</span><span class="w"> </span><span class="n">ctx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">InitialContext</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-9-23" name="__codelineno-9-23"></a><span class="w">        </span><span class="n">Scheduler</span><span class="w"> </span><span class="n">scheduler</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Scheduler</span><span class="p">)</span><span class="w"> </span><span class="n">ctx</span><span class="p">.</span><span class="na">lookup</span><span class="p">(</span><span class="s">&quot;scheduler/legacyScheduler&quot;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-9-24" name="__codelineno-9-24"></a><span class="w">        </span><span class="n">scheduler</span><span class="p">.</span><span class="na">schedule</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">LegacyTask</span><span class="p">(),</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-9-25" name="__codelineno-9-25"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-9-26" name="__codelineno-9-26"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
</li>
</ol>
<hr />
<ol start="6">
<li>
<p>The first thing to note is that Lariat and WCA have taken two fundamentally different <strong>scheduling approaches</strong> on their respective WebSphere Liberty codebases.</p>
<p>In the case of Lariat, the team implemented the standardized Jakarta EE API with the intent of keeping the code as portable as possible:</p>
<p></br>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#appmod-4-__codelineno-10-1"></a><span class="nd">@Resource</span><span class="w"></span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#appmod-4-__codelineno-10-2"></a><span class="n">ManagedScheduledExecutorService</span><span class="w"> </span><span class="n">executor</span><span class="p">;</span><span class="w"></span>
</code></pre></div></p>
<p></br>
WCA recommended the use of <code>com.ibm.websphere.scheduler.Scheduler</code> and <code>Task</code> interfaces, which require a CRON expression in the XML descriptor and additional code lookups for <em>Scheduler</em>:</p>
<p></br>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#appmod-4-__codelineno-11-1"></a><span class="nt">&lt;scheduler</span> <span class="na">id=</span><span class="s">&quot;legacyScheduler&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#appmod-4-__codelineno-11-2"></a><span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;cronExpression&quot;</span> <span class="na">value=</span><span class="s">&quot;0 0/5 * * * ?&quot;</span><span class="nt">/&gt;</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#appmod-4-__codelineno-11-3"></a><span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;initialDelay&quot;</span> <span class="na">value=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#appmod-4-__codelineno-11-4"></a><span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;period&quot;</span> <span class="na">value=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#appmod-4-__codelineno-11-5"></a><span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;timeZone&quot;</span> <span class="na">value=</span><span class="s">&quot;UTC&quot;</span><span class="nt">/&gt;</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#appmod-4-__codelineno-11-6"></a><span class="nt">&lt;/scheduler&gt;</span>
</code></pre></div></p>
<p></br>
The WCA solution is arguably stronger in scenarios where complex scheduling tasks are anticipated, given the granularity of control that CRON offers with regular expression matching. The Lariat solution is simpler, but limited in terms of customizability.</p>
</li>
</ol>
<hr />
<ol start="7">
<li>
<p>In terms of <strong>portability</strong> of the Liberty codebase, Lariat's implementation has been designed around <em>Jakarta EE</em>'s API which provides simple mobility across nearly every Java EE-compliant runtime.</p>
<p>WCA's recommendation to use the <em>Scheduler</em> API (a proprietary Liberty) format ensures full compatibility with WebSphere Liberty endpoints — which, as you will recall, the request to WCA was explicitly to modernize to <em>Liberty</em>. But the use of <em>Scheduler</em> also poses a potential lock-in risk for that particular distribution, to the exclusion of others.</p>
</li>
</ol>
<hr />
<h2 id="appmod-4-v-next-steps"><strong>v. Next steps</strong></h2>
<p>In the following module, participants will examine how to modernize legacy WebSphere Application Server code for Enterprise JavaBeans.</p></section><section class="print-page" id="appmod-5"><h1 id="appmod-5-enterprise-javabeans-ejb-modernizationapplication-modernization-websphere-to-liberty"><strong>Enterprise JavaBeans (EJB) modernization</strong></br><em>Application Modernization - WebSphere to Liberty</em></h1>
<h2 id="appmod-5-i-incentives-to-modernize"><strong>i. Incentives to modernize</strong></h2>
<div class="admonition quote">
<p class="admonition-title">SECTION I. TERMINOLOGY</p>
<p>For readability, <a href="https://www.ibm.com/products/websphere-application-server" target="_blank"><strong>IBM WebSphere Application Server</strong></a> (WAS) in this chapter is referred to in shorthand as "WebSphere", unless noted otherwise. Similarly, <a href="https://www.ibm.com/products/cloud-pak-for-applications/liberty" target="_blank"><strong>IBM WebSphere Liberty</strong></a> is referenced in shorthand as simply "Liberty".</p>
</div>
<p>WebSphere <strong>Enterprise JavaBeans</strong> (<strong>EJB</strong>) represent server-side components used by Java Enterprise Edition (<em>Java EE</em> or <em>Jakarta EE</em>) to encapsulate repeatable business logic. In turn, EJB can be used to provide scalable and highly performant handling for requests made by Lariat Corporation's web application estate. EJBs provide the resource access management for the databases, messaging services, and external APIs these such application require to power their business functions. WebSphere's EJBs make extensive use of <em>XML</em> deployment descriptors to configure their behavior.</p>
<p><strong>Liberty EJBs</strong> use Java <em>annotations</em> instead of <em>XML</em>, applying them directly within Java classes for configuration. In many cases, this eliminates the need for external XML files completely (or at least significantly reduces their size and number).</p>
<p></br></p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>WebSphere EJB with XML</th>
<th>Liberty EJB with annotations</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Maintainability</strong></td>
<td>Difficult due to scattered XML configs.</td>
<td>Improved due to cohesive annotations.</td>
</tr>
<tr>
<td><strong>Readability</strong></td>
<td>Lower due to switching between Java and XML.</td>
<td>Higher due to configuration directly in Java code.</td>
</tr>
<tr>
<td><strong>Productivity</strong></td>
<td>Lower due to manual XML edits.</td>
<td>Higher due to rapid development through annotations.</td>
</tr>
<tr>
<td><strong>Error Propensity</strong></td>
<td>Higher chance of manual XML errors.</td>
<td>Lower due to clear annotations and IDE checks.</td>
</tr>
</tbody>
</table>
<p>Modernizing WebSphere's EJB's stateless session beans into <strong>Liberty's standard-compliant EJB</strong> will provide Lariat with the net benefit of code that's easier to maintain, more portable, and extensible for modern cloud-native endpoints. Ultimately, this should yield a simplified developer experience and better resource management.</p>
<hr />
<h2 id="appmod-5-ii-websphere-legacy-code"><strong>ii. WebSphere legacy code</strong></h2>
<p>First, examine the legacy code (below), which as mentioned previously is a snapshot of a larger application using <strong>WebSphere's EJB Stateful Session Bean with XML</strong>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:1"><input checked="checked" id="appmod-5-__tabbed_1_1" name="appmod-5-__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="appmod-5-__tabbed_1_1">WEBSPHERE APPLICATION SERVER</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-5-__codelineno-0-1"> 1</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-0-2"> 2</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-0-3"> 3</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-0-4"> 4</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-0-10">10</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-0-11">11</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-0-12">12</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-0-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="cm">&lt;!-- ejb-jar.xml --&gt;</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="nt">&lt;ejb-jar&gt;</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a>    <span class="nt">&lt;enterprise-beans&gt;</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a>        <span class="nt">&lt;session&gt;</span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a>            <span class="nt">&lt;ejb-name&gt;</span>LegacySessionBean<span class="nt">&lt;/ejb-name&gt;</span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a>            <span class="nt">&lt;home&gt;</span>com.lariat.ejb.LegacyHome<span class="nt">&lt;/home&gt;</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a>            <span class="nt">&lt;remote&gt;</span>com.lariat.ejb.LegacyRemote<span class="nt">&lt;/remote&gt;</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a>            <span class="nt">&lt;ejb-class&gt;</span>com.lariat.ejb.LegacySessionBean<span class="nt">&lt;/ejb-class&gt;</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a>            <span class="nt">&lt;session-type&gt;</span>Stateless<span class="nt">&lt;/session-type&gt;</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a>            <span class="nt">&lt;transaction-type&gt;</span>Container<span class="nt">&lt;/transaction-type&gt;</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a>        <span class="nt">&lt;/session&gt;</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a>    <span class="nt">&lt;/enterprise-beans&gt;</span>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="nt">&lt;/ejb-jar&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<p></br></p>
<p>The legacy EJB implementation uses XML (<code>ejb-jar.xml</code> beginning on <strong>line 1</strong>) to explicitly define the contents of the <em>stateful</em> session bean. This requires that the <code>&lt;home&gt;</code> and <code>&lt;remote&gt;</code> interfaces be explicitly defined, along with the bean class. Transaction types and security are also configured <em>externally</em> via descriptors within the XML.</p>
<hr />
<h2 id="appmod-5-iii-liberty-modernized-code"><strong>iii. Liberty modernized code</strong></h2>
<p>Consider below the modernized (but functionally equivalent) application code using <strong>Liberty's EJB Stateless Session Bean with annotations</strong>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="appmod-5-__tabbed_2_1" name="appmod-5-__tabbed_2" type="radio" /><input id="appmod-5-__tabbed_2_2" name="appmod-5-__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="appmod-5-__tabbed_2_1">WEBSPHERE LIBERTY</label><label for="appmod-5-__tabbed_2_2">WEBSPHERE APPLICATION SERVER</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-5-__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-1-10">10</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-1-11">11</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-1-12">12</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-1-13">13</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-1-14">14</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-1-15">15</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-1-16">16</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-1-17">17</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-1-18">18</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-1-19">19</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-1-20">20</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-1-21">21</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-1-22">22</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-1-23">23</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.lariat.ejb</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.ejb.Stateless</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.ejb.Remote</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="nd">@Stateless</span><span class="w"></span>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="nd">@Remote</span><span class="p">(</span><span class="n">ModernRemote</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ModernSessionBean</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">ModernRemote</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-1-9" name="__codelineno-1-9"></a>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="w">    </span><span class="nd">@Override</span><span class="w"></span>
<a id="__codelineno-1-11" name="__codelineno-1-11"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getGreeting</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;Hello, &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;!&quot;</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-1-13" name="__codelineno-1-13"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-1-14" name="__codelineno-1-14"></a><span class="p">}</span><span class="w"></span>
<a id="__codelineno-1-15" name="__codelineno-1-15"></a>
<a id="__codelineno-1-16" name="__codelineno-1-16"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.lariat.ejb</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-1-17" name="__codelineno-1-17"></a>
<a id="__codelineno-1-18" name="__codelineno-1-18"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.ejb.Remote</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-1-19" name="__codelineno-1-19"></a>
<a id="__codelineno-1-20" name="__codelineno-1-20"></a><span class="nd">@Remote</span><span class="w"></span>
<a id="__codelineno-1-21" name="__codelineno-1-21"></a><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">ModernRemote</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-1-22" name="__codelineno-1-22"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="nf">getGreeting</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-1-23" name="__codelineno-1-23"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-5-__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-2-10">10</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-2-11">11</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-2-12">12</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-2-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="cm">&lt;!-- ejb-jar.xml --&gt;</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="nt">&lt;ejb-jar&gt;</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a>    <span class="nt">&lt;enterprise-beans&gt;</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a>        <span class="nt">&lt;session&gt;</span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a>            <span class="nt">&lt;ejb-name&gt;</span>LegacySessionBean<span class="nt">&lt;/ejb-name&gt;</span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a>            <span class="nt">&lt;home&gt;</span>com.lariat.ejb.LegacyHome<span class="nt">&lt;/home&gt;</span>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a>            <span class="nt">&lt;remote&gt;</span>com.lariat.ejb.LegacyRemote<span class="nt">&lt;/remote&gt;</span>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a>            <span class="nt">&lt;ejb-class&gt;</span>com.lariat.ejb.LegacySessionBean<span class="nt">&lt;/ejb-class&gt;</span>
<a id="__codelineno-2-9" name="__codelineno-2-9"></a>            <span class="nt">&lt;session-type&gt;</span>Stateless<span class="nt">&lt;/session-type&gt;</span>
<a id="__codelineno-2-10" name="__codelineno-2-10"></a>            <span class="nt">&lt;transaction-type&gt;</span>Container<span class="nt">&lt;/transaction-type&gt;</span>
<a id="__codelineno-2-11" name="__codelineno-2-11"></a>        <span class="nt">&lt;/session&gt;</span>
<a id="__codelineno-2-12" name="__codelineno-2-12"></a>    <span class="nt">&lt;/enterprise-beans&gt;</span>
<a id="__codelineno-2-13" name="__codelineno-2-13"></a><span class="nt">&lt;/ejb-jar&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<p></br></p>
<p>The modernized Liberty code adopts EJB with Java annotations directly within the bean implementation; for example, utilizing such annotations as <code>@Stateless</code> beginning on <strong>line 6</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#appmod-5-__codelineno-3-1"></a><span class="nd">@Stateless</span><span class="w"></span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#appmod-5-__codelineno-3-2"></a><span class="nd">@Remote</span><span class="p">(</span><span class="n">ModernRemote</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#appmod-5-__codelineno-3-3"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ModernSessionBean</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">ModernRemote</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#appmod-5-__codelineno-3-4"></a>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#appmod-5-__codelineno-3-5"></a><span class="w">    </span><span class="nd">@Override</span><span class="w"></span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#appmod-5-__codelineno-3-6"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getGreeting</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#appmod-5-__codelineno-3-7"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;Hello, &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;!&quot;</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#appmod-5-__codelineno-3-8"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#appmod-5-__codelineno-3-9"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p></br> </p>
<p>This approach also eliminates the need for explicit home interfaces, instead allowing Lariat's developers to directly specify remote interfaces within the bean definition. There are also positive side effects to the "readability" of the code — since transaction management and security settings are managed via annotations, the amount of XML overhead is reduced and thus the code can be more easily parsed (and maintained) by humans.</p>
<p>Ultimately, Liberty's modernized EJB implementation simplifies the bean declaration significantly and reduces the amount of boilerplate code necessary for the application. In turn, Lariat's code will be easier to maintain, more readable for their developers, and easier to extend with capabilities over time.</p>
<hr />
<h2 id="appmod-5-iv-hands-on-with-wca"><strong>iv. Hands-on with WCA</strong></h2>
<div class="admonition quote">
<p class="admonition-title">SECTION IV. TERMINOLOGY</p>
<p>For the purposes of comparison and brevity, the WCA-generated Liberty code will be referred to simply as "<strong>WCA</strong>" and Lariat Corporation's best-practice modernized code will be referred to as "<strong>Lariat</strong>".</p>
</div>
<p>In the following section, participants will have the opportunity to experiment with the <strong>watsonx Code Assistant</strong> (<strong>WCA</strong>) service set up in the <a href="https://ibm.github.io/wca-l4/saas/1/" target="_blank"><strong>IBM Cloud (SaaS) Configuration module</strong></a>.</p>
<ul>
<li>Using the <strong>Chat</strong> feature, which can be accessed via the WCA extension for Visual Studio Code (VS Code), you will first ask WCA convert the original <em>WebSphere Application Service (WCA)</em> code into a modernized equivalent for <em>WebSphere Liberty</em>.</li>
<li>The lab guide documentation will then walk you through an analysis of the WCA-generated Liberty code and compare that to the best-practice Liberty code discussed previously in <strong>iii. Liberty modernized code</strong>.</li>
<li>After comparing the two approaches to Liberty modernization, you will have the opportunity to continue tinkering with the WCA Chat service. Experimentation is encouraged. Try influencing WCA's generative AI recommendations by making further prompts or inquiries into the code responses it generates.</li>
</ul>
<p>When satisfied, you may proceed onwards to the next module.</p>
<hr />
<ol>
<li><strong>Log in</strong> to the <a href="https://ibm.github.io/wca-l4/saas/3/#iii-install-the-extension" target="_blank"><strong>WCA extension with VS Code</strong></a>. Once authenticated, proceed to Step 2.</li>
</ol>
<hr />
<ol start="2">
<li>
<p>From the left taskbar, ensure that <strong>watsonx Code Assistant</strong><sup>[A]</sup> extension is selected.</p>
<p>Within the <strong>Chat Session</strong> window, <strong>click</strong> on the <code>Enter / for commands</code> prompt<sup>[B]</sup> as shown.</p>
<p></br>
<a class="glightbox" href="../appmod/_attachments/appmod-2.2.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../appmod/_attachments/appmod-2.2.png" /></a></p>
</li>
</ol>
<hr />
<ol start="3">
<li>
<p>Prime the service to be ready to intake legacy WAS code and modernize that into Liberty code. As a suggestion, <strong>copy</strong> the following prompt, <strong>paste</strong> it into the chat window, and hit <span class="keys"><kbd class="key-enter">Enter</kbd></span> to execute the modernization request:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#appmod-5-__codelineno-4-1"></a>I need to modernize code written for WebSphere Application Server into WebSphere Liberty. Can you help?
</code></pre></div>
<div class="admonition warning">
<p><strong>TIP:</strong> You can increase the width of the Chat Session window by clicking and dragging the right-side of the window frame and pulling it towards the right of the screen.</p>
</div>
</li>
</ol>
<hr />
<ol start="4">
<li>
<p>Now that WCA is primed to receive WAS code, <strong>copy and paste</strong> the following code block into the <strong>Chat Session</strong>, then <span class="keys"><kbd class="key-enter">Enter</kbd></span> to execute.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:1"><input checked="checked" id="appmod-5-__tabbed_3_1" name="appmod-5-__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="appmod-5-__tabbed_3_1">WEBSPHERE APPLICATION SERVER</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-5-__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-5-10">10</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-5-11">11</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-5-12">12</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-5-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="cm">&lt;!-- ejb-jar.xml --&gt;</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="nt">&lt;ejb-jar&gt;</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a>    <span class="nt">&lt;enterprise-beans&gt;</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a>        <span class="nt">&lt;session&gt;</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a>            <span class="nt">&lt;ejb-name&gt;</span>LegacySessionBean<span class="nt">&lt;/ejb-name&gt;</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a>            <span class="nt">&lt;home&gt;</span>com.lariat.ejb.LegacyHome<span class="nt">&lt;/home&gt;</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a>            <span class="nt">&lt;remote&gt;</span>com.lariat.ejb.LegacyRemote<span class="nt">&lt;/remote&gt;</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a>            <span class="nt">&lt;ejb-class&gt;</span>com.lariat.ejb.LegacySessionBean<span class="nt">&lt;/ejb-class&gt;</span>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a>            <span class="nt">&lt;session-type&gt;</span>Stateless<span class="nt">&lt;/session-type&gt;</span>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a>            <span class="nt">&lt;transaction-type&gt;</span>Container<span class="nt">&lt;/transaction-type&gt;</span>
<a id="__codelineno-5-11" name="__codelineno-5-11"></a>        <span class="nt">&lt;/session&gt;</span>
<a id="__codelineno-5-12" name="__codelineno-5-12"></a>    <span class="nt">&lt;/enterprise-beans&gt;</span>
<a id="__codelineno-5-13" name="__codelineno-5-13"></a><span class="nt">&lt;/ejb-jar&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
</li>
</ol>
<hr />
<ol start="5">
<li>
<p>After a few moments, WCA will return a combination of code blocks and explanations to the Chat session console. Cycle through the tab(s) below to examine the <strong>modernized, WCA-generated Liberty code</strong>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="appmod-5-__tabbed_4_1" name="appmod-5-__tabbed_4" type="radio" /><input id="appmod-5-__tabbed_4_2" name="appmod-5-__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="appmod-5-__tabbed_4_1">WCA LIBERTY <code>ejb-jar.xml</code> Part 1</label><label for="appmod-5-__tabbed_4_2">WCA LIBERTY <code>ejb-jar.xml</code> Part 2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-5-__codelineno-6-1"> 1</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-2"> 2</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-3"> 3</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-4"> 4</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-5"> 5</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-6"> 6</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-7"> 7</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-8"> 8</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-9"> 9</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-10">10</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-11">11</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-12">12</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-13">13</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-14">14</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-15">15</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-16">16</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-17">17</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-18">18</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-19">19</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-20">20</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-21">21</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-22">22</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-23">23</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-24">24</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-25">25</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-26">26</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-27">27</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-28">28</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-29">29</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-30">30</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-31">31</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-32">32</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-33">33</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-6-34">34</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="nt">&lt;ejb-jar</span> <span class="na">xmlns=</span><span class="s">&quot;http://java.sun.com/xml/ns/javaee&quot;</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/ejb-jar_3_1.xsd&quot;</span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="na">version=</span><span class="s">&quot;3.1&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a>
<a id="__codelineno-6-6" name="__codelineno-6-6"></a>    <span class="nt">&lt;enterprise-beans&gt;</span>
<a id="__codelineno-6-7" name="__codelineno-6-7"></a>
<a id="__codelineno-6-8" name="__codelineno-6-8"></a>        <span class="nt">&lt;session&gt;</span>
<a id="__codelineno-6-9" name="__codelineno-6-9"></a>
<a id="__codelineno-6-10" name="__codelineno-6-10"></a>            <span class="nt">&lt;ejb-name&gt;</span>LegacySessionBean<span class="nt">&lt;/ejb-name&gt;</span>
<a id="__codelineno-6-11" name="__codelineno-6-11"></a>
<a id="__codelineno-6-12" name="__codelineno-6-12"></a>            <span class="nt">&lt;ejb-class&gt;</span>com.lariat.ejb.LegacySessionBean<span class="nt">&lt;/ejb-class&gt;</span>
<a id="__codelineno-6-13" name="__codelineno-6-13"></a>
<a id="__codelineno-6-14" name="__codelineno-6-14"></a>            <span class="nt">&lt;session-type&gt;</span>Stateless<span class="nt">&lt;/session-type&gt;</span>
<a id="__codelineno-6-15" name="__codelineno-6-15"></a>
<a id="__codelineno-6-16" name="__codelineno-6-16"></a>            <span class="nt">&lt;transaction-type&gt;</span>Container<span class="nt">&lt;/transaction-type&gt;</span>
<a id="__codelineno-6-17" name="__codelineno-6-17"></a>
<a id="__codelineno-6-18" name="__codelineno-6-18"></a>            <span class="nt">&lt;concurrency-strategy&gt;</span>OnePerRequest<span class="nt">&lt;/concurrency-strategy&gt;</span>
<a id="__codelineno-6-19" name="__codelineno-6-19"></a>
<a id="__codelineno-6-20" name="__codelineno-6-20"></a>            <span class="nt">&lt;resource-ref&gt;</span>
<a id="__codelineno-6-21" name="__codelineno-6-21"></a>
<a id="__codelineno-6-22" name="__codelineno-6-22"></a>                <span class="nt">&lt;res-ref-name&gt;</span>jdbc/LegacyDS<span class="nt">&lt;/res-ref-name&gt;</span>
<a id="__codelineno-6-23" name="__codelineno-6-23"></a>
<a id="__codelineno-6-24" name="__codelineno-6-24"></a>                <span class="nt">&lt;res-type&gt;</span>javax.sql.DataSource<span class="nt">&lt;/res-type&gt;</span>
<a id="__codelineno-6-25" name="__codelineno-6-25"></a>
<a id="__codelineno-6-26" name="__codelineno-6-26"></a>                <span class="nt">&lt;res-auth&gt;</span>Container<span class="nt">&lt;/res-auth&gt;</span>
<a id="__codelineno-6-27" name="__codelineno-6-27"></a>
<a id="__codelineno-6-28" name="__codelineno-6-28"></a>        <span class="nt">&lt;/resource-ref&gt;</span>
<a id="__codelineno-6-29" name="__codelineno-6-29"></a>
<a id="__codelineno-6-30" name="__codelineno-6-30"></a>        <span class="nt">&lt;/session&gt;</span>
<a id="__codelineno-6-31" name="__codelineno-6-31"></a>
<a id="__codelineno-6-32" name="__codelineno-6-32"></a>    <span class="nt">&lt;/enterprise-beans&gt;</span>
<a id="__codelineno-6-33" name="__codelineno-6-33"></a>
<a id="__codelineno-6-34" name="__codelineno-6-34"></a><span class="nt">&lt;/ejb-jar&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-5-__codelineno-7-1"> 1</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-7-2"> 2</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-7-3"> 3</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-7-4"> 4</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-7-5"> 5</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-7-6"> 6</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-7-7"> 7</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-7-8"> 8</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-7-10">10</a></span>
<span class="normal"><a href="#appmod-5-__codelineno-7-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.annotation.Resource</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.ejb.Stateless</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.sql.DataSource</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="nd">@Stateless</span><span class="w"></span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">LegacySessionBean</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="w">    </span><span class="nd">@Resource</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;jdbc/LegacyDS&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">DataSource</span><span class="w"> </span><span class="n">dataSource</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-7-9" name="__codelineno-7-9"></a>
<a id="__codelineno-7-10" name="__codelineno-7-10"></a><span class="w">    </span><span class="c1">// Your EJB methods here</span><span class="w"></span>
<a id="__codelineno-7-11" name="__codelineno-7-11"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
</li>
</ol>
<hr />
<ol start="6">
<li>
<p>In terms of <strong>EJB declarations</strong>, there is a divergence between the approaches taken by Lariat and favored by WCA.</p>
<p></br>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#appmod-5-__codelineno-8-1"></a><span class="nd">@Stateless</span><span class="w"></span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#appmod-5-__codelineno-8-2"></a><span class="nd">@Remote</span><span class="p">(</span><span class="n">ModernRemote</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#appmod-5-__codelineno-8-3"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ModernSessionBean</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">ModernRemote</span><span class="w"></span>
</code></pre></div></p>
<p>In the case of the Lariat code (above), the declaration is fully annotation-based — as discussed earlier in this section. This provides a clear contract between the interface and applications, and is a relatively simple pattern for Lariat's developers to build against. </p>
<p></br>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#appmod-5-__codelineno-9-1"></a><span class="nt">&lt;session&gt;</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#appmod-5-__codelineno-9-2"></a>    <span class="nt">&lt;ejb-name&gt;</span>LegacySessionBean<span class="nt">&lt;/ejb-name&gt;</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#appmod-5-__codelineno-9-3"></a>    <span class="nt">&lt;ejb-class&gt;</span>com.lariat.ejb.LegacySessionBean<span class="nt">&lt;/ejb-class&gt;</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#appmod-5-__codelineno-9-4"></a>    <span class="nt">&lt;session-type&gt;</span>Stateless<span class="nt">&lt;/session-type&gt;</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#appmod-5-__codelineno-9-5"></a>...
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#appmod-5-__codelineno-9-6"></a><span class="nt">&lt;/session&gt;</span>
</code></pre></div></p>
<p></br>
WCA recommends that the EJB metadata remain in XML format, without the use of <code>@Remote</code> or <code>@Local</code> interfaces that were present within the Lariat code. Instead, WCA relies on container parsing of the <code>ejb-jar.xml</code> definition and generating it based on that discovered class.</p>
</li>
</ol>
<hr />
<ol start="7">
<li>
<p>With respect to <strong>resource injections</strong>, this pattern is absent from the Lariat codebase. By contrast, WCA has configured the injection of a <code>DataSource</code> via <code>@Resource</code> in both Java and <code>ejb-jar.xml</code>. For example:</p>
<p></br>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#appmod-5-__codelineno-10-1"></a><span class="nd">@Resource</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;jdbc/LegacyDS&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#appmod-5-__codelineno-10-2"></a><span class="kd">private</span><span class="w"> </span><span class="n">DataSource</span><span class="w"> </span><span class="n">dataSource</span><span class="p">;</span><span class="w"></span>
</code></pre></div></p>
<p></br>
One consideration to keep in mind with this case is that WCA's approach is tailored specifically for dealing with older enterprise systems or in cases where applications need to override behaviors per environment (via resource injection).</p>
</li>
</ol>
<hr />
<h2 id="appmod-5-v-next-steps"><strong>v. Next steps</strong></h2>
<p>In the following module, participants will examine how to modernize legacy WebSphere Application Server code for Java Message Service.</p></section><section class="print-page" id="appmod-6"><h1 id="appmod-6-java-message-service-integrationapplication-modernization-websphere-to-liberty"><strong>Java Message Service integration</strong></br><em>Application Modernization - WebSphere to Liberty</em></h1>
<h2 id="appmod-6-i-incentives-to-modernize"><strong>i. Incentives to modernize</strong></h2>
<div class="admonition quote">
<p class="admonition-title">SECTION I. TERMINOLOGY</p>
<p>For readability, <a href="https://www.ibm.com/products/websphere-application-server" target="_blank"><strong>IBM WebSphere Application Server</strong></a> (WAS) in this chapter is referred to in shorthand as "WebSphere", unless noted otherwise. Similarly, <a href="https://www.ibm.com/products/cloud-pak-for-applications/liberty" target="_blank"><strong>IBM WebSphere Liberty</strong></a> is referenced in shorthand as simply "Liberty".</p>
</div>
<p><strong>WebSphere</strong> traditionally connects Java Enterprise Edition (Java EE) applications to <strong>IBM MQ</strong> using complex <strong>Java Message Service</strong> (<strong>JMS</strong>) configurations which depend upon external XML files. JMS is the standard by which Java APIs send, receive, and manage asynchronous messages between distributed Java EE applications. In turn, IBM MQ provides a middleware layer to ensure that such asynchronous messaging are delivered <em>reliably</em> between said applications. Collectively, these components come together to form the <strong>WebSphere MQ JMS integration</strong> that Lariat Corporation is using in their legacy systems today.</p>
<p><strong>Liberty</strong> still makes use of JMS and MQ, but replaces the use of external XML file configuration management in favor of declarative configurations <em>directly within</em> Liberty's <code>server.xml</code> resource. The result is that configuration is no longer defined external to the server, which in turn reduces the complexity of managing such configurations for Lariat's developers and improves the maintainability of their messaging integrations.</p>
<p></br></p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>WebSphere MQ JMS Integration</th>
<th>Liberty JMS Configuration</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Complexity</strong></td>
<td>High complexity owing to verbose XML or admin console requirements.</td>
<td>Significantly simplified and concise.</td>
</tr>
<tr>
<td><strong>Maintainability</strong></td>
<td>Difficult, configuration is dispersed and complex.</td>
<td>Easy to maintain, with all resources clearly defined in one place.</td>
</tr>
<tr>
<td><strong>Productivity</strong></td>
<td>Lower developer productivity due to manual configuration and overhead.</td>
<td>Improved developer productivity due to straightforward and rapid setup.</td>
</tr>
<tr>
<td><strong>Integrations</strong></td>
<td>Cloud and microservices are harder to scale or adapt.</td>
<td>Cloud and microservices are easily adapted due to cloud-native design.</td>
</tr>
</tbody>
</table>
<p>By modernizing Lariat's WebSphere-based approach of MQ JMS integration to Liberty's declarative JMS-based configuration, the expectation is that the company's management of asynchronous message delivery between applications can be more easily maintained and better aligned to cloud-native best practices.</p>
<hr />
<h2 id="appmod-6-ii-websphere-legacy-code"><strong>ii. WebSphere legacy code</strong></h2>
<p>First, examine the legacy code (below), which as mentioned previously is a snapshot of a larger application using <strong>WebSphere's MQ JMS integration</strong>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:1"><input checked="checked" id="appmod-6-__tabbed_1_1" name="appmod-6-__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="appmod-6-__tabbed_1_1">WEBSPHERE APPLICATION SERVER</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-6-__codelineno-0-1"> 1</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-0-2"> 2</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-0-3"> 3</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-0-4"> 4</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-0-10">10</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-0-11">11</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-0-12">12</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-0-13">13</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-0-14">14</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-0-15">15</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-0-16">16</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-0-17">17</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-0-18">18</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-0-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="cm">&lt;!-- ejb-jar.xml --&gt;</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="nt">&lt;message-driven&gt;</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a>    <span class="nt">&lt;ejb-name&gt;</span>LegacyMDB<span class="nt">&lt;/ejb-name&gt;</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a>    <span class="nt">&lt;ejb-class&gt;</span>com.lariat.messaging.LegacyMDB<span class="nt">&lt;/ejb-class&gt;</span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a>    <span class="nt">&lt;transaction-type&gt;</span>Container<span class="nt">&lt;/transaction-type&gt;</span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a>    <span class="nt">&lt;message-driven-destination&gt;</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a>        <span class="nt">&lt;destination-type&gt;</span>javax.jms.Queue<span class="nt">&lt;/destination-type&gt;</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a>    <span class="nt">&lt;/message-driven-destination&gt;</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="nt">&lt;/message-driven&gt;</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="cm">&lt;!-- ibm-ejb-jar-bnd.xml --&gt;</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="nt">&lt;message-driven</span> <span class="na">name=</span><span class="s">&quot;LegacyMDB&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a>    <span class="nt">&lt;activation-config&gt;</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a>        <span class="nt">&lt;activation-config-property&gt;</span>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a>            <span class="nt">&lt;activation-config-property-name&gt;</span>destination<span class="nt">&lt;/activation-config-property-name&gt;</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a>            <span class="nt">&lt;activation-config-property-value&gt;</span>jms/legacyQueue<span class="nt">&lt;/activation-config-property-value&gt;</span>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a>        <span class="nt">&lt;/activation-config-property&gt;</span>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a>    <span class="nt">&lt;/activation-config&gt;</span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="nt">&lt;/message-driven&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<p>Lariat's particular implementation of WebSphere MQ JMS utilizes XML descriptors (<code>ejb-jar.xml</code>, <code>ibm-ejb-jar-bnd.xml</code> on <strong>lines 1 and 11</strong>, respectively) to define message-driven beans (MDB) and their JMS destinations.</p>
<p>This is the <em>explicit</em> and <em>manual</em> style of configuring messaging endpoints through separate descriptor (XML) files — in sharp contrast to the declarative approach you will examine with Liberty momentarily. WebSphere's approach of using separate descriptor files makes the setup of new configurations potentially more complex and prone to human-induced errors within the code.</p>
<hr />
<h2 id="appmod-6-iii-liberty-modernized-code"><strong>iii. Liberty modernized code</strong></h2>
<p>Consider below the modernized (but functionally equivalent) application code using <strong>Liberty's JMS configuration</strong>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="appmod-6-__tabbed_2_1" name="appmod-6-__tabbed_2" type="radio" /><input id="appmod-6-__tabbed_2_2" name="appmod-6-__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="appmod-6-__tabbed_2_1">WEBSPHERE LIBERTY</label><label for="appmod-6-__tabbed_2_2">WEBSPHERE APPLICATION SERVER</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-6-__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-1-10">10</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-1-11">11</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-1-12">12</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-1-13">13</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-1-14">14</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-1-15">15</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-1-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="cm">&lt;!-- server.xml --&gt;</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="nt">&lt;server&gt;</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a>    <span class="nt">&lt;featureManager&gt;</span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a>        <span class="nt">&lt;feature&gt;</span>jms-2.0<span class="nt">&lt;/feature&gt;</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a>    <span class="nt">&lt;/featureManager&gt;</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a>    <span class="nt">&lt;jmsQueue</span> <span class="na">id=</span><span class="s">&quot;modernQueue&quot;</span> <span class="na">jndiName=</span><span class="s">&quot;jms/modernQueue&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a>
<a id="__codelineno-1-9" name="__codelineno-1-9"></a>    <span class="nt">&lt;messageDrivenBean</span> <span class="na">id=</span><span class="s">&quot;ModernMDB&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a>        <span class="nt">&lt;activationSpec&gt;</span>
<a id="__codelineno-1-11" name="__codelineno-1-11"></a>            <span class="nt">&lt;activationSpecClass&gt;</span>javax.jms.Queue<span class="nt">&lt;/activationSpecClass&gt;</span>
<a id="__codelineno-1-12" name="__codelineno-1-12"></a>            <span class="nt">&lt;activationSpecProperty</span> <span class="na">name=</span><span class="s">&quot;destination&quot;</span><span class="nt">&gt;</span>jms/modernQueue<span class="nt">&lt;/activationSpecProperty&gt;</span>
<a id="__codelineno-1-13" name="__codelineno-1-13"></a>        <span class="nt">&lt;/activationSpec&gt;</span>
<a id="__codelineno-1-14" name="__codelineno-1-14"></a>        <span class="nt">&lt;className&gt;</span>com.lariat.messaging.ModernMDB<span class="nt">&lt;/className&gt;</span>
<a id="__codelineno-1-15" name="__codelineno-1-15"></a>    <span class="nt">&lt;/messageDrivenBean&gt;</span>
<a id="__codelineno-1-16" name="__codelineno-1-16"></a><span class="nt">&lt;/server&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-6-__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-2-10">10</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-2-11">11</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-2-12">12</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-2-13">13</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-2-14">14</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-2-15">15</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-2-16">16</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-2-17">17</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-2-18">18</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-2-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="cm">&lt;!-- ejb-jar.xml --&gt;</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="nt">&lt;message-driven&gt;</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a>    <span class="nt">&lt;ejb-name&gt;</span>LegacyMDB<span class="nt">&lt;/ejb-name&gt;</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a>    <span class="nt">&lt;ejb-class&gt;</span>com.lariat.messaging.LegacyMDB<span class="nt">&lt;/ejb-class&gt;</span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a>    <span class="nt">&lt;transaction-type&gt;</span>Container<span class="nt">&lt;/transaction-type&gt;</span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a>    <span class="nt">&lt;message-driven-destination&gt;</span>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a>        <span class="nt">&lt;destination-type&gt;</span>javax.jms.Queue<span class="nt">&lt;/destination-type&gt;</span>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a>    <span class="nt">&lt;/message-driven-destination&gt;</span>
<a id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="nt">&lt;/message-driven&gt;</span>
<a id="__codelineno-2-10" name="__codelineno-2-10"></a>
<a id="__codelineno-2-11" name="__codelineno-2-11"></a><span class="cm">&lt;!-- ibm-ejb-jar-bnd.xml --&gt;</span>
<a id="__codelineno-2-12" name="__codelineno-2-12"></a><span class="nt">&lt;message-driven</span> <span class="na">name=</span><span class="s">&quot;LegacyMDB&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-2-13" name="__codelineno-2-13"></a>    <span class="nt">&lt;activation-config&gt;</span>
<a id="__codelineno-2-14" name="__codelineno-2-14"></a>        <span class="nt">&lt;activation-config-property&gt;</span>
<a id="__codelineno-2-15" name="__codelineno-2-15"></a>            <span class="nt">&lt;activation-config-property-name&gt;</span>destination<span class="nt">&lt;/activation-config-property-name&gt;</span>
<a id="__codelineno-2-16" name="__codelineno-2-16"></a>            <span class="nt">&lt;activation-config-property-value&gt;</span>jms/legacyQueue<span class="nt">&lt;/activation-config-property-value&gt;</span>
<a id="__codelineno-2-17" name="__codelineno-2-17"></a>        <span class="nt">&lt;/activation-config-property&gt;</span>
<a id="__codelineno-2-18" name="__codelineno-2-18"></a>    <span class="nt">&lt;/activation-config&gt;</span>
<a id="__codelineno-2-19" name="__codelineno-2-19"></a><span class="nt">&lt;/message-driven&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<p>Through the process of modernizing the code, Lariat switched to Liberty's messaging providers using standardized JMS APIs in a single, unified <code>server.xml</code> configuration. All JMS resources, such as queues and MDBs, are defined directly within the <code>server.xml</code> configuration file.</p>
<p>The net result is that configurations are simplified compared to the traditional WebSphere approach of separate descriptor files. Clearly named and easily identifiable JMS queues (<strong>line 1</strong>), as well as activation specifications (beginning on <strong>line 3</strong>), are consolidated within the streamlined <code>server.xml</code> configuration.</p>
<p>In summary, consolidation of Lariat's messaging configurations into a simplified and centralized pattern has streamlined future maintenance of these configuration files and simplified the process of troubleshooting messaging integrations for their developers.</p>
<hr />
<h2 id="appmod-6-iv-hands-on-with-wca"><strong>iv. Hands-on with WCA</strong></h2>
<div class="admonition quote">
<p class="admonition-title">SECTION IV. TERMINOLOGY</p>
<p>For the purposes of comparison and brevity, the WCA-generated Liberty code will be referred to simply as "<strong>WCA</strong>" and Lariat Corporation's best-practice modernized code will be referred to as "<strong>Lariat</strong>".</p>
</div>
<p>In the following section, participants will have the opportunity to experiment with the <strong>watsonx Code Assistant</strong> (<strong>WCA</strong>) service set up in the <a href="https://ibm.github.io/wca-l4/saas/1/" target="_blank"><strong>IBM Cloud (SaaS) Configuration module</strong></a>.</p>
<ul>
<li>Using the <strong>Chat</strong> feature, which can be accessed via the WCA extension for Visual Studio Code (VS Code), you will first ask WCA convert the original <em>WebSphere Application Service (WCA)</em> code into a modernized equivalent for <em>WebSphere Liberty</em>.</li>
<li>The lab guide documentation will then walk you through an analysis of the WCA-generated Liberty code and compare that to the best-practice Liberty code discussed previously in <strong>iii. Liberty modernized code</strong>.</li>
<li>After comparing the two approaches to Liberty modernization, you will have the opportunity to continue tinkering with the WCA Chat service. Experimentation is encouraged. Try influencing WCA's generative AI recommendations by making further prompts or inquiries into the code responses it generates.</li>
</ul>
<p>When satisfied, you may proceed onwards to the next module.</p>
<hr />
<ol>
<li><strong>Log in</strong> to the <a href="https://ibm.github.io/wca-l4/saas/3/#iii-install-the-extension" target="_blank"><strong>WCA extension with VS Code</strong></a>. Once authenticated, proceed to Step 2.</li>
</ol>
<hr />
<ol start="2">
<li>
<p>From the left taskbar, ensure that <strong>watsonx Code Assistant</strong><sup>[A]</sup> extension is selected.</p>
<p>Within the <strong>Chat Session</strong> window, <strong>click</strong> on the <code>Enter / for commands</code> prompt<sup>[B]</sup> as shown.</p>
<p></br>
<a class="glightbox" href="../appmod/_attachments/appmod-2.2.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../appmod/_attachments/appmod-2.2.png" /></a></p>
</li>
</ol>
<hr />
<ol start="3">
<li>
<p>Prime the service to be ready to intake legacy WAS code and modernize that into Liberty code. As a suggestion, <strong>copy</strong> the following prompt, <strong>paste</strong> it into the chat window, and hit <span class="keys"><kbd class="key-enter">Enter</kbd></span> to execute the modernization request:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#appmod-6-__codelineno-3-1"></a>I need to modernize code written for WebSphere Application Server into WebSphere Liberty. Can you help?
</code></pre></div>
<div class="admonition warning">
<p><strong>TIP:</strong> You can increase the width of the Chat Session window by clicking and dragging the right-side of the window frame and pulling it towards the right of the screen.</p>
</div>
</li>
</ol>
<hr />
<ol start="4">
<li>
<p>Now that WCA is primed to receive WAS code, <strong>copy and paste</strong> the following code block into the <strong>Chat Session</strong>, then <span class="keys"><kbd class="key-enter">Enter</kbd></span> to execute.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:1"><input checked="checked" id="appmod-6-__tabbed_3_1" name="appmod-6-__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="appmod-6-__tabbed_3_1">WEBSPHERE APPLICATION SERVER</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-6-__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-4-10">10</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-4-11">11</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-4-12">12</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-4-13">13</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-4-14">14</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-4-15">15</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-4-16">16</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-4-17">17</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-4-18">18</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-4-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="cm">&lt;!-- ejb-jar.xml --&gt;</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="nt">&lt;message-driven&gt;</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a>    <span class="nt">&lt;ejb-name&gt;</span>LegacyMDB<span class="nt">&lt;/ejb-name&gt;</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a>    <span class="nt">&lt;ejb-class&gt;</span>com.lariat.messaging.LegacyMDB<span class="nt">&lt;/ejb-class&gt;</span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a>    <span class="nt">&lt;transaction-type&gt;</span>Container<span class="nt">&lt;/transaction-type&gt;</span>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a>    <span class="nt">&lt;message-driven-destination&gt;</span>
<a id="__codelineno-4-7" name="__codelineno-4-7"></a>        <span class="nt">&lt;destination-type&gt;</span>javax.jms.Queue<span class="nt">&lt;/destination-type&gt;</span>
<a id="__codelineno-4-8" name="__codelineno-4-8"></a>    <span class="nt">&lt;/message-driven-destination&gt;</span>
<a id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="nt">&lt;/message-driven&gt;</span>
<a id="__codelineno-4-10" name="__codelineno-4-10"></a>
<a id="__codelineno-4-11" name="__codelineno-4-11"></a><span class="cm">&lt;!-- ibm-ejb-jar-bnd.xml --&gt;</span>
<a id="__codelineno-4-12" name="__codelineno-4-12"></a><span class="nt">&lt;message-driven</span> <span class="na">name=</span><span class="s">&quot;LegacyMDB&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-4-13" name="__codelineno-4-13"></a>    <span class="nt">&lt;activation-config&gt;</span>
<a id="__codelineno-4-14" name="__codelineno-4-14"></a>        <span class="nt">&lt;activation-config-property&gt;</span>
<a id="__codelineno-4-15" name="__codelineno-4-15"></a>            <span class="nt">&lt;activation-config-property-name&gt;</span>destination<span class="nt">&lt;/activation-config-property-name&gt;</span>
<a id="__codelineno-4-16" name="__codelineno-4-16"></a>            <span class="nt">&lt;activation-config-property-value&gt;</span>jms/legacyQueue<span class="nt">&lt;/activation-config-property-value&gt;</span>
<a id="__codelineno-4-17" name="__codelineno-4-17"></a>        <span class="nt">&lt;/activation-config-property&gt;</span>
<a id="__codelineno-4-18" name="__codelineno-4-18"></a>    <span class="nt">&lt;/activation-config&gt;</span>
<a id="__codelineno-4-19" name="__codelineno-4-19"></a><span class="nt">&lt;/message-driven&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
</li>
</ol>
<hr />
<ol start="5">
<li>
<p>After a few moments, WCA will return a combination of code blocks and explanations to the Chat session console. Cycle through the tab(s) below to examine the <strong>modernized, WCA-generated Liberty code</strong>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="appmod-6-__tabbed_4_1" name="appmod-6-__tabbed_4" type="radio" /><input id="appmod-6-__tabbed_4_2" name="appmod-6-__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="appmod-6-__tabbed_4_1">WCA LIBERTY <code>ejb-jar.xml</code> Part 1</label><label for="appmod-6-__tabbed_4_2">WCA LIBERTY <code>ejb-jar.xml</code> Part 2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-6-__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-5-10">10</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-5-11">11</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-5-12">12</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-5-13">13</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-5-14">14</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-5-15">15</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-5-16">16</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-5-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="nt">&lt;ejb-jar</span> <span class="na">xmlns=</span><span class="s">&quot;http://java.sun.com/xml/ns/javaee&quot;</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/ejb-jar_3_1.xsd&quot;</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="na">version=</span><span class="s">&quot;3.1&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a>    <span class="nt">&lt;enterprise-beans&gt;</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a>        <span class="nt">&lt;message-driven&gt;</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a>            <span class="nt">&lt;ejb-name&gt;</span>LegacyMDB<span class="nt">&lt;/ejb-name&gt;</span>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a>            <span class="nt">&lt;ejb-class&gt;</span>com.lariat.messaging.LegacyMDB<span class="nt">&lt;/ejb-class&gt;</span>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a>            <span class="nt">&lt;transaction-type&gt;</span>Container<span class="nt">&lt;/transaction-type&gt;</span>
<a id="__codelineno-5-11" name="__codelineno-5-11"></a>            <span class="nt">&lt;message-driven-destination&gt;</span>
<a id="__codelineno-5-12" name="__codelineno-5-12"></a>                <span class="nt">&lt;destination-type&gt;</span>javax.jms.Queue<span class="nt">&lt;/destination-type&gt;</span>
<a id="__codelineno-5-13" name="__codelineno-5-13"></a>                <span class="nt">&lt;destination-jndi-name&gt;</span>jms/legacyQueue<span class="nt">&lt;/destination-jndi-name&gt;</span>
<a id="__codelineno-5-14" name="__codelineno-5-14"></a>            <span class="nt">&lt;/message-driven-destination&gt;</span>
<a id="__codelineno-5-15" name="__codelineno-5-15"></a>        <span class="nt">&lt;/message-driven&gt;</span>
<a id="__codelineno-5-16" name="__codelineno-5-16"></a>    <span class="nt">&lt;/enterprise-beans&gt;</span>
<a id="__codelineno-5-17" name="__codelineno-5-17"></a><span class="nt">&lt;/ejb-jar&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-6-__codelineno-6-1"> 1</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-2"> 2</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-3"> 3</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-4"> 4</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-5"> 5</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-6"> 6</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-7"> 7</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-8"> 8</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-9"> 9</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-10">10</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-11">11</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-12">12</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-13">13</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-14">14</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-15">15</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-16">16</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-17">17</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-18">18</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-19">19</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-20">20</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-21">21</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-22">22</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-23">23</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-24">24</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-25">25</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-26">26</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-27">27</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-28">28</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-29">29</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-30">30</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-31">31</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-32">32</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-33">33</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-34">34</a></span>
<span class="normal"><a href="#appmod-6-__codelineno-6-35">35</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.annotation.Resource</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.jms.JMSException</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.jms.Message</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.jms.MessageListener</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.jms.Queue</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.jms.QueueConnection</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.jms.QueueReceiver</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.jms.QueueSender</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-9" name="__codelineno-6-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.jms.Session</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-10" name="__codelineno-6-10"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.naming.InitialContext</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-11" name="__codelineno-6-11"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.naming.NamingException</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-12" name="__codelineno-6-12"></a>
<a id="__codelineno-6-13" name="__codelineno-6-13"></a><span class="nd">@MessageDriven</span><span class="p">(</span><span class="w"></span>
<a id="__codelineno-6-14" name="__codelineno-6-14"></a><span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;LegacyMDB&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-6-15" name="__codelineno-6-15"></a><span class="w">    </span><span class="n">activationConfig</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-6-16" name="__codelineno-6-16"></a><span class="w">        </span><span class="nd">@ActivationConfigProperty</span><span class="p">(</span><span class="n">propertyName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;destination&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">propertyValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;jms/legacyQueue&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-6-17" name="__codelineno-6-17"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-6-18" name="__codelineno-6-18"></a><span class="p">)</span><span class="w"></span>
<a id="__codelineno-6-19" name="__codelineno-6-19"></a>
<a id="__codelineno-6-20" name="__codelineno-6-20"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">LegacyMDB</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">MessageListener</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-6-21" name="__codelineno-6-21"></a><span class="w">    </span><span class="nd">@Resource</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;jms/legacyQueue&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-6-22" name="__codelineno-6-22"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Queue</span><span class="w"> </span><span class="n">queue</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-23" name="__codelineno-6-23"></a>
<a id="__codelineno-6-24" name="__codelineno-6-24"></a><span class="w">    </span><span class="nd">@Resource</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;jms/JmsConnectionFactory&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-6-25" name="__codelineno-6-25"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">QueueConnectionFactory</span><span class="w"> </span><span class="n">connectionFactory</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-26" name="__codelineno-6-26"></a>
<a id="__codelineno-6-27" name="__codelineno-6-27"></a><span class="w">    </span><span class="nd">@Resource</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;jms/JmsXA&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-6-28" name="__codelineno-6-28"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">InitialContext</span><span class="w"> </span><span class="n">initialContext</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-29" name="__codelineno-6-29"></a>
<a id="__codelineno-6-30" name="__codelineno-6-30"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onMessage</span><span class="p">(</span><span class="n">Message</span><span class="w"> </span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-6-31" name="__codelineno-6-31"></a><span class="w">        </span><span class="c1">// Your message processing logic here</span><span class="w"></span>
<a id="__codelineno-6-32" name="__codelineno-6-32"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-6-33" name="__codelineno-6-33"></a>
<a id="__codelineno-6-34" name="__codelineno-6-34"></a><span class="w">    </span><span class="c1">// Other methods for sending messages, if needed</span><span class="w"></span>
<a id="__codelineno-6-35" name="__codelineno-6-35"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
</li>
</ol>
<hr />
<ol start="6">
<li>
<p><strong>Explicit transaction control</strong> is vital for systems that rely heavily on transactional integrity (such as banking, healthcare, order processing, and so on), so let's compare how Lariat and WCA's modernization efforts performed in this regard.</p>
<p></br>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#appmod-6-__codelineno-7-1"></a><span class="nd">@Resource</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;jms/JmsConnectionFactory&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#appmod-6-__codelineno-7-2"></a><span class="kd">private</span><span class="w"> </span><span class="n">QueueConnectionFactory</span><span class="w"> </span><span class="n">connectionFactory</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#appmod-6-__codelineno-7-3"></a>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#appmod-6-__codelineno-7-4"></a><span class="nd">@Resource</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;jms/JmsXA&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#appmod-6-__codelineno-7-5"></a><span class="kd">private</span><span class="w"> </span><span class="n">InitialContext</span><span class="w"> </span><span class="n">initialContext</span><span class="p">;</span><span class="w"></span>
</code></pre></div></p>
<p></br>
By injecting a <code>QueueConnectionFactory</code> and <code>InitialContext</code>, WCA allows developers to exact a high degree of control over the JMS lifecycle. For real-world enterprise operations, redundancy and explicit design can provide safety for production environments (as well as protection against misdeployments.)</p>
</li>
</ol>
<hr />
<ol start="7">
<li>
<p>For many enterprises with <strong>continuous integration and continuous delivery</strong> (<strong>CI/CD</strong>) requirements, a Liberty codebase that uses an "<code>application code</code> + <code>server.xml</code>" approach may hamper those CI/CD pipelines. This is also true for enterprise organizations that might use runtime orchestration tools to override configurations with deployment descriptors. Let's compare the two solutions against this scenario.</p>
<p></br>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#appmod-6-__codelineno-8-1"></a><span class="nt">&lt;ejb-jar</span> <span class="na">xmlns=</span><span class="s">&quot;http://java.sun.com/xml/ns/javaee&quot;</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#appmod-6-__codelineno-8-2"></a><span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#appmod-6-__codelineno-8-3"></a><span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/ejb-jar_3_1.xsd&quot;</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#appmod-6-__codelineno-8-4"></a><span class="na">version=</span><span class="s">&quot;3.1&quot;</span><span class="nt">&gt;</span>
</code></pre></div></p>
<p></br>
WCA's invocation of <code>ejb-jar.xml</code> enables declarative binding for legacy JMS destinations, providing a degree of backwards compatibility to other legacy applications in the company's estate that isn't as easily achieved with Lariat's code.</p>
</li>
</ol>
<hr />
<h2 id="appmod-6-v-next-steps"><strong>v. Next steps</strong></h2>
<p>In the following module, participants will examine how to modernize legacy WebSphere Application Server code for security management.</p></section><section class="print-page" id="appmod-7"><h1 id="appmod-7-security-modernizationapplication-modernization-websphere-to-liberty"><strong>Security modernization</strong></br><em>Application Modernization - WebSphere to Liberty</em></h1>
<h2 id="appmod-7-i-incentives-to-modernize"><strong>i. Incentives to modernize</strong></h2>
<div class="admonition quote">
<p class="admonition-title">SECTION I. TERMINOLOGY</p>
<p>For readability, <a href="https://www.ibm.com/products/websphere-application-server" target="_blank"><strong>IBM WebSphere Application Server</strong></a> (WAS) in this chapter is referred to in shorthand as "WebSphere", unless noted otherwise. Similarly, <a href="https://www.ibm.com/products/cloud-pak-for-applications/liberty" target="_blank"><strong>IBM WebSphere Liberty</strong></a> is referenced in shorthand as simply "Liberty".</p>
</div>
<p>Traditionally, Lariat Corporation has leveraged <strong>WebSphere's</strong> approach to defining application security configurations— for roles, authentication, authorization, and access constraints —via external, <strong>XML-based</strong> deployment descriptors. Oftentimes these take the forms of standard deployment descriptors (like <code>web.xml</code>) or IBM-specific descriptors (<code>ibm-application-bnd.xml</code>).</p>
<p><strong>Liberty</strong> applications, by contrast, utilize <strong>Java annotations</strong> to embed security rules directly in-line within Java classes or methods. This helps to eliminate (or at least reduce) dependencies on external XML descriptors, creating a more robust security implementation and permitting simple to maintain configurations. Java annotations are patterned using Java Enterprise Edition (Java EE or Jakarta EE) standards which align directly with the best-practices of cloud-native design.</p>
<p></br></p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>WebSphere XML-based security</th>
<th>Liberty annotations-based security</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Maintainability</strong></td>
<td>Complex owing to dispersed configuration.</td>
<td>Simplified owing to centralized and self-contained design.</td>
</tr>
<tr>
<td><strong>Readability</strong></td>
<td>Challenging due to XML files separated from Java code.</td>
<td>Easier due to in-line annotations that provide clarity.</td>
</tr>
<tr>
<td><strong>Productivity</strong></td>
<td>Lower developer productivity due to frequent context-switching.</td>
<td>Improved developer productivity due to direct configurations via code annotations.</td>
</tr>
<tr>
<td><strong>Standardization</strong></td>
<td>Considered a legacy practice, less aligned with modern industry standards.</td>
<td>Modern standard (Jakarta EE) that aligns with cloud-native practices.</td>
</tr>
</tbody>
</table>
<p>Ultimately, Lariat anticipates that modernization of their WebSphere application's security from XML-based descriptors to Java annotation will reduce the complexity of their security configuration management as they move steadily towards cloud-native application design.</p>
<hr />
<h2 id="appmod-7-ii-websphere-legacy-code"><strong>ii. WebSphere legacy code</strong></h2>
<p>First, examine the legacy code (below), which as mentioned previously is a snapshot of a larger application using <strong>WebSphere's XML-based security</strong>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:1"><input checked="checked" id="appmod-7-__tabbed_1_1" name="appmod-7-__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="appmod-7-__tabbed_1_1">WEBSPHERE APPLICATION SERVER</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-7-__codelineno-0-1"> 1</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-0-2"> 2</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-0-3"> 3</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-0-4"> 4</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-0-10">10</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-0-11">11</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-0-12">12</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-0-13">13</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-0-14">14</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-0-15">15</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-0-16">16</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-0-17">17</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-0-18">18</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-0-19">19</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-0-20">20</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-0-21">21</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-0-22">22</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="cm">&lt;!-- web.xml --&gt;</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="nt">&lt;security-constraint&gt;</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a>    <span class="nt">&lt;web-resource-collection&gt;</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a>        <span class="nt">&lt;web-resource-name&gt;</span>SecureArea<span class="nt">&lt;/web-resource-name&gt;</span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a>        <span class="nt">&lt;url-pattern&gt;</span>/secured/*<span class="nt">&lt;/url-pattern&gt;</span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a>    <span class="nt">&lt;/web-resource-collection&gt;</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a>    <span class="nt">&lt;auth-constraint&gt;</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a>        <span class="nt">&lt;role-name&gt;</span>admin<span class="nt">&lt;/role-name&gt;</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a>    <span class="nt">&lt;/auth-constraint&gt;</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="nt">&lt;/security-constraint&gt;</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="nt">&lt;login-config&gt;</span>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a>    <span class="nt">&lt;auth-method&gt;</span>FORM<span class="nt">&lt;/auth-method&gt;</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a>    <span class="nt">&lt;form-login-config&gt;</span>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a>        <span class="nt">&lt;form-login-page&gt;</span>/login.jsp<span class="nt">&lt;/form-login-page&gt;</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a>        <span class="nt">&lt;form-error-page&gt;</span>/error.jsp<span class="nt">&lt;/form-error-page&gt;</span>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a>    <span class="nt">&lt;/form-login-config&gt;</span>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a><span class="nt">&lt;/login-config&gt;</span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a>
<a id="__codelineno-0-20" name="__codelineno-0-20"></a><span class="nt">&lt;security-role&gt;</span>
<a id="__codelineno-0-21" name="__codelineno-0-21"></a>    <span class="nt">&lt;role-name&gt;</span>admin<span class="nt">&lt;/role-name&gt;</span>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a><span class="nt">&lt;/security-role&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<p></br></p>
<p>The legacy XML-based code defines security constraints explicitly in <code>web.xml</code> using roles and URL pattern-matching, creating conditions where form-based authentication settings are specified through XML. Naturally, this complicates security management for Lariat's developer teams, as external role definitions now need to be declared in a specific manner owing to this architectural choice.</p>
<p>In order to modernize this code, Lariat will need to convert the role-based authorization mechanisms and deployment descriptors into Java annotations.</p>
<hr />
<h2 id="appmod-7-iii-liberty-modernized-code"><strong>iii. Liberty modernized code</strong></h2>
<p>Consider below the modernized (but functionally equivalent) application code using <strong>Liberty's annotation-based security</strong>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="appmod-7-__tabbed_2_1" name="appmod-7-__tabbed_2" type="radio" /><input id="appmod-7-__tabbed_2_2" name="appmod-7-__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="appmod-7-__tabbed_2_1">WEBSPHERE LIBERTY</label><label for="appmod-7-__tabbed_2_2">WEBSPHERE APPLICATION SERVER</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-7-__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-1-10">10</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-1-11">11</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-1-12">12</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-1-13">13</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-1-14">14</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-1-15">15</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-1-16">16</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-1-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.annotation.security.DeclareRoles</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.annotation.security.RolesAllowed</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.ws.rs.GET</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.ws.rs.Path</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.ws.rs.core.Response</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="nd">@Path</span><span class="p">(</span><span class="s">&quot;/secured&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="nd">@DeclareRoles</span><span class="p">({</span><span class="s">&quot;admin&quot;</span><span class="p">})</span><span class="w"></span>
<a id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SecuredEndpoint</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a>
<a id="__codelineno-1-11" name="__codelineno-1-11"></a><span class="w">    </span><span class="nd">@GET</span><span class="w"></span>
<a id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="w">    </span><span class="nd">@Path</span><span class="p">(</span><span class="s">&quot;/data&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-1-13" name="__codelineno-1-13"></a><span class="w">    </span><span class="nd">@RolesAllowed</span><span class="p">(</span><span class="s">&quot;admin&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-1-14" name="__codelineno-1-14"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Response</span><span class="w"> </span><span class="nf">getSecuredData</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-1-15" name="__codelineno-1-15"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Response</span><span class="p">.</span><span class="na">ok</span><span class="p">(</span><span class="s">&quot;Sensitive data available only to admins.&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-1-16" name="__codelineno-1-16"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-1-17" name="__codelineno-1-17"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-7-__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-2-10">10</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-2-11">11</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-2-12">12</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-2-13">13</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-2-14">14</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-2-15">15</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-2-16">16</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-2-17">17</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-2-18">18</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-2-19">19</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-2-20">20</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-2-21">21</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-2-22">22</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="cm">&lt;!-- web.xml --&gt;</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="nt">&lt;security-constraint&gt;</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a>    <span class="nt">&lt;web-resource-collection&gt;</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a>        <span class="nt">&lt;web-resource-name&gt;</span>SecureArea<span class="nt">&lt;/web-resource-name&gt;</span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a>        <span class="nt">&lt;url-pattern&gt;</span>/secured/*<span class="nt">&lt;/url-pattern&gt;</span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a>    <span class="nt">&lt;/web-resource-collection&gt;</span>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a>    <span class="nt">&lt;auth-constraint&gt;</span>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a>        <span class="nt">&lt;role-name&gt;</span>admin<span class="nt">&lt;/role-name&gt;</span>
<a id="__codelineno-2-9" name="__codelineno-2-9"></a>    <span class="nt">&lt;/auth-constraint&gt;</span>
<a id="__codelineno-2-10" name="__codelineno-2-10"></a><span class="nt">&lt;/security-constraint&gt;</span>
<a id="__codelineno-2-11" name="__codelineno-2-11"></a>
<a id="__codelineno-2-12" name="__codelineno-2-12"></a><span class="nt">&lt;login-config&gt;</span>
<a id="__codelineno-2-13" name="__codelineno-2-13"></a>    <span class="nt">&lt;auth-method&gt;</span>FORM<span class="nt">&lt;/auth-method&gt;</span>
<a id="__codelineno-2-14" name="__codelineno-2-14"></a>    <span class="nt">&lt;form-login-config&gt;</span>
<a id="__codelineno-2-15" name="__codelineno-2-15"></a>        <span class="nt">&lt;form-login-page&gt;</span>/login.jsp<span class="nt">&lt;/form-login-page&gt;</span>
<a id="__codelineno-2-16" name="__codelineno-2-16"></a>        <span class="nt">&lt;form-error-page&gt;</span>/error.jsp<span class="nt">&lt;/form-error-page&gt;</span>
<a id="__codelineno-2-17" name="__codelineno-2-17"></a>    <span class="nt">&lt;/form-login-config&gt;</span>
<a id="__codelineno-2-18" name="__codelineno-2-18"></a><span class="nt">&lt;/login-config&gt;</span>
<a id="__codelineno-2-19" name="__codelineno-2-19"></a>
<a id="__codelineno-2-20" name="__codelineno-2-20"></a><span class="nt">&lt;security-role&gt;</span>
<a id="__codelineno-2-21" name="__codelineno-2-21"></a>    <span class="nt">&lt;role-name&gt;</span>admin<span class="nt">&lt;/role-name&gt;</span>
<a id="__codelineno-2-22" name="__codelineno-2-22"></a><span class="nt">&lt;/security-role&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<p></br></p>
<p>The modernized, Java annotations-driven security of Liberty defines <code>@DeclareRoles</code> (<strong>line 8</strong>) and <code>@RolesAllowed</code> (<strong>line 13</strong>) to clearly create security constraints at the method and class level.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#appmod-7-__codelineno-3-1"></a><span class="hll"><span class="nd">@DeclareRoles</span><span class="p">({</span><span class="s">&quot;admin&quot;</span><span class="p">})</span><span class="w"></span>
</span><a id="__codelineno-3-2" name="__codelineno-3-2" href="#appmod-7-__codelineno-3-2"></a><span class="nd">@Path</span><span class="p">(</span><span class="s">&quot;/secured&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#appmod-7-__codelineno-3-3"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SecuredEndpoint</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#appmod-7-__codelineno-3-4"></a><span class="w">    </span><span class="nd">@GET</span><span class="w"></span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#appmod-7-__codelineno-3-5"></a><span class="hll"><span class="w">    </span><span class="nd">@RolesAllowed</span><span class="p">(</span><span class="s">&quot;admin&quot;</span><span class="p">)</span><span class="w"></span>
</span><a id="__codelineno-3-6" name="__codelineno-3-6" href="#appmod-7-__codelineno-3-6"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Response</span><span class="w"> </span><span class="nf">getSecuredData</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#appmod-7-__codelineno-3-7"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Response</span><span class="p">.</span><span class="na">ok</span><span class="p">(</span><span class="s">&quot;Sensitive data available only to admins.&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#appmod-7-__codelineno-3-8"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#appmod-7-__codelineno-3-9"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p></br> </p>
<p>This approach simplifies the URL and method-level security mechanisms that were present within the legacy WebSphere code, replacing it via annotations within RESTful (REST API-addressable) endpoints.</p>
<p>Ultimately, this reduces the need for external configuration and instead centralizes security declarations closer to the actual code implementation. Lariat, in turn, gains the benefits of improved clarity in how their security constraints are structured. This will enable more straightforward audits in the future and simplify the ongoing maintenance of security policies across their organization.</p>
<hr />
<h2 id="appmod-7-iv-hands-on-with-wca"><strong>iv. Hands-on with WCA</strong></h2>
<div class="admonition quote">
<p class="admonition-title">SECTION IV. TERMINOLOGY</p>
<p>For the purposes of comparison and brevity, the WCA-generated Liberty code will be referred to simply as "<strong>WCA</strong>" and Lariat Corporation's best-practice modernized code will be referred to as "<strong>Lariat</strong>".</p>
</div>
<p>In the following section, participants will have the opportunity to experiment with the <strong>watsonx Code Assistant</strong> (<strong>WCA</strong>) service set up in the <a href="https://ibm.github.io/wca-l4/saas/1/" target="_blank"><strong>IBM Cloud (SaaS) Configuration module</strong></a>.</p>
<ul>
<li>Using the <strong>Chat</strong> feature, which can be accessed via the WCA extension for Visual Studio Code (VS Code), you will first ask WCA convert the original <em>WebSphere Application Service (WCA)</em> code into a modernized equivalent for <em>WebSphere Liberty</em>.</li>
<li>The lab guide documentation will then walk you through an analysis of the WCA-generated Liberty code and compare that to the best-practice Liberty code discussed previously in <strong>iii. Liberty modernized code</strong>.</li>
<li>After comparing the two approaches to Liberty modernization, you will have the opportunity to continue tinkering with the WCA Chat service. Experimentation is encouraged. Try influencing WCA's generative AI recommendations by making further prompts or inquiries into the code responses it generates.</li>
</ul>
<p>When satisfied, you may proceed onwards to the next module.</p>
<hr />
<ol>
<li><strong>Log in</strong> to the <a href="https://ibm.github.io/wca-l4/saas/3/#iii-install-the-extension" target="_blank"><strong>WCA extension with VS Code</strong></a>. Once authenticated, proceed to Step 2.</li>
</ol>
<hr />
<ol start="2">
<li>
<p>From the left taskbar, ensure that <strong>watsonx Code Assistant</strong><sup>[A]</sup> extension is selected.</p>
<p>Within the <strong>Chat Session</strong> window, <strong>click</strong> on the <code>Enter / for commands</code> prompt<sup>[B]</sup> as shown.</p>
<p></br>
<a class="glightbox" href="../appmod/_attachments/appmod-2.2.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../appmod/_attachments/appmod-2.2.png" /></a></p>
</li>
</ol>
<hr />
<ol start="3">
<li>
<p>Prime the service to be ready to intake legacy WAS code and modernize that into Liberty code. As a suggestion, <strong>copy</strong> the following prompt, <strong>paste</strong> it into the chat window, and hit <span class="keys"><kbd class="key-enter">Enter</kbd></span> to execute the modernization request:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#appmod-7-__codelineno-4-1"></a>I need to modernize code written for WebSphere Application Server into WebSphere Liberty. Can you help?
</code></pre></div>
<div class="admonition warning">
<p><strong>TIP:</strong> You can increase the width of the Chat Session window by clicking and dragging the right-side of the window frame and pulling it towards the right of the screen.</p>
</div>
</li>
</ol>
<hr />
<ol start="4">
<li>
<p>Now that WCA is primed to receive WAS code, <strong>copy and paste</strong> the following code block into the <strong>Chat Session</strong>, then <span class="keys"><kbd class="key-enter">Enter</kbd></span> to execute.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:1"><input checked="checked" id="appmod-7-__tabbed_3_1" name="appmod-7-__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="appmod-7-__tabbed_3_1">WEBSPHERE APPLICATION SERVER</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-7-__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-5-10">10</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-5-11">11</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-5-12">12</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-5-13">13</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-5-14">14</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-5-15">15</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-5-16">16</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-5-17">17</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-5-18">18</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-5-19">19</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-5-20">20</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-5-21">21</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-5-22">22</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="cm">&lt;!-- web.xml --&gt;</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="nt">&lt;security-constraint&gt;</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a>    <span class="nt">&lt;web-resource-collection&gt;</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a>        <span class="nt">&lt;web-resource-name&gt;</span>SecureArea<span class="nt">&lt;/web-resource-name&gt;</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a>        <span class="nt">&lt;url-pattern&gt;</span>/secured/*<span class="nt">&lt;/url-pattern&gt;</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a>    <span class="nt">&lt;/web-resource-collection&gt;</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a>    <span class="nt">&lt;auth-constraint&gt;</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a>        <span class="nt">&lt;role-name&gt;</span>admin<span class="nt">&lt;/role-name&gt;</span>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a>    <span class="nt">&lt;/auth-constraint&gt;</span>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="nt">&lt;/security-constraint&gt;</span>
<a id="__codelineno-5-11" name="__codelineno-5-11"></a>
<a id="__codelineno-5-12" name="__codelineno-5-12"></a><span class="nt">&lt;login-config&gt;</span>
<a id="__codelineno-5-13" name="__codelineno-5-13"></a>    <span class="nt">&lt;auth-method&gt;</span>FORM<span class="nt">&lt;/auth-method&gt;</span>
<a id="__codelineno-5-14" name="__codelineno-5-14"></a>    <span class="nt">&lt;form-login-config&gt;</span>
<a id="__codelineno-5-15" name="__codelineno-5-15"></a>        <span class="nt">&lt;form-login-page&gt;</span>/login.jsp<span class="nt">&lt;/form-login-page&gt;</span>
<a id="__codelineno-5-16" name="__codelineno-5-16"></a>        <span class="nt">&lt;form-error-page&gt;</span>/error.jsp<span class="nt">&lt;/form-error-page&gt;</span>
<a id="__codelineno-5-17" name="__codelineno-5-17"></a>    <span class="nt">&lt;/form-login-config&gt;</span>
<a id="__codelineno-5-18" name="__codelineno-5-18"></a><span class="nt">&lt;/login-config&gt;</span>
<a id="__codelineno-5-19" name="__codelineno-5-19"></a>
<a id="__codelineno-5-20" name="__codelineno-5-20"></a><span class="nt">&lt;security-role&gt;</span>
<a id="__codelineno-5-21" name="__codelineno-5-21"></a>    <span class="nt">&lt;role-name&gt;</span>admin<span class="nt">&lt;/role-name&gt;</span>
<a id="__codelineno-5-22" name="__codelineno-5-22"></a><span class="nt">&lt;/security-role&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
</li>
</ol>
<hr />
<ol start="5">
<li>
<p>After a few moments, WCA will return a combination of code blocks and explanations to the Chat session console. Cycle through the tab(s) below to examine the <strong>modernized, WCA-generated Liberty code</strong>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:4"><input checked="checked" id="appmod-7-__tabbed_4_1" name="appmod-7-__tabbed_4" type="radio" /><input id="appmod-7-__tabbed_4_2" name="appmod-7-__tabbed_4" type="radio" /><input id="appmod-7-__tabbed_4_3" name="appmod-7-__tabbed_4" type="radio" /><input id="appmod-7-__tabbed_4_4" name="appmod-7-__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="appmod-7-__tabbed_4_1">WCA LIBERTY <code>web.xml</code> Part 1</label><label for="appmod-7-__tabbed_4_2">WCA LIBERTY <code>web.xml</code> Part 2</label><label for="appmod-7-__tabbed_4_3">WCA LIBERTY <code>web.xml</code> Part 3</label><label for="appmod-7-__tabbed_4_4">WCA LIBERTY <code>web.xml</code> Part 4</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-7-__codelineno-6-1"> 1</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-6-2"> 2</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-6-3"> 3</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-6-4"> 4</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-6-5"> 5</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-6-6"> 6</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-6-7"> 7</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-6-8"> 8</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-6-9"> 9</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-6-10">10</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-6-11">11</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-6-12">12</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-6-13">13</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-6-14">14</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-6-15">15</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-6-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="nt">&lt;security-constraint&gt;</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a>    <span class="nt">&lt;web-resource-collection&gt;</span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a>        <span class="nt">&lt;web-resource-name&gt;</span>SecureArea<span class="nt">&lt;/web-resource-name&gt;</span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a>        <span class="nt">&lt;url-pattern&gt;</span>/secured/*<span class="nt">&lt;/url-pattern&gt;</span>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a>    <span class="nt">&lt;/web-resource-collection&gt;</span>
<a id="__codelineno-6-6" name="__codelineno-6-6"></a>    <span class="nt">&lt;auth-constraint&gt;</span>
<a id="__codelineno-6-7" name="__codelineno-6-7"></a>        <span class="nt">&lt;role-name&gt;</span>admin<span class="nt">&lt;/role-name&gt;</span>
<a id="__codelineno-6-8" name="__codelineno-6-8"></a>    <span class="nt">&lt;/auth-constraint&gt;</span>
<a id="__codelineno-6-9" name="__codelineno-6-9"></a><span class="nt">&lt;/security-constraint&gt;</span>
<a id="__codelineno-6-10" name="__codelineno-6-10"></a><span class="nt">&lt;security-role&gt;</span>
<a id="__codelineno-6-11" name="__codelineno-6-11"></a>    <span class="nt">&lt;role-name&gt;</span>admin<span class="nt">&lt;/role-name&gt;</span>
<a id="__codelineno-6-12" name="__codelineno-6-12"></a><span class="nt">&lt;/security-role&gt;</span>
<a id="__codelineno-6-13" name="__codelineno-6-13"></a><span class="nt">&lt;security-role-mapping&gt;</span>
<a id="__codelineno-6-14" name="__codelineno-6-14"></a>    <span class="nt">&lt;role-name&gt;</span>admin<span class="nt">&lt;/role-name&gt;</span>
<a id="__codelineno-6-15" name="__codelineno-6-15"></a>    <span class="nt">&lt;user&gt;</span>adminUser<span class="nt">&lt;/user&gt;</span>
<a id="__codelineno-6-16" name="__codelineno-6-16"></a><span class="nt">&lt;/security-role-mapping&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-7-__codelineno-7-1"> 1</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-7-2"> 2</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-7-3"> 3</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-7-4"> 4</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-7-5"> 5</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-7-6"> 6</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-7-7"> 7</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-7-8"> 8</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-7-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="nt">&lt;security-constraint&gt;</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a>    <span class="nt">&lt;web-resource-collection&gt;</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a>        <span class="nt">&lt;web-resource-name&gt;</span>SecureArea<span class="nt">&lt;/web-resource-name&gt;</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a>        <span class="nt">&lt;url-pattern&gt;</span>/secured/*<span class="nt">&lt;/url-pattern&gt;</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a>        <span class="nt">&lt;http-method&gt;</span>POST<span class="nt">&lt;/http-method&gt;</span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a>    <span class="nt">&lt;/web-resource-collection&gt;</span>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a>    <span class="nt">&lt;auth-constraint&gt;</span>
<a id="__codelineno-7-8" name="__codelineno-7-8"></a>        <span class="nt">&lt;role-name&gt;</span>admin<span class="nt">&lt;/role-name&gt;</span>
<a id="__codelineno-7-9" name="__codelineno-7-9"></a>    <span class="nt">&lt;/auth-constraint&gt;</span>
<a id="__codelineno-7-10" name="__codelineno-7-10"></a><span class="nt">&lt;/security-constraint&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-7-__codelineno-8-1">1</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-8-2">2</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-8-3">3</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-8-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="nt">&lt;login-config&gt;</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a>    <span class="nt">&lt;auth-method&gt;</span>BASIC<span class="nt">&lt;/auth-method&gt;</span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a>    <span class="nt">&lt;realm-name&gt;</span>MyRealm<span class="nt">&lt;/realm-name&gt;</span>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="nt">&lt;/login-config&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#appmod-7-__codelineno-9-1">1</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-9-2">2</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-9-3">3</a></span>
<span class="normal"><a href="#appmod-7-__codelineno-9-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="nt">&lt;error-page&gt;</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a>    <span class="nt">&lt;error-code&gt;</span>401<span class="nt">&lt;/error-code&gt;</span>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a>    <span class="nt">&lt;location&gt;</span>/unauthorized.jsp<span class="nt">&lt;/location&gt;</span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="nt">&lt;/error-page&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
</li>
</ol>
<hr />
<ol start="6">
<li>
<p>With regards to <strong>granular control</strong> over security measures, WCA's recommendation provides much finer-grain control over the HTTP methods and URLs that are invoked by the Liberty code. Lariat's approach to modernized Liberty, by contrast, provides simpler endpoint-level restrictions. Examine the explicit security configuration recommended by WCA below:</p>
<p></br>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#appmod-7-__codelineno-10-1"></a><span class="nt">&lt;security-constraint&gt;</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#appmod-7-__codelineno-10-2"></a>    <span class="nt">&lt;web-resource-collection&gt;</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#appmod-7-__codelineno-10-3"></a>        <span class="nt">&lt;web-resource-name&gt;</span>SecureArea<span class="nt">&lt;/web-resource-name&gt;</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#appmod-7-__codelineno-10-4"></a>        <span class="nt">&lt;url-pattern&gt;</span>/secured/*<span class="nt">&lt;/url-pattern&gt;</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#appmod-7-__codelineno-10-5"></a>    <span class="nt">&lt;/web-resource-collection&gt;</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#appmod-7-__codelineno-10-6"></a>    <span class="nt">&lt;auth-constraint&gt;</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#appmod-7-__codelineno-10-7"></a>        <span class="nt">&lt;role-name&gt;</span>admin<span class="nt">&lt;/role-name&gt;</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#appmod-7-__codelineno-10-8"></a>    <span class="nt">&lt;/auth-constraint&gt;</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#appmod-7-__codelineno-10-9"></a><span class="nt">&lt;/security-constraint&gt;</span>
</code></pre></div></p>
<p></br>
WCA has defined clear security boundaries which align to enterprise standards. XML-based descriptors are often preferred within enterprise environments because those definitions are explicit, centralized, and easily audited. Changes made to Lariat's security policies can be applied quickly without needing to recompile and redeploy the code.</p>
</li>
</ol>
<hr />
<ol start="7">
<li>
<p>Let's examine WCA's recommendations for <strong>fine-grained HTTP method control</strong>:</p>
<p></br>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#appmod-7-__codelineno-11-1"></a><span class="nt">&lt;security-constraint&gt;</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#appmod-7-__codelineno-11-2"></a>    <span class="nt">&lt;web-resource-collection&gt;</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#appmod-7-__codelineno-11-3"></a>        <span class="nt">&lt;web-resource-name&gt;</span>SecureArea<span class="nt">&lt;/web-resource-name&gt;</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#appmod-7-__codelineno-11-4"></a>        <span class="nt">&lt;url-pattern&gt;</span>/secured/*<span class="nt">&lt;/url-pattern&gt;</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#appmod-7-__codelineno-11-5"></a>        <span class="nt">&lt;http-method&gt;</span>POST<span class="nt">&lt;/http-method&gt;</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#appmod-7-__codelineno-11-6"></a>    <span class="nt">&lt;/web-resource-collection&gt;</span>
</code></pre></div></p>
<p></br>
WCA's Liberty code allows Lariat to restrict specific HTTP methods (like <code>POST</code>, <code>PUT</code>, <code>DELETE</code>) independently of <code>GET</code> methods. This is essential for scenarios where reading data (with <code>GET</code>) might be broadly allowed by certain applications or users within the enterprise IT estate, but other restricted operations (like <code>POST</code>) need to remain tightly controlled.</p>
</li>
</ol>
<hr />
<ol start="8">
<li>
<p>Lastly, consider the <strong>explicit role-to-user mapping</strong> defined by WCA's recommendation:</p>
<p></br>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#appmod-7-__codelineno-12-1"></a><span class="nt">&lt;security-role-mapping&gt;</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#appmod-7-__codelineno-12-2"></a>    <span class="nt">&lt;role-name&gt;</span>admin<span class="nt">&lt;/role-name&gt;</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#appmod-7-__codelineno-12-3"></a>    <span class="nt">&lt;user&gt;</span>adminUser<span class="nt">&lt;/user&gt;</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#appmod-7-__codelineno-12-4"></a><span class="nt">&lt;/security-role-mapping&gt;</span>
</code></pre></div></p>
<p></br>
Once again, this recommendation has been specifically tailored for enterprise use cases. WCA's defines which set of users belong to which roles — reflecting the need that Lariat, and many other enterprise organizations, have for transparency in user-role assignments. Explicit definitions such as these ensure that the modernized Liberty code is easily managed and tightly controlled by Lariat's developers.</p>
</li>
</ol>
<hr />
<h2 id="appmod-7-v-conclusion"><strong>v. Conclusion</strong></h2>
<p>Full-stack modernization requires access to the entire application code base of libraries, dependencies, compiled assets, and the contents of the application's directory structure — combined as well with the transformation guidance that is built out using <a href="https://www.ibm.com/products/cloud-pak-for-applications/transformation-advisor" target="_blank"><strong>IBM Cloud Transformation Advisor</strong></a>. <em>Out of context</em> fragments of application code cannot convey that level of information and complexity. Techniques for full-stack application modernization will be explored in following section.</p></section><section class="print-page" id="appmod-8"><h1 id="appmod-8-full-stack-modernizationapplication-modernization-websphere-to-liberty"><strong>Full stack modernization</strong></br><em>Application Modernization - WebSphere to Liberty</em></h1>
<h2 id="appmod-8-i-objectives"><strong>i. Objectives</strong></h2>
<hr />
<p>As a capstone to the experimentation and feature-exploration conducted with <strong>IBM watsonx Code Assistant</strong> (<strong>WCA</strong>) in the previous modules of this lab, participants will conclude the <em>Application Modernization</em> topic with a hands-on opportunity: modernization of a full-stack WebSphere Application Service (WAS) application into WebSphere Liberty.</p>
<p>Participants will be tasked with:</p>
<ul>
<li>Explaining the purpose of the legacy WAS code and detailing the necessary transformations</li>
<li>Modernizing legacy packages and libraries from WAS to Liberty</li>
<li>Upgrading Java versions from <code>Java 8</code> to <code>Java 21</code></li>
<li>Code recommendations will be generated using <em>WCA Chat</em>, as in the previous modules, alongside the <em>Modernize</em> and <em>Java Upgrade</em> capabilities built into WCA Standard plans</li>
</ul>
<p>The culmination of this work will be a fully modernized and interactive web application that tangibly demonstrates the benefits of the techniques discussed throughout this lab.</p>
<h2 id="appmod-8-ii-setting-up"><strong>ii. Setting up</strong></h2>
<p>Return to the Visual Studio Code (VS Code) application. It should already be signed in and authenticated with the WCA service on IBM Cloud — if it's not, follow the instructions in the <a href="https://ibm.github.io/wca-l4/saas/4/#iii-install-the-extension" target="_blank"><strong>IBM Cloud (SaaS) Configuration</strong></a> lab.</p>
<hr />
<ol>
<li>Ensure that the <strong>Explorer</strong> tab is cleared of any previously-opened folders or files before continuing. With the VS Code <strong>Explorer</strong> tab selected and open, click <strong>File</strong> &gt; <strong>Close Folder</strong> from the top taskbar.</li>
</ol>
<hr />
<ol start="2">
<li>
<p>Additional software must be prepared within VS Code before continuing with WCA Standard Plan's enterprise capabilities for WebSphere modernization.</p>
<div class="admonition note">
<p class="admonition-title">INCOMPATIBILITY WITH JDK 24</p>
<p>Note that the <em>Full stack modernization</em> module in <a href="https://ibm.github.io/wca-l4/appmod/8/#i-objectives" target="_blank"><strong>Application Modernization - WebSphere to Liberty</strong></a> will encounter compatibility errors with JDK 24 drivers when attempting to Explain or Modernize the source application. This is owing to a deprecation of <code>sun.misc.Unsafe</code> method as of March 2025. <a href="https://openjdk.org/jeps/498" target="_blank"><strong>Additional details may be found here.</strong></a></p>
<p>As a result, participants in this lab should ensure they are running <strong>JDK 21</strong> (or as early as JDK 11), but specifically <em>not</em> JDK 24. If you are running JDK 24, you should uninstall the JDK from your machine and reinstall with the links provided in <a href="https://ibm.github.io/wca-l4/saas/3/" target="_blank"><strong>Configure the enterprise Java environment</strong></a>.</p>
</div>
<ul>
<li>From the left-hand side of the VS Code interface, click the <strong>Extensions</strong> tab<ul>
<li>Within the <em>Extensions: Marketplace</em> <strong>search bar</strong>, search for <code>Liberty Tools</code></li>
<li>Click the blue <strong>Install</strong> button to the right of the <em>Liberty Tools</em> tile</li>
<li>Dismiss any "Welcome" splash screens</li>
</ul>
</li>
<li>Once the install is complete, return to the <strong>Extensions</strong> tab again<ul>
<li>Within the <em>Extensions: Marketplace</em> <strong>search bar</strong>, search <code>Extension Pack for Java</code></li>
<li>Click the blue <strong>Install</strong> to the right of the <em>Extension Pack for Java</em> tile</li>
<li>Wait for the install to complete and dismiss any "Welcome" splash screens</li>
</ul>
</li>
</ul>
<p></br>
<a class="glightbox" href="../appmod/_attachments/appmod-8.2a.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../appmod/_attachments/appmod-8.2a.png" /></a>
</br>
<a class="glightbox" href="../appmod/_attachments/appmod-8.2b.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../appmod/_attachments/appmod-8.2b.png" /></a>
</br>
<a class="glightbox" href="../appmod/_attachments/appmod-8.2c.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../appmod/_attachments/appmod-8.2c.png" /></a></p>
</li>
</ol>
<hr />
<ol start="3">
<li>
<p>Next, participants must download the WebSphere Application Server (WAS) assets that are to be modernized. The assets will be retrieved from the linked application repository:</p>
<div class="admonition note">
<p class="admonition-title"><code>wca-assets-2025.zip</code></p>
<p><strong>URL:</strong> <a href="https://ibm.box.com/s/ps65ax6mupmwx3pww2b2ylvc9ed18njp" target="_blank">https://ibm.box.com/s/ps65ax6mupmwx3pww2b2ylvc9ed18njp</a></p>
</div>
<ul>
<li><strong>Save</strong> the <code>wca-assets-2025.zip</code> file to your local machine and unzip the contents</li>
<li>Open the <strong>Explorer</strong> tab from the VS Code interface</li>
<li>Click the blue <strong>Open Folder</strong> button and select the unzipped <code>wca-assets-2025</code> directory</li>
<li>The <code>wca-assets-2025</code> contents will automatically open within <strong>Explorer</strong></li>
</ul>
</li>
</ol>
<h2 id="appmod-8-iii-deploy-the-application"><strong>iii. Deploy the application</strong></h2>
<p>Participants now need to build the application <em>Project</em>. </p>
<hr />
<ol start="4">
<li>
<p>Open a <strong>Terminal</strong> within VS Code (if you haven't already) by clicking <strong>Terminal</strong> &gt; <strong>New Terminal</strong> from the top taskbar.</p>
<ul>
<li>Navigate using the Terminal to the folder where <code>wca-assets-2025</code> was saved in <em>Step 3</em> and drill down <code>/1-java-modernization/modresorts-twas-j8/was_dependency</code> directory</li>
<li><strong>Attention:</strong> Substitute the <code>&lt;REPLACE&gt;</code> placeholder with the path to <em>your</em> directory
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#appmod-8-__codelineno-0-1"></a><span class="nb">cd</span> &lt;REPLACE&gt;/wca-assets-2025/1-java-modernization/modresorts-twas-j8/was_dependency
</code></pre></div></li>
<li>Source the <code>~/.zshrc</code> <em>PATH</em> and <em>JAVA_HOME</em> variables (set up previously in the <a href="https://ibm.github.io/wca-l4/saas/3/" target="_blank"><strong>Configure the enterprise Java environment</strong></a> module) by executing the following:
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#appmod-8-__codelineno-1-1"></a><span class="nb">source</span> ~/.zshrc
</code></pre></div></li>
</ul>
</li>
</ol>
<hr />
<ol start="5">
<li>
<p>The necessary Maven dependencies must be prepared within the <code>was_dependency</code> directory before the application can be deployed. Using a Terminal, <strong>execute</strong> the following instruction:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#appmod-8-__codelineno-2-1"></a>mvn install:install-file -Dfile<span class="o">=</span>was_public.jar -DpomFile<span class="o">=</span>was_public-9.0.0.pom
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">WINDOWS USERS</p>
<p>Windows users might need to provide the full path for the build files <code>was_public.jar</code> and <code>was_public-9.0.0.pom</code>, for example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#appmod-8-__codelineno-3-1"></a>mvm install:install-file -Dfile<span class="o">=</span>C:<span class="se">\U</span>sers<span class="se">\A</span>dministrator.CE-APAC-WIND202<span class="se">\D</span>ocuments<span class="se">\w</span>ca4ej-workshop<span class="se">\m</span>odresorts<span class="se">\t</span>was<span class="se">\j</span><span class="m">8</span><span class="se">\w</span>as_dependency<span class="se">\w</span>as_public.jar
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#appmod-8-__codelineno-3-2"></a> -Dpom-File<span class="o">=</span>C:<span class="se">\U</span>sers<span class="se">\A</span>dministrator.CE-APAC-WIND202<span class="se">\D</span>ocuments<span class="se">\w</span>ca4ej-workshop<span class="se">\m</span>odresorts-twas-j8<span class="se">\w</span>as_dependency<span class="se">\w</span>as_public-9.0.0.pom
</code></pre></div></p>
</div>
</li>
</ol>
<hr />
<ol start="6">
<li>
<p>With the <code>was_dependency</code> folder now prepared with the necessary drivers, you are ready to <em>build</em> and <em>deploy</em> the application project into a live web application</p>
<ul>
<li>Open the <strong>Explorer</strong> tab from the left-hand side of the VS Code interface</li>
<li>Below the list of assets belonging the <code>modresorts-twas-j8</code> directory, locate and toggle the <strong>LIBERTY DASHBOARD</strong><sup>[A]</sup> drop-down panel amongst the tabs</li>
<li>If <code>modresorts</code> is not displayed, click the <strong>Add project to Liberty Dashboard</strong><sup>[B]</sup> and press <span class="keys"><kbd class="key-enter">Enter</kbd></span> when prompted to select the <code>modresorts-twas-j8</code> project<sup>[C]</sup></li>
</ul>
<p></br>
<a class="glightbox" href="../appmod/_attachments/appmod-8.6a.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../appmod/_attachments/appmod-8.6a.png" /></a></p>
</li>
</ol>
<hr />
<ol start="7">
<li>
<p>Within the <strong>LIBERTY DASHBOARD</strong> , a <code>modresorts</code> app will show up under the <em>Liberty Dashboard</em> panel.</p>
<ul>
<li>Right click on the <code>modresorts</code> project name to open the drop-down menu of options</li>
<li>Click <strong>Start</strong> to initialize the project</li>
<li>VS Code will automatically download the necessary packages (you can trace the progress within the Terminal console)</li>
<li><strong>Wait</strong> until the initialization process has finished and the console has returned a <code>Source compilation was successful</code> message</li>
<li><strong>Copy</strong> and record the <em>Web application available (default host): ...</em> address returned by the Terminal console (<code>http://localhost:9080/resorts</code> or similar)</li>
</ul>
<div class="admonition tip">
<p><strong>Record</strong> the value of the <em>Liberty Debug Port</em> to a notepad for reference later.</p>
</div>
<p></br>
<a class="glightbox" href="../appmod/_attachments/appmod-8.7.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../appmod/_attachments/appmod-8.7.png" /></a></p>
</li>
</ol>
<hr />
<ol start="8">
<li>
<p>Open a new web browser tab and visit the <strong>Web application URL</strong> recorded in Step 7. Explore and familiarize yourself with the various tabs and pages built into the legacy web application.</p>
<div class="admonition note">
<p class="admonition-title">ERRORS AND BROKEN WEB LINKS</p>
<p>As the legacy application has been built for WebSphere Application Server (WAS) using <code>Java 8</code>, but the deployment generated in Step 7 was intended for WebSphere Liberty using <code>Java 21</code>, there are a number of pages within the app that will produce an "Error" — for example, the location information module. These will be aspects of the application that you will remedy as part of the modernization steps that follow.</p>
</div>
<p></br>
<a class="glightbox" href="../appmod/_attachments/appmod-8.8.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../appmod/_attachments/appmod-8.8.png" /></a></p>
</li>
</ol>
<h2 id="appmod-8-iv-explain-the-project-code"><strong>iv. Explain the project code</strong></h2>
<p>Let's better understand the entirety of the project by using the <strong>explainability</strong> features built into watsonx Code Assistant.</p>
<hr />
<ol start="9">
<li>
<p>Open the <strong>Explorer</strong> tab from the left-hand interface to view the contents of the <code>modresorts-twas-j8</code> project</p>
<ul>
<li>Right-click anywhere inside the <code>modresorts-twas-j8</code> workspace<sup>[A]</sup> to open a drop-down menu of options</li>
<li>Hover over the <strong>watsonx Code Assistant</strong> option and then select <strong>Explain Application</strong><sup>[B]</sup></li>
<li>When prompted, click <strong>Proceed with code analysis</strong></li>
<li>Wait <strong>1-2 minutes</strong> for the analysis to complete, at which time a pop-up will appear in the bottom-right corner of VS Code stating that <code>The explanation has been completed</code></li>
<li>Click the <strong>Open explanation</strong> button within the pop-up to open and peruse the report</li>
</ul>
<div class="admonition tip">
<p><strong>Record</strong> the entire output of the <em>Explain Application</em> report to a notepad for reference later.</p>
</div>
<p></br>
<a class="glightbox" href="../appmod/_attachments/appmod-8.9.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../appmod/_attachments/appmod-8.9.png" /></a></p>
</li>
</ol>
<h2 id="appmod-8-v-build-a-modernization-plan"><strong>v. Build a modernization plan</strong></h2>
<p>Before modernizing the WAS application into Liberty, you'll need to scope out the necessary changes and level of effort required to do so. To obtain that understanding, you will need to generate a modernization plan using <strong><a href="https://www.ibm.com/products/cloud-pak-for-applications/transformation-advisor" target="_blank">IBM Cloud Transformation Advisor</a></strong>. For the purposes of this lab, one such plan has been prepared ahead of time and included within the <code>modresorts-twas-j8</code> project folder.</p>
<hr />
<ol start="10">
<li>
<p>Open the <strong>Explore</strong> tab of VS Code and right-click anywhere inside the <code>modresorts-twas-j8</code> workspace. Then hover over <strong>watsonx Code Assistant</strong> and select <strong>Modernize to Liberty</strong>.</p>
<ul>
<li>A <em>Modernize to Liberty</em> tab will open within the VS Code interface</li>
</ul>
<div class="admonition note">
<p>As the modernization plan prepared earlier by <em>IBM Cloud Transformation Advisor</em> has not yet been uploaded to WCA at this stage, the modernization recommendations proposed <em>currently</em> by the service are less granular and contextualized than they will be <em>after</em> uploading the migration bundle. This presents an interesting opportunity to compare the before and after impacts of the migration bundle on the WCA modernization plan.</p>
</div>
<div class="admonition tip">
<p><strong>Before uploading the migration bundle</strong>, take note of the following information and record it to a notepad for reference later: how many proposed fixes are suggested for <em>Automated Fixes</em>, <em>Assisted Fixes</em>, and <em>Self-Directed Fixes</em>?</p>
</div>
<ul>
<li>To supply the migration bundle, click the <strong>Return to Upload / analyze</strong> button in the top-right corner of the <em>Modernize to Liberty</em> panel</li>
<li>Click the <strong>Upload migration bundle</strong> button</li>
<li>When prompted, specify <code>modresorts-twas-j8/migration-bundle/modresorts.ear_migrationBundle.zip</code> as the location of the migration bundle</li>
</ul>
<div class="admonition tip">
<p><strong>Observe</strong> the state of the <em>Selected files to be added to the project</em> before making any adjustments or selections. Record these observations to a notepad for reference later.</p>
</div>
<ul>
<li>Be sure that both the <code>server.xml</code> and <code>Containerfile</code> assets are selected, then click <strong>Proceed</strong> to continue</li>
</ul>
<p></br>
<a class="glightbox" href="../appmod/_attachments/appmod-8.10a.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../appmod/_attachments/appmod-8.10a.png" /></a></p>
<p></br>
<a class="glightbox" href="../appmod/_attachments/appmod-8.10b.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../appmod/_attachments/appmod-8.10b.png" /></a></p>
</li>
</ol>
<hr />
<ol start="11">
<li>
<p>Analysis will take a few moments to complete. When ready, the <em>Modernize</em> panel will generate a report that identifies issues with the application that need to be fixed. Some of these can be automatically repaired, while others will require a degree of manual intervention.</p>
<ul>
<li>Under the <strong>Issues</strong> header, click the <strong>Automated fixes</strong> to pull open the list of issues that can be automated</li>
</ul>
<div class="admonition tip">
<p><strong>Inspect</strong> each of the automated fix suggestions, including their titles and the contents within the expandable tabs. These details should be recorded to a notepad for reference later.</p>
</div>
<ul>
<li>See more details about each by clicking the drop-down error to the right of the issue</li>
<li>Click the <strong>Run automated fixes</strong> button at the bottom of the page to execute the automated fixes to Liberty</li>
</ul>
<div class="admonition tip">
<p><strong>After</strong> receiving a <code>BUILD SUCCESS</code> message from the console:</p>
<ul>
<li>Record details about the <em>Estimate of time saved</em> included in the console read-out</li>
<li>Take note of how many Java source files were modified as a result of the automated fixes.</li>
</ul>
<p>Save this information to a notepad for reference later.</p>
</div>
</li>
</ol>
<hr />
<ol start="12">
<li>
<p>View details about the fix(es) requiring a degree of manual intervention by clicking the <strong>Assisted fixes</strong> tab.</p>
<div class="admonition tip">
<p><strong>Record</strong> the total number of <em>Assisted fixes</em>, <em>Self-directed fixes</em>, and <em>Additional information</em> suggestions to a notepad for future reference.</p>
</div>
<ul>
<li>Along the top of the tab, left-click the grey <strong>Instructions</strong><sup>[A]</sup> panel to reveal the WCA-generated guidance on how to resolve the migration problems.</li>
<li>In this example, the <code>WebSphere Servlet API was superseded by a newer implementation</code> that uses <code>Servlet 3.0</code> functionality and as such a trio of packages used by the WAS app will no longer be available for use with Liberty</li>
<li>Further down the panel, impacted file(s) in the legacy application code will be provided</li>
<li><strong>Click</strong><sup>[B]</sup> the drop-down arrow to the <em>right</em> of the impacted file to reveal a detailed set of instructions for how to improve the code</li>
<li>Afterwards, <strong>click</strong><sup>[C]</sup> the <em>name</em> of the impacted file to inspect its source code in a new editor window:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#appmod-8-__codelineno-4-1"></a>src/main/java/com/acme/modres/UpperServlet.java
</code></pre></div>
<p></br>
<a class="glightbox" href="../appmod/_attachments/appmod-8.12.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../appmod/_attachments/appmod-8.12.png" /></a></p>
</li>
</ol>
<hr />
<ol start="13">
<li>
<p>An editor window will open on the right side of VS Code, displaying the contents of <code>UpperServlet.java</code> for editing. The next set of instructions will follow along with the guidance recommended by the <em>Modernize</em> panel (in the center of the VS Code interface):</p>
<ul>
<li><strong>Select</strong><sup>[A]</sup> all of the class that uses the <code>ResponseUtils.encodeDataString()</code> method, beginning on <strong>Line 14</strong> from <code>@WebServlet("/resorts/upper")</code> and ending on <strong>Line 27</strong> (an empty newline)</li>
</ul>
<div class="admonition tip">
<p><strong>Record</strong> the text (if any) that appears directly above <em>Line 14</em> within the open <code>UpperServlet.java</code> file contents window. Save this information to a notepad for reference later.</p>
</div>
<ul>
<li>With the relevant code selected, click the <strong>Help me</strong><sup>[B]</sup> button in the <em>Modernize</em> panel</li>
</ul>
<p></br>
<a class="glightbox" href="../appmod/_attachments/appmod-8.13.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../appmod/_attachments/appmod-8.13.png" /></a></p>
</li>
</ol>
<hr />
<ol start="14">
<li>
<p>WCA will engage a <em>Chat</em> session and generate within the conversation <strong>TWO</strong> sets of code fixes that can be added to the legacy code in order to remedy the issue.</p>
<p></br>
<strong>Recommendation 1:</strong> The first fix will be a <em>substitute</em> of the lines of code for <code>UpperServlet.java</code>, beginning on <em>Line 23</em> and ending on <em>Line 26</em>. A new line will also need to be added to the <code>import</code> statements at the beginning of the file.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#appmod-8-__codelineno-5-1"></a><span class="c1">// Assisted by watsonx Code Assistant</span><span class="w"></span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#appmod-8-__codelineno-5-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.commons.text.StringEscapeUtils</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#appmod-8-__codelineno-5-3"></a>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#appmod-8-__codelineno-5-4"></a><span class="nd">@WebServlet</span><span class="p">(</span><span class="s">&quot;/resorts/upper&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#appmod-8-__codelineno-5-5"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">UpperServlet</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">HttpServlet</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#appmod-8-__codelineno-5-6"></a>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#appmod-8-__codelineno-5-7"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">serialVersionUID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1L</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#appmod-8-__codelineno-5-8"></a>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#appmod-8-__codelineno-5-9"></a><span class="w">    </span><span class="nd">@Override</span><span class="w"></span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#appmod-8-__codelineno-5-10"></a><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doGet</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#appmod-8-__codelineno-5-11"></a><span class="w">        </span><span class="n">response</span><span class="p">.</span><span class="na">setContentType</span><span class="p">(</span><span class="s">&quot;text/html&quot;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#appmod-8-__codelineno-5-12"></a>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#appmod-8-__codelineno-5-13"></a><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">originalStr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">getParameter</span><span class="p">(</span><span class="s">&quot;input&quot;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#appmod-8-__codelineno-5-14"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">originalStr</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#appmod-8-__codelineno-5-15"></a><span class="w">            </span><span class="n">originalStr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#appmod-8-__codelineno-5-16"></a><span class="w">        </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#appmod-8-__codelineno-5-17"></a>
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#appmod-8-__codelineno-5-18"></a><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">escapedStr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StringEscapeUtils</span><span class="p">.</span><span class="na">escapeHtml4</span><span class="p">(</span><span class="n">originalStr</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#appmod-8-__codelineno-5-19"></a><span class="w">        </span><span class="n">newStr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StringEscapeUtils</span><span class="p">.</span><span class="na">escapeHtml4</span><span class="p">(</span><span class="n">newStr</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-5-20" name="__codelineno-5-20" href="#appmod-8-__codelineno-5-20"></a>
<a id="__codelineno-5-21" name="__codelineno-5-21" href="#appmod-8-__codelineno-5-21"></a><span class="w">        </span><span class="n">PrintWriter</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="na">getWriter</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-5-22" name="__codelineno-5-22" href="#appmod-8-__codelineno-5-22"></a><span class="w">        </span><span class="n">out</span><span class="p">.</span><span class="na">print</span><span class="p">(</span><span class="s">&quot;&lt;br/&gt;&lt;b&gt;capitalized input &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">newStr</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;&lt;/b&gt;&quot;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-5-23" name="__codelineno-5-23" href="#appmod-8-__codelineno-5-23"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-5-24" name="__codelineno-5-24" href="#appmod-8-__codelineno-5-24"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p></br>
<strong>Recommendation 2:</strong> The second fix will be <em>new</em> lines of code that are to be added to the <code>pom.xml</code> file.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#appmod-8-__codelineno-6-1"></a><span class="o">&lt;</span><span class="n">dependency</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#appmod-8-__codelineno-6-2"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">groupId</span><span class="o">&gt;</span><span class="n">org</span><span class="p">.</span><span class="na">apache</span><span class="p">.</span><span class="na">commons</span><span class="o">&lt;/</span><span class="n">groupId</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#appmod-8-__codelineno-6-3"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">artifactId</span><span class="o">&gt;</span><span class="n">commons</span><span class="o">-</span><span class="n">text</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#appmod-8-__codelineno-6-4"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">version</span><span class="o">&gt;</span><span class="mf">1.12.0</span><span class="o">&lt;/</span><span class="n">version</span><span class="o">&gt;</span><span class="w"></span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#appmod-8-__codelineno-6-5"></a><span class="o">&lt;/</span><span class="n">dependency</span><span class="o">&gt;</span><span class="w"></span>
</code></pre></div>
</li>
</ol>
<hr />
<ol start="15">
<li>
<p>Edit the contents of <code>UpperServlet.java</code> by <strong>replacing</strong> the highlighted lines of code as instructed in <em>Step 14</em> with the WCA-generated <strong>Recommendation 1</strong> code.</p>
<p>Save the changes to the file (<strong>File</strong> &gt; <strong>Save</strong>).</p>
</li>
</ol>
<hr />
<ol start="16">
<li>
<p>Locate the <code>pom.xml</code> file from the list of assets under the <strong>Explorer</strong> tab.</p>
<ul>
<li>Double-click on the filename to edit the contents</li>
<li>Scroll down until you reach <strong>Level 58</strong> (<code>&lt;/dependency&gt;</code>) and place your cursor at the end of the line, then hit <span class="keys"><kbd class="key-enter">Enter</kbd></span> to create a new line</li>
<li>Beginning on the new <strong>Line 59</strong> of the <code>pom.xml</code> contents, <strong>add</strong> the contents of WCA's <strong>Recommendation 2</strong> (the second code block of <em>Step 14</em>) to the file</li>
<li>The new lines of code should now occupy Lines 59-63 of the modified <code>pom.xml</code> code</li>
<li>Ensure that the indentation lines up with other <code>&lt;dependency&gt;</code> declarations within the parent <code>&lt;dependencies&gt;</code> nesting</li>
<li>Save the changes to the file (<strong>File</strong> &gt; <strong>Save</strong>)</li>
</ul>
</li>
</ol>
<hr />
<ol start="17">
<li>
<p>With the application code now modified— by a combination of automated fixes and manual interventions —the original deployment launched in Step 4 will need to be re-deployed.</p>
<ul>
<li>Return to the open VS Code <strong>Terminal</strong></li>
<li>Press <span class="keys"><kbd class="key-control">Ctrl</kbd></span> + <span class="keys"><kbd class="key-c">C</kbd></span> to terminate the application</li>
</ul>
<div class="admonition tip">
<p><strong>Record</strong> the message returned by the console after terminating the application. Save this information to a notebook for reference later.</p>
</div>
</li>
</ol>
<hr />
<ol start="18">
<li>
<p>To re-deploy the application, return to the <strong>Modernize</strong> panel (right hand side). Take note of the fact that all <em>Issues</em> previously reported by the tool have been resolved.</p>
<ul>
<li>Click the <strong>Rebuild and refresh</strong> button to re-deploy the modernized application</li>
<li>Wait for the <em>Modernize ModResorts</em> summary to refresh: it should now should only 1 Automated fix (optional and can be ignore) and 0 Assisted fixes are recommended</li>
<li>Open the <strong>Explorer</strong> tab and locate the <strong>LIBERTY DASHBOARD</strong> drop-down</li>
<li>Right click on <code>modresorts</code>, click <strong>Start</strong>, and wait for the console to report a successful deployment</li>
<li><strong>Refresh</strong> the tab of the web application to inspect the modernized Liberty application</li>
<li>Previously broken features, such as the <code>Logout</code> button, should now be fully operable</li>
</ul>
<div class="admonition tip">
<p><strong>Click</strong> the <em>Logout</em> button on the redeployed ModResorts page. Wait for the page to refresh and then <strong>record</strong> the message on the page to a notepad for reference later.</p>
</div>
</li>
</ol>
<h2 id="appmod-8-vi-java-version-upgrades"><strong>vi. Java version upgrades</strong></h2>
<p>Recall from before that the application's version of Java code was originally written for <code>Java 8</code>. However, to be compliant with modern versions of Liberty, that Java code will need to be upgraded to <code>Java 21</code>.</p>
<hr />
<ol start="19">
<li>
<p>With the <strong>Explorer</strong> tab active, right click on the <code>modresorts-twas-j8</code> directory to expose a drop-down menu.</p>
<ul>
<li>Hover over <strong>watsonx Code Assistant</strong></li>
<li>Left click <strong>Upgrade Java Version</strong> to continue</li>
</ul>
</li>
</ol>
<hr />
<ol start="20">
<li>
<p>A new <em>Upgrade</em> panel will open as a tab alongside the <em>Modernize</em> panel.</p>
<ul>
<li>WCA will automatically detect that the code <em>Source</em> is designed for <code>IBM Java 8</code></li>
<li>Set the <em>Target</em> parameter equal to <code>Java 21 (LTS)</code></li>
<li>When ready, click the <strong>Build and analyze</strong> button</li>
</ul>
</li>
</ol>
<hr />
<ol start="21">
<li>
<p>Similar to the <em>Modernize</em> steps previously, the <em>Upgrade</em> automation will generate a new <strong>Issues</strong> tab containing a list of potential fixes required before continuing with the Java version upgrade. Some of these tasks can be handled fully by automation; others will require some degree of manual intervention.</p>
<ul>
<li>Select the <strong>Automated fixes</strong> tab first to identify three issues that can be resolved without human intervention</li>
<li>Click any of the recommended fixes to pull down additional information on what changes will be performed by the automation</li>
<li>When ready, click the <strong>Run automated fixes</strong> button to perform the tasks</li>
<li>Completion of the tasks may take several minutes to conclude</li>
</ul>
</li>
</ol>
<hr />
<ol start="22">
<li>
<p>To examine the <em>Upgrade</em> tasks requiring human intervention, click the <strong>Assisted fixes</strong> tab.</p>
<ul>
<li>Similarly to the <em>Modernization</em> panel, a description of the issue and detailed recommendations on how to perform the code fixes are listed within the tab</li>
<li>Click the name of the problematic file (<code>src/main/java/acme/modres/mbean/DMBeanUtils.java</code>) to open <code>DMBeanUtils.java</code> for editing and modification</li>
</ul>
</li>
</ol>
<hr />
<ol start="23">
<li>
<p>According to WCA, there is an incompatibility with the <code>getOps</code> method within the <code>DMBeanUtils.java</code> codebase — specifically with the <code>MBeanOperationInfo</code> constructor that the method calls on line 28.</p>
<ul>
<li>Click the <strong>Help me</strong> button to engage a new <em>WCA Chat</em> session</li>
<li>WCA will generate code recommendations within the <em>Chat</em> panel that can substitute the problematic legacy code</li>
<li><strong>Copy</strong> the full <code>public final class DMBeanUtils {...}</code> code recommendation from the <em>Chat</em> panel to a clipboard</li>
<li><strong>Replace</strong> the entire contents of the <code>DMBeanUtils.java</code> file with the recommendation from WCA</li>
<li>Save the changes to the file (<strong>File</strong> &gt; <strong>Save</strong>)</li>
</ul>
</li>
</ol>
<hr />
<ol start="24">
<li>There is a second <em>optional</em> recommendation available within the <em>Issues</em> tab of the <strong>Upgrade</strong> panel, but this can be safely <strong>ignored</strong> for now as it only relates to a deprecation warning.</li>
</ol>
<hr />
<ol start="25">
<li>
<p>With the application's Java version now upgraded to Java 21 by a combination of automated fixes and manual interventions —the application will once again need to be redeployed to reflect the changes.</p>
<ul>
<li>Return to the open VS Code <strong>Terminal</strong></li>
<li>Press <span class="keys"><kbd class="key-control">Ctrl</kbd></span> + <span class="keys"><kbd class="key-c">C</kbd></span> to terminate the application</li>
</ul>
</li>
</ol>
<hr />
<ol start="26">
<li>
<p>To re-deploy the application, return to the <strong>Upgrade</strong> panel (right hand side). Take note of the fact that all <em>Issues</em> previously reported by the tool have been resolved.</p>
<ul>
<li>Click the <strong>Rebuild and refresh</strong> button to re-deploy the application</li>
<li>Wait for the Terminal to report a successful deployment</li>
<li><strong>Refresh</strong> the tab of the web application to inspect the modernized Liberty application</li>
<li>Previously broken features, such as the <code>Location</code> module, should now be fully operable</li>
</ul>
</li>
</ol>
<hr />
<h2 id="appmod-8-vii-conclusion"><strong>vii. Conclusion</strong></h2>
<p>Having concluded the <strong>Application Modernization - WebSphere to Liberty</strong> hands-on modules, participants should now complete the corresponding <em>Evaluation</em> quiz and then continue with the remainder of the Level 4 curriculum.</p></section><h1 class='nav-section-title-end'>Ended: Application Modernization - WebSphere to Liberty</h1></div>




              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 IBM
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "/", "features": ["navigation.instant", "navigation.tracking", "content.code.annotate", "content.code.copy", "content.code.select", "navigation.footer"], "search": "../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.9c69f0bc.min.js"></script>
      
        <script src="../js/print-site.js"></script>
      
        <script src="../_static/hide-toc-nav.js"></script>
      
    
  </body>
</html>