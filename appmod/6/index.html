
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="IBM watsonx Code Assistant - Modernize Applications">
      
      
        <meta name="author" content="Christopher Bienko (cdbienko@us.ibm.com)">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.4.1">
    
    
      
        <title>6. JMS integration - IBM watsonx Code Assistant - Modernize Applications</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.69437709.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings2.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings3.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings4.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings5.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings6.css">
    
      <link rel="stylesheet" href="../../css/print-site.css">
    
      <link rel="stylesheet" href="../../css/print-site-material.css">
    
      <link rel="stylesheet" href="../../styles/override-print.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#java-message-service-integrationapplication-modernization-websphere-to-liberty" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="IBM watsonx Code Assistant - Modernize Applications" class="md-header__button md-logo" aria-label="IBM watsonx Code Assistant - Modernize Applications" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            IBM watsonx Code Assistant - Modernize Applications
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              6. JMS integration
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="IBM watsonx Code Assistant - Modernize Applications" class="md-nav__button md-logo" aria-label="IBM watsonx Code Assistant - Modernize Applications" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    IBM watsonx Code Assistant - Modernize Applications
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../toc/" class="md-nav__link">
        Table of Contents
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          IBM Cloud (SaaS) Configuration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="IBM Cloud (SaaS) Configuration" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          IBM Cloud (SaaS) Configuration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../saas/1/" class="md-nav__link">
        1. Objectives and requirements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../saas/2/" class="md-nav__link">
        2. Reserve an environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../saas/3/" class="md-nav__link">
        3. Configure for enterprise Java
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../saas/4/" class="md-nav__link">
        4. Install WCA extension for Visual Studio Code
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../saas/5/" class="md-nav__link">
        5. Install WCA plug-in for Eclipse IDE
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Application Modernization - WebSphere to Liberty
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Application Modernization - WebSphere to Liberty" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Application Modernization - WebSphere to Liberty
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../1/" class="md-nav__link">
        1. Objectives and requirements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../2/" class="md-nav__link">
        2. Basic migration capabilities
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../3/" class="md-nav__link">
        3. Configuration management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../4/" class="md-nav__link">
        4. APIs and libraries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../5/" class="md-nav__link">
        5. EJB modernization
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          6. JMS integration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        6. JMS integration
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#i-incentives-to-modernize" class="md-nav__link">
    i. Incentives to modernize
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ii-websphere-legacy-code" class="md-nav__link">
    ii. WebSphere legacy code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iii-liberty-modernized-code" class="md-nav__link">
    iii. Liberty modernized code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iv-hands-on-with-wca" class="md-nav__link">
    iv. Hands-on with WCA
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#v-next-steps" class="md-nav__link">
    v. Next steps
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../7/" class="md-nav__link">
        7. Security modernization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../8/" class="md-nav__link">
        8. Full stack modernization
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#i-incentives-to-modernize" class="md-nav__link">
    i. Incentives to modernize
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ii-websphere-legacy-code" class="md-nav__link">
    ii. WebSphere legacy code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iii-liberty-modernized-code" class="md-nav__link">
    iii. Liberty modernized code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iv-hands-on-with-wca" class="md-nav__link">
    iv. Hands-on with WCA
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#v-next-steps" class="md-nav__link">
    v. Next steps
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="java-message-service-integrationapplication-modernization-websphere-to-liberty"><strong>Java Message Service integration</strong></br><em>Application Modernization - WebSphere to Liberty</em></h1>
<h2 id="i-incentives-to-modernize"><strong>i. Incentives to modernize</strong></h2>
<div class="admonition quote">
<p class="admonition-title">SECTION I. TERMINOLOGY</p>
<p>For readability, <a href="https://www.ibm.com/products/websphere-application-server" target="_blank"><strong>IBM WebSphere Application Server</strong></a> (WAS) in this chapter is referred to in shorthand as "WebSphere", unless noted otherwise. Similarly, <a href="https://www.ibm.com/products/cloud-pak-for-applications/liberty" target="_blank"><strong>IBM WebSphere Liberty</strong></a> is referenced in shorthand as simply "Liberty".</p>
</div>
<p><strong>WebSphere</strong> traditionally connects Java Enterprise Edition (Java EE) applications to <strong>IBM MQ</strong> using complex <strong>Java Message Service</strong> (<strong>JMS</strong>) configurations which depend upon external XML files. JMS is the standard by which Java APIs send, receive, and manage asynchronous messages between distributed Java EE applications. In turn, IBM MQ provides a middleware layer to ensure that such asynchronous messaging are delivered <em>reliably</em> between said applications. Collectively, these components come together to form the <strong>WebSphere MQ JMS integration</strong> that Lariat Corporation is using in their legacy systems today.</p>
<p><strong>Liberty</strong> still makes use of JMS and MQ, but replaces the use of external XML file configuration management in favor of declarative configurations <em>directly within</em> Liberty's <code>server.xml</code> resource. The result is that configuration is no longer defined external to the server, which in turn reduces the complexity of managing such configurations for Lariat's developers and improves the maintainability of their messaging integrations.</p>
<p></br></p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>WebSphere MQ JMS Integration</th>
<th>Liberty JMS Configuration</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Complexity</strong></td>
<td>High complexity owing to verbose XML or admin console requirements.</td>
<td>Significantly simplified and concise.</td>
</tr>
<tr>
<td><strong>Maintainability</strong></td>
<td>Difficult, configuration is dispersed and complex.</td>
<td>Easy to maintain, with all resources clearly defined in one place.</td>
</tr>
<tr>
<td><strong>Productivity</strong></td>
<td>Lower developer productivity due to manual configuration and overhead.</td>
<td>Improved developer productivity due to straightforward and rapid setup.</td>
</tr>
<tr>
<td><strong>Integrations</strong></td>
<td>Cloud and microservices are harder to scale or adapt.</td>
<td>Cloud and microservices are easily adapted due to cloud-native design.</td>
</tr>
</tbody>
</table>
<p>By modernizing Lariat's WebSphere-based approach of MQ JMS integration to Liberty's declarative JMS-based configuration, the expectation is that the company's management of asynchronous message delivery between applications can be more easily maintained and better aligned to cloud-native best practices.</p>
<hr />
<h2 id="ii-websphere-legacy-code"><strong>ii. WebSphere legacy code</strong></h2>
<p>First, examine the legacy code (below), which as mentioned previously is a snapshot of a larger application using <strong>WebSphere's MQ JMS integration</strong>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:1"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">WEBSPHERE APPLICATION SERVER</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-0-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-0-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-0-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span>
<span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span>
<span class="normal"><a href="#__codelineno-0-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="cm">&lt;!-- ejb-jar.xml --&gt;</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="nt">&lt;message-driven&gt;</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a>    <span class="nt">&lt;ejb-name&gt;</span>LegacyMDB<span class="nt">&lt;/ejb-name&gt;</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a>    <span class="nt">&lt;ejb-class&gt;</span>com.lariat.messaging.LegacyMDB<span class="nt">&lt;/ejb-class&gt;</span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a>    <span class="nt">&lt;transaction-type&gt;</span>Container<span class="nt">&lt;/transaction-type&gt;</span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a>    <span class="nt">&lt;message-driven-destination&gt;</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a>        <span class="nt">&lt;destination-type&gt;</span>javax.jms.Queue<span class="nt">&lt;/destination-type&gt;</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a>    <span class="nt">&lt;/message-driven-destination&gt;</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="nt">&lt;/message-driven&gt;</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="cm">&lt;!-- ibm-ejb-jar-bnd.xml --&gt;</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="nt">&lt;message-driven</span> <span class="na">name=</span><span class="s">&quot;LegacyMDB&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a>    <span class="nt">&lt;activation-config&gt;</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a>        <span class="nt">&lt;activation-config-property&gt;</span>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a>            <span class="nt">&lt;activation-config-property-name&gt;</span>destination<span class="nt">&lt;/activation-config-property-name&gt;</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a>            <span class="nt">&lt;activation-config-property-value&gt;</span>jms/legacyQueue<span class="nt">&lt;/activation-config-property-value&gt;</span>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a>        <span class="nt">&lt;/activation-config-property&gt;</span>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a>    <span class="nt">&lt;/activation-config&gt;</span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="nt">&lt;/message-driven&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<p>Lariat's particular implementation of WebSphere MQ JMS utilizes XML descriptors (<code>ejb-jar.xml</code>, <code>ibm-ejb-jar-bnd.xml</code> on <strong>lines 1 and 11</strong>, respectively) to define message-driven beans (MDB) and their JMS destinations.</p>
<p>This is the <em>explicit</em> and <em>manual</em> style of configuring messaging endpoints through separate descriptor (XML) files — in sharp contrast to the declarative approach you will examine with Liberty momentarily. WebSphere's approach of using separate descriptor files makes the setup of new configurations potentially more complex and prone to human-induced errors within the code.</p>
<hr />
<h2 id="iii-liberty-modernized-code"><strong>iii. Liberty modernized code</strong></h2>
<p>Consider below the modernized (but functionally equivalent) application code using <strong>Liberty's JMS configuration</strong>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">WEBSPHERE LIBERTY</label><label for="__tabbed_2_2">WEBSPHERE APPLICATION SERVER</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span>
<span class="normal"><a href="#__codelineno-1-12">12</a></span>
<span class="normal"><a href="#__codelineno-1-13">13</a></span>
<span class="normal"><a href="#__codelineno-1-14">14</a></span>
<span class="normal"><a href="#__codelineno-1-15">15</a></span>
<span class="normal"><a href="#__codelineno-1-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="cm">&lt;!-- server.xml --&gt;</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="nt">&lt;server&gt;</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a>    <span class="nt">&lt;featureManager&gt;</span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a>        <span class="nt">&lt;feature&gt;</span>jms-2.0<span class="nt">&lt;/feature&gt;</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a>    <span class="nt">&lt;/featureManager&gt;</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a>    <span class="nt">&lt;jmsQueue</span> <span class="na">id=</span><span class="s">&quot;modernQueue&quot;</span> <span class="na">jndiName=</span><span class="s">&quot;jms/modernQueue&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a>
<a id="__codelineno-1-9" name="__codelineno-1-9"></a>    <span class="nt">&lt;messageDrivenBean</span> <span class="na">id=</span><span class="s">&quot;ModernMDB&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a>        <span class="nt">&lt;activationSpec&gt;</span>
<a id="__codelineno-1-11" name="__codelineno-1-11"></a>            <span class="nt">&lt;activationSpecClass&gt;</span>javax.jms.Queue<span class="nt">&lt;/activationSpecClass&gt;</span>
<a id="__codelineno-1-12" name="__codelineno-1-12"></a>            <span class="nt">&lt;activationSpecProperty</span> <span class="na">name=</span><span class="s">&quot;destination&quot;</span><span class="nt">&gt;</span>jms/modernQueue<span class="nt">&lt;/activationSpecProperty&gt;</span>
<a id="__codelineno-1-13" name="__codelineno-1-13"></a>        <span class="nt">&lt;/activationSpec&gt;</span>
<a id="__codelineno-1-14" name="__codelineno-1-14"></a>        <span class="nt">&lt;className&gt;</span>com.lariat.messaging.ModernMDB<span class="nt">&lt;/className&gt;</span>
<a id="__codelineno-1-15" name="__codelineno-1-15"></a>    <span class="nt">&lt;/messageDrivenBean&gt;</span>
<a id="__codelineno-1-16" name="__codelineno-1-16"></a><span class="nt">&lt;/server&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-2-10">10</a></span>
<span class="normal"><a href="#__codelineno-2-11">11</a></span>
<span class="normal"><a href="#__codelineno-2-12">12</a></span>
<span class="normal"><a href="#__codelineno-2-13">13</a></span>
<span class="normal"><a href="#__codelineno-2-14">14</a></span>
<span class="normal"><a href="#__codelineno-2-15">15</a></span>
<span class="normal"><a href="#__codelineno-2-16">16</a></span>
<span class="normal"><a href="#__codelineno-2-17">17</a></span>
<span class="normal"><a href="#__codelineno-2-18">18</a></span>
<span class="normal"><a href="#__codelineno-2-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="cm">&lt;!-- ejb-jar.xml --&gt;</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="nt">&lt;message-driven&gt;</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a>    <span class="nt">&lt;ejb-name&gt;</span>LegacyMDB<span class="nt">&lt;/ejb-name&gt;</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a>    <span class="nt">&lt;ejb-class&gt;</span>com.lariat.messaging.LegacyMDB<span class="nt">&lt;/ejb-class&gt;</span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a>    <span class="nt">&lt;transaction-type&gt;</span>Container<span class="nt">&lt;/transaction-type&gt;</span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a>    <span class="nt">&lt;message-driven-destination&gt;</span>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a>        <span class="nt">&lt;destination-type&gt;</span>javax.jms.Queue<span class="nt">&lt;/destination-type&gt;</span>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a>    <span class="nt">&lt;/message-driven-destination&gt;</span>
<a id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="nt">&lt;/message-driven&gt;</span>
<a id="__codelineno-2-10" name="__codelineno-2-10"></a>
<a id="__codelineno-2-11" name="__codelineno-2-11"></a><span class="cm">&lt;!-- ibm-ejb-jar-bnd.xml --&gt;</span>
<a id="__codelineno-2-12" name="__codelineno-2-12"></a><span class="nt">&lt;message-driven</span> <span class="na">name=</span><span class="s">&quot;LegacyMDB&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-2-13" name="__codelineno-2-13"></a>    <span class="nt">&lt;activation-config&gt;</span>
<a id="__codelineno-2-14" name="__codelineno-2-14"></a>        <span class="nt">&lt;activation-config-property&gt;</span>
<a id="__codelineno-2-15" name="__codelineno-2-15"></a>            <span class="nt">&lt;activation-config-property-name&gt;</span>destination<span class="nt">&lt;/activation-config-property-name&gt;</span>
<a id="__codelineno-2-16" name="__codelineno-2-16"></a>            <span class="nt">&lt;activation-config-property-value&gt;</span>jms/legacyQueue<span class="nt">&lt;/activation-config-property-value&gt;</span>
<a id="__codelineno-2-17" name="__codelineno-2-17"></a>        <span class="nt">&lt;/activation-config-property&gt;</span>
<a id="__codelineno-2-18" name="__codelineno-2-18"></a>    <span class="nt">&lt;/activation-config&gt;</span>
<a id="__codelineno-2-19" name="__codelineno-2-19"></a><span class="nt">&lt;/message-driven&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<p>Through the process of modernizing the code, Lariat switched to Liberty's messaging providers using standardized JMS APIs in a single, unified <code>server.xml</code> configuration. All JMS resources, such as queues and MDBs, are defined directly within the <code>server.xml</code> configuration file.</p>
<p>The net result is that configurations are simplified compared to the traditional WebSphere approach of separate descriptor files. Clearly named and easily identifiable JMS queues (<strong>line 1</strong>), as well as activation specifications (beginning on <strong>line 3</strong>), are consolidated within the streamlined <code>server.xml</code> configuration.</p>
<p>In summary, consolidation of Lariat's messaging configurations into a simplified and centralized pattern has streamlined future maintenance of these configuration files and simplified the process of troubleshooting messaging integrations for their developers.</p>
<hr />
<h2 id="iv-hands-on-with-wca"><strong>iv. Hands-on with WCA</strong></h2>
<div class="admonition quote">
<p class="admonition-title">SECTION IV. TERMINOLOGY</p>
<p>For the purposes of comparison and brevity, the WCA-generated Liberty code will be referred to simply as "<strong>WCA</strong>" and Lariat Corporation's best-practice modernized code will be referred to as "<strong>Lariat</strong>".</p>
</div>
<p>In the following section, participants will have the opportunity to experiment with the <strong>watsonx Code Assistant</strong> (<strong>WCA</strong>) service set up in the <a href="https://ibm.github.io/wca-l4/saas/1/" target="_blank"><strong>IBM Cloud (SaaS) Configuration module</strong></a>.</p>
<ul>
<li>Using the <strong>Chat</strong> feature, which can be accessed via the WCA extension for Visual Studio Code (VS Code), you will first ask WCA convert the original <em>WebSphere Application Service (WCA)</em> code into a modernized equivalent for <em>WebSphere Liberty</em>.</li>
<li>The lab guide documentation will then walk you through an analysis of the WCA-generated Liberty code and compare that to the best-practice Liberty code discussed previously in <strong>iii. Liberty modernized code</strong>.</li>
<li>After comparing the two approaches to Liberty modernization, you will have the opportunity to continue tinkering with the WCA Chat service. Experimentation is encouraged. Try influencing WCA's generative AI recommendations by making further prompts or inquiries into the code responses it generates.</li>
</ul>
<p>When satisfied, you may proceed onwards to the next module.</p>
<hr />
<ol>
<li><strong>Log in</strong> to the <a href="https://ibm.github.io/wca-l4/saas/3/#iii-install-the-extension" target="_blank"><strong>WCA extension with VS Code</strong></a>. Once authenticated, proceed to Step 2.</li>
</ol>
<hr />
<ol start="2">
<li>
<p>From the left taskbar, ensure that <strong>watsonx Code Assistant</strong><sup>[A]</sup> extension is selected.</p>
<p>Within the <strong>Chat Session</strong> window, <strong>click</strong> on the <code>Enter / for commands</code> prompt<sup>[B]</sup> as shown.</p>
<p></br>
<a class="glightbox" href="../_attachments/appmod-2.2.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../_attachments/appmod-2.2.png" /></a></p>
</li>
</ol>
<hr />
<ol start="3">
<li>
<p>Prime the service to be ready to intake legacy WAS code and modernize that into Liberty code. As a suggestion, <strong>copy</strong> the following prompt, <strong>paste</strong> it into the chat window, and hit <span class="keys"><kbd class="key-enter">Enter</kbd></span> to execute the modernization request:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>I need to modernize code written for WebSphere Application Server into WebSphere Liberty. Can you help?
</code></pre></div>
<div class="admonition warning">
<p><strong>TIP:</strong> You can increase the width of the Chat Session window by clicking and dragging the right-side of the window frame and pulling it towards the right of the screen.</p>
</div>
</li>
</ol>
<hr />
<ol start="4">
<li>
<p>Now that WCA is primed to receive WAS code, <strong>copy and paste</strong> the following code block into the <strong>Chat Session</strong>, then <span class="keys"><kbd class="key-enter">Enter</kbd></span> to execute.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:1"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">WEBSPHERE APPLICATION SERVER</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-4-10">10</a></span>
<span class="normal"><a href="#__codelineno-4-11">11</a></span>
<span class="normal"><a href="#__codelineno-4-12">12</a></span>
<span class="normal"><a href="#__codelineno-4-13">13</a></span>
<span class="normal"><a href="#__codelineno-4-14">14</a></span>
<span class="normal"><a href="#__codelineno-4-15">15</a></span>
<span class="normal"><a href="#__codelineno-4-16">16</a></span>
<span class="normal"><a href="#__codelineno-4-17">17</a></span>
<span class="normal"><a href="#__codelineno-4-18">18</a></span>
<span class="normal"><a href="#__codelineno-4-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="cm">&lt;!-- ejb-jar.xml --&gt;</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="nt">&lt;message-driven&gt;</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a>    <span class="nt">&lt;ejb-name&gt;</span>LegacyMDB<span class="nt">&lt;/ejb-name&gt;</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a>    <span class="nt">&lt;ejb-class&gt;</span>com.lariat.messaging.LegacyMDB<span class="nt">&lt;/ejb-class&gt;</span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a>    <span class="nt">&lt;transaction-type&gt;</span>Container<span class="nt">&lt;/transaction-type&gt;</span>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a>    <span class="nt">&lt;message-driven-destination&gt;</span>
<a id="__codelineno-4-7" name="__codelineno-4-7"></a>        <span class="nt">&lt;destination-type&gt;</span>javax.jms.Queue<span class="nt">&lt;/destination-type&gt;</span>
<a id="__codelineno-4-8" name="__codelineno-4-8"></a>    <span class="nt">&lt;/message-driven-destination&gt;</span>
<a id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="nt">&lt;/message-driven&gt;</span>
<a id="__codelineno-4-10" name="__codelineno-4-10"></a>
<a id="__codelineno-4-11" name="__codelineno-4-11"></a><span class="cm">&lt;!-- ibm-ejb-jar-bnd.xml --&gt;</span>
<a id="__codelineno-4-12" name="__codelineno-4-12"></a><span class="nt">&lt;message-driven</span> <span class="na">name=</span><span class="s">&quot;LegacyMDB&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-4-13" name="__codelineno-4-13"></a>    <span class="nt">&lt;activation-config&gt;</span>
<a id="__codelineno-4-14" name="__codelineno-4-14"></a>        <span class="nt">&lt;activation-config-property&gt;</span>
<a id="__codelineno-4-15" name="__codelineno-4-15"></a>            <span class="nt">&lt;activation-config-property-name&gt;</span>destination<span class="nt">&lt;/activation-config-property-name&gt;</span>
<a id="__codelineno-4-16" name="__codelineno-4-16"></a>            <span class="nt">&lt;activation-config-property-value&gt;</span>jms/legacyQueue<span class="nt">&lt;/activation-config-property-value&gt;</span>
<a id="__codelineno-4-17" name="__codelineno-4-17"></a>        <span class="nt">&lt;/activation-config-property&gt;</span>
<a id="__codelineno-4-18" name="__codelineno-4-18"></a>    <span class="nt">&lt;/activation-config&gt;</span>
<a id="__codelineno-4-19" name="__codelineno-4-19"></a><span class="nt">&lt;/message-driven&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
</li>
</ol>
<hr />
<ol start="5">
<li>
<p>After a few moments, WCA will return a combination of code blocks and explanations to the Chat session console. Cycle through the tab(s) below to examine the <strong>modernized, WCA-generated Liberty code</strong>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">WCA LIBERTY <code>ejb-jar.xml</code> Part 1</label><label for="__tabbed_4_2">WCA LIBERTY <code>ejb-jar.xml</code> Part 2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-5-10">10</a></span>
<span class="normal"><a href="#__codelineno-5-11">11</a></span>
<span class="normal"><a href="#__codelineno-5-12">12</a></span>
<span class="normal"><a href="#__codelineno-5-13">13</a></span>
<span class="normal"><a href="#__codelineno-5-14">14</a></span>
<span class="normal"><a href="#__codelineno-5-15">15</a></span>
<span class="normal"><a href="#__codelineno-5-16">16</a></span>
<span class="normal"><a href="#__codelineno-5-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="nt">&lt;ejb-jar</span> <span class="na">xmlns=</span><span class="s">&quot;http://java.sun.com/xml/ns/javaee&quot;</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/ejb-jar_3_1.xsd&quot;</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="na">version=</span><span class="s">&quot;3.1&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a>    <span class="nt">&lt;enterprise-beans&gt;</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a>        <span class="nt">&lt;message-driven&gt;</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a>            <span class="nt">&lt;ejb-name&gt;</span>LegacyMDB<span class="nt">&lt;/ejb-name&gt;</span>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a>            <span class="nt">&lt;ejb-class&gt;</span>com.lariat.messaging.LegacyMDB<span class="nt">&lt;/ejb-class&gt;</span>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a>            <span class="nt">&lt;transaction-type&gt;</span>Container<span class="nt">&lt;/transaction-type&gt;</span>
<a id="__codelineno-5-11" name="__codelineno-5-11"></a>            <span class="nt">&lt;message-driven-destination&gt;</span>
<a id="__codelineno-5-12" name="__codelineno-5-12"></a>                <span class="nt">&lt;destination-type&gt;</span>javax.jms.Queue<span class="nt">&lt;/destination-type&gt;</span>
<a id="__codelineno-5-13" name="__codelineno-5-13"></a>                <span class="nt">&lt;destination-jndi-name&gt;</span>jms/legacyQueue<span class="nt">&lt;/destination-jndi-name&gt;</span>
<a id="__codelineno-5-14" name="__codelineno-5-14"></a>            <span class="nt">&lt;/message-driven-destination&gt;</span>
<a id="__codelineno-5-15" name="__codelineno-5-15"></a>        <span class="nt">&lt;/message-driven&gt;</span>
<a id="__codelineno-5-16" name="__codelineno-5-16"></a>    <span class="nt">&lt;/enterprise-beans&gt;</span>
<a id="__codelineno-5-17" name="__codelineno-5-17"></a><span class="nt">&lt;/ejb-jar&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-6-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-6-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-6-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-6-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-6-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-6-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-6-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-6-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-6-10">10</a></span>
<span class="normal"><a href="#__codelineno-6-11">11</a></span>
<span class="normal"><a href="#__codelineno-6-12">12</a></span>
<span class="normal"><a href="#__codelineno-6-13">13</a></span>
<span class="normal"><a href="#__codelineno-6-14">14</a></span>
<span class="normal"><a href="#__codelineno-6-15">15</a></span>
<span class="normal"><a href="#__codelineno-6-16">16</a></span>
<span class="normal"><a href="#__codelineno-6-17">17</a></span>
<span class="normal"><a href="#__codelineno-6-18">18</a></span>
<span class="normal"><a href="#__codelineno-6-19">19</a></span>
<span class="normal"><a href="#__codelineno-6-20">20</a></span>
<span class="normal"><a href="#__codelineno-6-21">21</a></span>
<span class="normal"><a href="#__codelineno-6-22">22</a></span>
<span class="normal"><a href="#__codelineno-6-23">23</a></span>
<span class="normal"><a href="#__codelineno-6-24">24</a></span>
<span class="normal"><a href="#__codelineno-6-25">25</a></span>
<span class="normal"><a href="#__codelineno-6-26">26</a></span>
<span class="normal"><a href="#__codelineno-6-27">27</a></span>
<span class="normal"><a href="#__codelineno-6-28">28</a></span>
<span class="normal"><a href="#__codelineno-6-29">29</a></span>
<span class="normal"><a href="#__codelineno-6-30">30</a></span>
<span class="normal"><a href="#__codelineno-6-31">31</a></span>
<span class="normal"><a href="#__codelineno-6-32">32</a></span>
<span class="normal"><a href="#__codelineno-6-33">33</a></span>
<span class="normal"><a href="#__codelineno-6-34">34</a></span>
<span class="normal"><a href="#__codelineno-6-35">35</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.annotation.Resource</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.jms.JMSException</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.jms.Message</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.jms.MessageListener</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.jms.Queue</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.jms.QueueConnection</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.jms.QueueReceiver</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.jms.QueueSender</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-9" name="__codelineno-6-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.jms.Session</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-10" name="__codelineno-6-10"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.naming.InitialContext</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-11" name="__codelineno-6-11"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.naming.NamingException</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-12" name="__codelineno-6-12"></a>
<a id="__codelineno-6-13" name="__codelineno-6-13"></a><span class="nd">@MessageDriven</span><span class="p">(</span><span class="w"></span>
<a id="__codelineno-6-14" name="__codelineno-6-14"></a><span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;LegacyMDB&quot;</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-6-15" name="__codelineno-6-15"></a><span class="w">    </span><span class="n">activationConfig</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-6-16" name="__codelineno-6-16"></a><span class="w">        </span><span class="nd">@ActivationConfigProperty</span><span class="p">(</span><span class="n">propertyName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;destination&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">propertyValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;jms/legacyQueue&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-6-17" name="__codelineno-6-17"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-6-18" name="__codelineno-6-18"></a><span class="p">)</span><span class="w"></span>
<a id="__codelineno-6-19" name="__codelineno-6-19"></a>
<a id="__codelineno-6-20" name="__codelineno-6-20"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">LegacyMDB</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">MessageListener</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-6-21" name="__codelineno-6-21"></a><span class="w">    </span><span class="nd">@Resource</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;jms/legacyQueue&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-6-22" name="__codelineno-6-22"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Queue</span><span class="w"> </span><span class="n">queue</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-23" name="__codelineno-6-23"></a>
<a id="__codelineno-6-24" name="__codelineno-6-24"></a><span class="w">    </span><span class="nd">@Resource</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;jms/JmsConnectionFactory&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-6-25" name="__codelineno-6-25"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">QueueConnectionFactory</span><span class="w"> </span><span class="n">connectionFactory</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-26" name="__codelineno-6-26"></a>
<a id="__codelineno-6-27" name="__codelineno-6-27"></a><span class="w">    </span><span class="nd">@Resource</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;jms/JmsXA&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-6-28" name="__codelineno-6-28"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">InitialContext</span><span class="w"> </span><span class="n">initialContext</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-6-29" name="__codelineno-6-29"></a>
<a id="__codelineno-6-30" name="__codelineno-6-30"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onMessage</span><span class="p">(</span><span class="n">Message</span><span class="w"> </span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-6-31" name="__codelineno-6-31"></a><span class="w">        </span><span class="c1">// Your message processing logic here</span><span class="w"></span>
<a id="__codelineno-6-32" name="__codelineno-6-32"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-6-33" name="__codelineno-6-33"></a>
<a id="__codelineno-6-34" name="__codelineno-6-34"></a><span class="w">    </span><span class="c1">// Other methods for sending messages, if needed</span><span class="w"></span>
<a id="__codelineno-6-35" name="__codelineno-6-35"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
</li>
</ol>
<hr />
<ol start="6">
<li>
<p><strong>Explicit transaction control</strong> is vital for systems that rely heavily on transactional integrity (such as banking, healthcare, order processing, and so on), so let's compare how Lariat and WCA's modernization efforts performed in this regard.</p>
<p></br>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="nd">@Resource</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;jms/JmsConnectionFactory&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="kd">private</span><span class="w"> </span><span class="n">QueueConnectionFactory</span><span class="w"> </span><span class="n">connectionFactory</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="nd">@Resource</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;jms/JmsXA&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="kd">private</span><span class="w"> </span><span class="n">InitialContext</span><span class="w"> </span><span class="n">initialContext</span><span class="p">;</span><span class="w"></span>
</code></pre></div></p>
<p></br>
By injecting a <code>QueueConnectionFactory</code> and <code>InitialContext</code>, WCA allows developers to exact a high degree of control over the JMS lifecycle. For real-world enterprise operations, redundancy and explicit design can provide safety for production environments (as well as protection against misdeployments.)</p>
</li>
</ol>
<hr />
<ol start="7">
<li>
<p>For many enterprises with <strong>continuous integration and continuous delivery</strong> (<strong>CI/CD</strong>) requirements, a Liberty codebase that uses an "<code>application code</code> + <code>server.xml</code>" approach may hamper those CI/CD pipelines. This is also true for enterprise organizations that might use runtime orchestration tools to override configurations with deployment descriptors. Let's compare the two solutions against this scenario.</p>
<p></br>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nt">&lt;ejb-jar</span> <span class="na">xmlns=</span><span class="s">&quot;http://java.sun.com/xml/ns/javaee&quot;</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/ejb-jar_3_1.xsd&quot;</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="na">version=</span><span class="s">&quot;3.1&quot;</span><span class="nt">&gt;</span>
</code></pre></div></p>
<p></br>
WCA's invocation of <code>ejb-jar.xml</code> enables declarative binding for legacy JMS destinations, providing a degree of backwards compatibility to other legacy applications in the company's estate that isn't as easily achieved with Lariat's code.</p>
</li>
</ol>
<hr />
<h2 id="v-next-steps"><strong>v. Next steps</strong></h2>
<p>In the following module, participants will examine how to modernize legacy WebSphere Application Server code for security management.</p>




              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../5/" class="md-footer__link md-footer__link--prev" aria-label="Previous: 5. EJB modernization" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              5. EJB modernization
            </div>
          </div>
        </a>
      
      
        
        <a href="../7/" class="md-footer__link md-footer__link--next" aria-label="Next: 7. Security modernization" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              7. Security modernization
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 IBM
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "content.code.annotate", "content.code.copy", "content.code.select", "navigation.footer"], "search": "../../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.9c69f0bc.min.js"></script>
      
        <script src="../../js/print-site.js"></script>
      
        <script src="../../_static/hide-toc-nav.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>